<!DOCTYPE html>
<html lang="es">
  <head>
    <link
      rel="icon"
      href="../media/img/nota-adhesiva.png"
      type="image/x-icon"
    />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../style.css" />

    <title>Notas Django</title>
  </head>
  <body>
    <nav>
      <ul>
        <li><a href="../home.html">Principal</a></li>
      </ul>
    </nav>
    <h1 id="inicio" style="color: black">Curso Django de AlgoriSoft</h1>
    <p class="nota">
      <b>NOTA:</b> Ir viendo los videos acorde como leen mis anotaciones, que
      son de apoyo
    </p>
    <h2 style="color: black">Contenido</h2>
    <details class="details-indice">
      <summary><span class="btn btn-outline-secondary rounded p-1 text-white">Indice</span></summary>
      <div class="indice">
        <div>
          <ul>
            <li>
              <a href="#video-5"
                >Video 5: Crear proyecto de Django con el CMD</a
              >
            </li>
            <li>
              <a href="#video-7"
                >Video 7: Configurando la base de datos MySQL</a
              >
            </li>
            <li><a href="#video-8">Video 8: Modelos | Parte I</a></li>
            <li><a href="#video-9">Video 9: Modelos | Parte II</a></li>
            <li><a href="#video-10">Video 10: ORM | Parte I</a></li>
            <li><a href="#video-11">Video 11: ORM II</a></li>
            <li>
              <a href="#video-12">Video 12: Git | Control de versiones</a>
            </li>
            <li>
              <a href="#video-13"
                >Video 13: Panel de administrador | SuperUser</a
              >
            </li>
            <li>
              <a href="#video-14">Video 14: Configuración | Mi primera view</a>
            </li>
            <li><a href="#video-15">Video 15: Templates | Parte I</a></li>
            <li><a href="#video-16">Video 16: Templates | Parte II</a></li>
            <li>
              <a href="#video-17"
                >Video 17: Archivos estáticos | Configuración</a
              >
            </li>
            <li>
              <a href="#video-18"
                >Video 18: Templates | integrando la plantilla adminLTE3</a
              >
            </li>
            <li>
              <a href="#video-19"
                >Video 19: Creando nuestro primer listado en Django</a
              >
            </li>
            <li>
              <a href="#video-20"
                >Video 20: ListView | Vistas basadas en clases</a
              >
            </li>
            <li>
              <a href="#video-21"
                >Video 21: ListView | implementando datatables</a
              >
            </li>
            <li>
              <a href="#video-22"
                >Video 22: Sobreescritura del método dispatch | Vistas basadas
                en clases</a
              >
            </li>
            <li>
              <a href="#video-23"
                >Video 23: Implementando decoradores | Vistas basadas en
                clases</a
              >
            </li>
            <li>
              <a href="#video-24"
                >Video 24: Sobreescritura del método post | vistas basadas en
                clases</a
              >
            </li>
            <li>
              <a href="#video-25"
                >Video 25: Ajax basico | post | vistas basadas en clases
              </a>
            </li>
            <li>
              <a href="#video-26"
                >Video 26: CreateView | Creando nuestro primer formulario |
                parte I</a
              >
            </li>
     
       

      
        
            <li>
              <a href="#video-27"
                >Video 27: CreateView | personalizando nuestro formulario |
                parte II</a
              >
            </li>
            <li>
              <a href="#video-28"
                >Video 28: CreateView | Validaciones en nuestro formulario |
                Parte III</a
              >
            </li>
            <li>
              <a href="#video-29"
                >Video 29: CreateView | Implementando ajax para el envío de
                datos</a
              >
            </li>
            <li>
              <a href="#video-30"
                >Video 30: UpdateView | Editando un registro</a
              >
            </li>
            <li>
              <a href="#video-31"
                >Video 31: DeleteView | Eliminando un registro</a
              >
            </li>
            <li>
              <a href="#video-32"
                >Video 32: DeleteView | Implementando ajax para el eliminar un
                registro</a
              >
            </li>
            <li>
              <a href="#video-33"
                >Video 33: ListView | Cargar datos en mi tabla con ajax y
                datatable</a
              >
            </li>
            <li>
              <a href="#video-34">Videos 34: Puliendo nuestro proyecto</a>
            </li>
            <li>
              <a href="#video-35"
                >Videos 35: TemplateView | Creando nuestro index</a
              >
            </li>
            <li>
              <a href="#video-36"
                >Videos 36: FormView | Vistas basadas en clases</a
              >
            </li>
            <li>
              <a href="#video-37"
                >Videos 37: LoginView | Vistas basadas en clases</a
              >
            </li>
            <li>
              <a href="#video-38">Videos 38: FormView | Inicio de sesión</a>
            </li>
            <li>
              <a href="#video-39"
                >Videos 39: LogoutView | RedirectView | Vistas basadas en
                clases</a
              >
            </li>
            <li>
              <a href="#video-40"
                >Videos 40: Validando nuestras vistas (login_required, next,
                LOGIN_URL)</a
              >
            </li>
            <li>
              <a href="#video-41"
                >Videos 41: Implementando alertas en nuestro formulario con
                jquery-confirm</a
              >
            </li>
            <li><a href="#video-42">Videos 42: Media Files | Parte I</a></li>
            <li>
              <a href="#video-43">Videos 43: Media Files con ajax | Parte II</a>
            </li>
            <li><a href="#video-44">Videos 44: Select anidados con ajax</a></li>
            <li>
              <a href="#video-45">Videos 45: Select anidados con select2</a>
            </li>
            <li>
              <a href="#video-46">Video 46: Personalizando la clase User</a>
            </li>
            <li><a href="#video-47">Video 47: Auditoria en mis modelos con django-crum</a></li>
            <li><a href="#video-48">Video 48: Modal | Creando un registro</a></li>
            <li><a href="#video-49">Video 49: Modal | Editando un registro</a></li>
          </ul>
        
        
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-5">
        <h2 class="titulo-videos">
          <i>Video 5</i>: Crear proyecto de Django con el CMD
        </h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=aYys7f6ulzE&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=5"
        >Link del video 5</a
      >
      <ul>
        <li>
          Abrir la terminal en VScode con ctrl + ñ o en la carpeta dar clic
          derecho y seleccionar <b>abrir en terminal</b>
        </li>
        <li>Crear un entorno virtual</li>
        <div class="codigo">
          <pre><code id="crear-entorno"> python -m venv env</code></pre>
          <button onclick="copiar('crear-entorno','1')" id="1">Copiar</button>
        </div>
        <li>Activar el entorno</li>
        <div class="codigo">
          <pre><code id="activar-entorno">env\Scripts\activate</code></pre>
          <button onclick="copiar('activar-entorno','2')" id="2">Copiar</button>
        </div>
        <li>Si se esta utilizando Git Bash, se activa asi</li>
        <div class="codigo">
          <pre><code id="activar-entorno-bash">source env/Scripts/activate</code></pre>
          <button onclick="copiar('activar-entorno-bash','3')" id="3">
            Copiar
          </button>
        </div>
        <li>Intalar Django</li>
        <div class="codigo">
          <pre><code id="instalar-django">pip install django</code></pre>
          <button onclick="copiar('instalar-django','4')" id="4">Copiar</button>
        </div>
        <li>Crear el proyecto a trabajar</li>
        <div class="codigo">
          <pre><code id="crear-proyecto">django-admin startproject app</code></pre>
          <button onclick="copiar('crear-proyecto','5')" id="5">Copiar</button>
        </div>
        <li>Entramos a la carpeta del proyecto</li>
        <div class="codigo">
          <pre><code id="entrar-app">cd app</code></pre>
          <button onclick="copiar('entrar-app','6')" id="6">Copiar</button>
        </div>
        <li>Ejecutamos el servidor</li>
        <div class="codigo">
          <pre><code id="ejecutar-servidor">python manage.py runserver</code></pre>
          <button onclick="copiar('ejecutar-servidor','7')" id="7">
            Copiar
          </button>
        </div>
      </ul>
      <h3>Configurar archivos para trabajar</h3>
      <ul>
        <li>
          Ponemos <b>config</b> a la carpeta donde estan los archivos
          principales (ejemplo: settings.py)
        </li>
        <div class="codigo">
          <pre><code>app/
  app/ #A esta carpeta le ponemos <i>config</i>
    settings.py
</code></pre>
        </div>

        <li>
          En el archivo asgi.py buscamos <b>app.settings</b> y lo cambiamos a
          <b>config.settings</b>
        </li>
        <div class="codigo">
          <pre><code>os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')
</code></pre>
        </div>
        <li>
          En el archivo <b>settings.py</b> buscamos la variable
          <b>ROOT_URLCONFIG</b> y ponemos <b>config.urls</b>
        </li>
        <div class="codigo">
          <pre><code>ROOT_URLCONF = 'config.urls'</code></pre>
        </div>
        <li>
          En el archivo <b>settings.py</b> buscamos la variable
          <b>WSGI_APPLICATION</b> y lo cambiamos a
          <b>config.wsgi.applications</b>
        </li>
        <div class="codigo">
          <pre><code>WSGI_APPLICATION = 'config.wsgi.application'</code></pre>
        </div>
        <li>
          En el archivo <b>settings.py</b> buscamos la variable
          <b>LANGUAGE_CODE</b> y lo cambiamos a <b>es-co</b>, pongo
          <b>co</b> porque hace referencia a <b>Colombia</b>
        </li>
        <div class="codigo">
          <pre><code>LANGUAGE_CODE = 'es-co'</code></pre>
        </div>
        <li>
          En el archivo <b>wsgi.py</b> buscamos <b>app.settings</b> y lo
          cambiamos por <b>config.settings</b>
        </li>
        <div class="codigo">
          <pre><code>os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')</code></pre>
        </div>
        <li>
          En el archivo <b>manage.py</b> de la carpeta <b>app</b>, buscamos
          <b>app.settings</b> y lo cambiamos por <b>config.settings</b>
        </li>
        <div class="codigo">
          <pre><code>app/
  config/
    settings.py
  manage.py #buscamos en este archivo

#modificamos esto que quede asi
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')
</code></pre>
        </div>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-7">
        <h2><i>Video 7</i>: Configurando la base de datos MySQL</h2>
      </summary>

      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=Ey59K7Nj7ZA&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=7"
        >Link del video 7</a
      >
      <ul>
        <li>
          En la terminal (con el entorno activo), instalamos el cliente de mysql
        </li>
        <div class="codigo">
          <pre><code id="mysqlclient">pip install mysqlclient</code></pre>
          <button onclick="copiar('mysqlclient','8')" id="8">Copiar</button>
        </div>
        <li>Crear un <b>archivo db.py</b> en la carpeta <b>config</b></li>
        <div class="codigo">
          <pre><code>app/
  config/
    #creamos el archivo db.py
</code></pre>
        </div>
        <li>
          Dentro del archivo <b>db.py</b> creamos una variable para crear la
          conexión a la base de datos, y tambien la configuración de sqlite3 por
          si se utiliza
        </li>
        <div class="codigo">
          <pre><code id="conexion-db">import os
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
SQLITE={
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': os.path.join(BASE_DIR, 'db/sqlite/db.sqlite3')
    }
}
MYSQL = {
  'default':{
  'ENGINE':'django.db.backends.mysql',
  'NAME':'db', #nombre de la base de datos
  'USER':'root',
  'PASSWORD':'root',
  'HOST':'127.0.0.1', #servidor local o también puede ser 'localhost'
  'PORT':'3306'
  }
}
</code></pre>
          <button onclick="copiar('conexion-db','9')" id="9">Copiar</button>
        </div>
        <li>
          En el archivo de configuración <b>settings.py</b> importamos la base
          de datos, modificando la variable <b>DATABASES</b>
        </li>
        <div class="codigo">
          <pre><code id="import-mysql-s">import config.db as db
DATABASES = db.MYSQL
</code></pre>
          <button onclick="copiar('import-mysql-s','10')" id="10">
            Copiar
          </button>
        </div>
        <p class="nota">
          <b>Nota:</b>Hay que crear la base de datos (en este caso, <b>db</b>)
          antes de aplicar las migraciones
        </p>
        <li>
          Ejecutar las migraciones, para migrar los modelos en la base de datos,
          tema que se conocerá más adelante
        </li>
        <div class="codigo">
          <pre><code id="ejecutar-migraciones">python manage.py migrate</code></pre>
          <button onclick="copiar('ejecutar-migraciones','11')" id="11">
            Copiar
          </button>
        </div>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-8">
        <h2><i>Video 8</i>: Modelos | Parte I</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=_6Rjhyz-FH8&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=8"
        >Link del video 8</a
      >
      <h3>Crear aplicación</h3>
      <ul>
        <li>
          Creo una carpeta <b>core</b> o como se quiera poner, dentro de la
          carpeta <b>app</b>
        </li>
        <div class="codigo">
          <pre><code>app/
  config/
    settings.py
  core/
</code></pre>
        </div>
        <li>
          Abro la terminal y entro en la carpeta <b>core</b> y creo la
          aplicación a trabajar, <b>../</b> significa que el archivo
          <b>manage.py</b> esta una carpeta más arriba y con <b>../</b> accedo a
          ella desde la carpeta
          <b>core</b>
        </li>
        <div class="codigo">
          <pre><code>cd core
python ../manage.py startapp erp #erp es el nombre de la app
</code></pre>
        </div>

        <p class="nota">
          <b>Nota:</b> En el archivo app.py de la carpeta de la app creada, en
          "name" debo ponerle el nombre de la carpeta que tiene mis apps, en
          este caso "core", entocen seria "core.erp"
        </p>
        <li>
          En el archivo <b>models.py</b> van los modelos de la base de datos
          <b>(las tablas)</b>
        </li>

        <li>Se importa <b>models</b></li>

        <div class="codigo">
          <pre><code id="import-models">from django.db import models</code></pre>
          <button onclick="copiar('import-models','12')" id="12">Copiar</button>
        </div>
        <li>Creando modelo y sus algunos atributos</li>
        <li>
          Creamos la clase hija de <b>models.Model</b> y creamos el atributo
          <b>name</b> el cuál va a ser de tipo varchar, y en Django es CharField
        </li>
        <div class="codigo">
          <pre><code id="clase-name">class tabla(models.Model):
  name = models.CharField(max_length=150,verbose_name='Nombre',default='Sin nombre')
</code></pre>
          <button onclick="copiar('clase-name','13')" id="13">Copiar</button>
        </div>
        <ul>
          <li>
            El <b>CharField</b> significa que va a ser de tipo <b>texto</b> y
            con <b>max_length</b> le indoco el maximo de caracteres a aceptar
          </li>
          <li>
            También esta <b>models.TextField</b>, a ese no es obligatorio poner
            el maximo de caracteres a aceptar
          </li>
          <li>
            El <b>verbose_name</b> es lo que va a aparecer a la vista del
            usuario, por ejemplo, el label del input cuando vaya a ingresar un
            dato que se vaya a guardar ahi, si no se le pone el
            <b>verbose_name</b> Django utilizara el nombre del atributo, en este
            caso, <b>nanme</b>
          </li>
          <li>Con <b>default</b> le indico un valor por defecto</li>
          <li>
            Con el atributo <b>unique=True</b> le digo que el valor va a ser
            unico, que no se puede ingresar otro igual a ese registro
          </li>
        </ul>
        <li>
          Creamos el atributo <b>date_joined</b> para guardar una fecha, en
          <b>default</b> ponemos la fecha actual con la libreria
          <b>datetime</b> pero primero la importamos para utilizarla, todas las
          librerias van al inicio del archivo
        </li>
        <div class="codigo">
          <pre><code id="date-joined-atri">from datetime import datetime
date_joined = models.DateField(default=datetime.now, verbose_name='Fecha')</code></pre>
          <button onclick="copiar('date-joined-atri','14')" id="14">
            Copiar
          </button>
        </div>
        <li>Algunos atributos de <b>models.DateField</b></li>
        <ul>
          <li>
            <b>auto_now = True</b> este atributo pondra automaticamente la fecha
            en la que se cree el registro o se actualice el registro
          </li>
          <li>
            <b>auto_now_add = True</b> este atributo pondra solo la fecha de
            creacion del registro
          </li>
        </ul>
        <li>
          Creamos el atributo <b>age</b> para almacenar una edad, en este caso,
          un número entero
        </li>
        <div class="codigo">
          <pre><code id="age-integer-models">age = models.IntegerField(default=0)</code></pre>
          <button onclick="copiar('age-integer-models','15')" id="15">
            Copiar
          </button>
        </div>
        <li>Algunos atributos de los números enteros</li>
        <ul>
          <li>
            <b>PositiveIntegerField()</b> para valores enteros pero solo
            positivos
          </li>
          <li>
            <b>NegativeIntegerField()</b> para valores enteros pero solo
            negativos
          </li>
        </ul>
        <li>
          Creamos el atributo <b>salary</b> para almacenar números decimales,
          como es para decimales, si le voy a poner un <b>default</b> debe ser
          <b>0.00</b>, los 2 ceros es según los decimales que le permita en el
          <b>decimal_places</b>, que con ese le digo cuantos decimales se
          permiten, y con <b>max_digits</b> le especifico el maximo de digitos
          del número a registrar, por ejemplo, si le puse 9 digitos maximos, el
          número más grande que recibe es 9999999.99, 7 a la izquierda del punto
          decimal y los 2 de la derecha que son los 2 de <b>decimal_places</b>
        </li>
        <div class="codigo">
          <pre><code id="salary-decimal">salary = models.DecimalField(default=0.00,max_digits=9,decimal_places=2)</code></pre>
          <button onclick="copiar('salary-decimal','16')" id="16">
            Copiar
          </button>
        </div>
        <li>
          Creamos el atributo <b>state</b> para almacenar un estado, el cúal
          será un <b>booleano (boolean)</b>
        </li>
        <div class="codigo">
          <pre><code id="state-boolean">state = models.BooleanField(default = True)</code></pre>
          <button onclick="copiar('state-boolean','17')" id="17">Copiar</button>
        </div>
        <li>
          Creamos el atributo <b>avatar</b> para guardar imagenes, en
          <b>upload_to</b> le digo en que carpeta la va a guardar, si no existe
          la creara, si le ponemos <b>/%Y/%m/%d</b> es para almacenarlos por
          fechas, si por ejemplo se sube una imagen el <b>10/02/2023</b>, Django
          creara una carpeta (dentro de MEDIA_ROOT/avatar), con el año actual
          (2023), luego dentro, una carpeta con el mes en que se subio la imagen
          (02), y luego una carpeta con el número del dia (10), y ahi almacenara
          la imagen, pero sin los <b>/%Y/%m/%d</b>, lo almacenara en la carpeta
          que le digamos en <b>upload_to</b>
        </li>
        <div class="codigo">
          <pre><code id="image-avatar">avatar = models.ImageField(upload_to = 'avatar/%Y/%m/%d')</code></pre>
          <button onclick="copiar('image-avatar','18')" id="18">Copiar</button>
        </div>
        <li>
          Creamos el atributo <b>cvitae</b> para almacenar un archivo
          cualquiera, con <b>null = True</b> le decimo que puede ser nulo con
          <b>blank = True</b> le decimo que puede estar vacio
        </li>
        <div class="codigo">
          <pre><code id="file-cvitae">cvitae = models.FileField(upload_to = 'cvitae',null = True, blank = True)</code></pre>
          <button onclick="copiar('file-cvitae','19')" id="19">Copiar</button>
        </div>
        <li>
          La función <b>__str___</b> es para mostrar una representacion del
          algún objeto de la clase o modelo, puede ser el nombre, categoria,
          etc, por ejemplo de la clase que estamos haciendo:
        </li>
        <div class="codigo">
          <pre><code id="def-str-models">def __str__(self):
  return f'El nombre: {self.name}'
</code></pre>
          <button onclick="copiar('def-str-models','20')" id="20">
            Copiar
          </button>
        </div>
        <li>
          La clase <b>Meta</b> dentro del modelo o clase es para definir
          diferentes datos
        </li>
        <ul>
          <li>
            El <b>verbose_name</b> es para el registro en singular (empleado, en
            este caso)
          </li>
          <li>
            El <b>verbose_name_plural</b> es para el registro en plural
            (empleados, en este caso)
          </li>
          <li>
            El <b>db_table</b> es para el nombre que se le va a poner en la base
            de datos, si no se le especifica, el pondra el nombre de de la app y
            luego la clase (erp_empleado en este caso)
          </li>
          <li>
            El <b>ordering</b> es para indicarle que columna (o atributo del
            modelo) se va a ordenar en la base de datos, si le pongo un
            <b>"-"</b> invertira el orden
          </li>
        </ul>
        <div class="codigo">
          <pre><code id="clase-meta">def Meta:
  verbose_name = 'empleado'
  verbose_name_plural = 'empleados'
  db_table = 'empleado'
  ordering = ['id'] #['-id']
</code></pre>
          <button onclick="copiar('clase-meta','21')" id="21">Copiar</button>
        </div>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-9">
        <h2><i>Video 9</i>: Modelos | Parte II</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=pgBn-M4Jrdo&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=9"
        >Link del video 9</a
      >
      <h3>Relacionar tablas</h3>
      <ul>
        <li>Creo las tablas a relacionar (1 a muchos)</li>
        <div class="codigo">
          <pre><code id="type-rela-1a1">class Type(models.Model):
  name=models.CharField(max_length=150,verbose_name='Nombre')

  #atributos
  #clase str
  #clase Meta
</code></pre>
          <button onclick="copiar('type-rela-1a1','22')" id="22">Copiar</button>
        </div>
        <li>
          En la clase que lleva la llave foranea, creamos el atributo
          <b>type</b> que va a hacer referencia a la clase/tabla anterior,
          utilizamos la clase <b>models.ForeignKey</b> y le pasamos el nombre de
          la clase la cual va a hacer relacion, y por obligacion toca pasarle el
          atributo <b>on_delete</b> donde le decimos que debe hacer si se llega
          a eliminar esa tabla <b>Type</b>
        </li>
        <div class="codigo">
          <pre><code id="clas-emple-rela">class Empleado(models.Model):
  type=models.ForeignKey(Type, on_delete=models.CASCADE)

  #atributos
  #clase str
  #clase Meta
</code></pre>
          <button onclick="copiar('clas-emple-rela','23')" id="23">
            Copiar
          </button>
        </div>
        <ul>
          <li>
            Con <b>CASCADE</b>, le digo que borre todos los registros que
            dependan de esa tabla o clase <b>(Type)</b>
          </li>
          <li>
            con <b>SET_NULL</b>, si lo voy a poner, debo agregar el atributo
            <b>null=True</b> despúes del <b>on_delete</b>, y asi, con el
            <b>SET_NULL</b> le digo que si se borra la tabla relacionada
            <b>(Type)</b>, todos los registros que dependian de esa clase, el
            valor se vuelva nulo
          </li>
          <li>
            con <b>PROTECT</b> mp deja borrar la otra tabla porque se necesita o
            la requiere otra tabla
          </li>
        </ul>
        <li>
          Creo tabla para relacionar muchos a muchos (m a m),creare una tabla
          Category la cual relacionare con Empleado
        </li>
        <div class="codigo">
          <pre><code id="class-cate-rela">class Category(models.Model):
  name=models.CharField(max_length=150,verbose_name='Categoria')
  
  #atributos
  #clase str
  #clase Meta</code></pre>
          <button onclick="copiar('class-cate-rela','24')" id="24">
            Copiar
          </button>
        </div>
        <li>
          Puedo poner el atributo <b>models.ManyToManyField</b> en cualquier de
          las 2 tablas a relacionar, lo pondre en el <b>Empleado</b>
        </li>
        <div class="codigo">
          <pre><code id="class-emple-many">class Empleado(models.Model):
  categ = models.ManyToManyField(Category)
            </code></pre>
          <button onclick="copiar('class-emple-many','25')" id="25">
            Copiar
          </button>
        </div>
        <li>
          Esto crea otra tabla con las 2 llaves foraneas de cada clase. Si a esa
          tabla que se creo se le quiere poner más atributos, entonces toca
          crear una clase para esa relacion, llamando cada clase con una llave
          foranea
        </li>
        <li>
          Si quiero una relación de uno a uno (1 a 1), utilizo el
          <b>models.OneToOneField</b> lo pongo en la clase que necesite y no
          olvidar poner el <b>on_delete</b>
        </li>
        <li>
          <b>NOTA:</b> Después de hacer un cambio en las clases/tablas siempre
          hacer los <b>makemigrations</b> y el <b>migrate</b> con
          <b>manage.py</b>
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-10">
        <h2><i>Video 10</i>: ORM | Parte I</h2>
      </summary>

      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=Box_Vlr4pMA&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=10"
        >Link del video 10</a
      >
      <ul>
        <li>Haremos la practica del <b>ORM</b> en el archivo <b>test.py</b></li>
        <li>Importar lo siguiente para errores previos</li>
        <div class="codigo">
          <pre><code id="errores-pre-test">from config.wsgi import *
#Para el problema de: django.core.exceptions.ImproperlyConfigured: Requested setting INSTALLED_APPS,
# but settings are not configured. You must either define the environment variable DJANGO_SETTINGS_MODULE or call settings.
# configure() before accessing settings.</code></pre>
          <button onclick="copiar('errores-pre-test','26')" id="26">
            Copiar
          </button>
        </div>
        <li>
          Si les sale el siguiente error, tienen que modificar o crear la
          variable de entorno PYTHONPATH y ponerla su valor, la ruta de la
          carpeta principal del proyecto (la que contiene todo el proyecto), se
          hace con los siguientes pasos
        </li>
        <div class="codigo">
          <pre><code>Traceback (most recent call last):
File "f:\programacion\Proyectos\AdminTrading\Online\Django\app\core\list_ope\tests.py", line 3, in &lt;module&gt;
from core.list_ope.models import *
ModuleNotFoundError: No module named 'core.list_ope'</code></pre>
        </div>
        <ul>
          <li>
            En el buscador, buscamos y abrimos "editar las variables de entono
            del sistema"
          </li>
          <li>Le damos clic en "variables de entorno..."</li>
          <li>
            En la primera tabla de arriba, buscamos <b>PYTHONPATH</b>, lo
            creamos, y si esta creada, la seleccionamos y le damos clic en
            "Editar..."
          </li>
          <li>Le damos clic en "Examinar directorio..."</li>
          <li>
            Buscamos la carpeta que contiene el proyecto, en mi caso <b>app</b>,
            la seleccionamos, le damos en aceptar en todo
          </li>
          <li>
            Luego, en VScode, guardamos lo que tengamos y luego cerramos y
            volvemos a abrir y funcióna normal
          </li>
        </ul>
        <li>
          Importamos los modelos, <b>core.erp</b> son las carpetas donde esta mi
          app, e importamos todo <b>(import *)</b>
        </li>
        <div class="codigo">
          <pre><code id="import-models-test">from core.erp.models import *</code></pre>
          <button onclick="copiar('import-models-test','27')" id="27">
            Copiar
          </button>
        </div>
        <li>
          Consultar todo de una tabla, con esa función traigo todo lo de esa
          clase/tabla <b>Type</b>, lo guardo en una variable y puedo imprimirlo
        </li>
        <div class="codigo">
          <pre><code id="type-object-all">query = Type.objects.all()
print(query)
</code></pre>
          <button onclick="copiar('type-object-all','28')" id="28">
            Copiar
          </button>
        </div>
        <li><b>Insertar datos</b>, se puede de varias formas</li>
        <li>
          Inicializamos un objeto (registro) de la clase a utilizar, accedemos
          al atributo a agregar y ponemos el valor que vayamos a ingresar y
          luego guardamos
        </li>
        <div class="codigo">
          <pre><code id="guardar-valor-orm">tipe = Type()
tipe.nombreAtributo = 'Hola mundo (valor a guardar)'
tipe.save()

#Otra forma
tipe = Type(atributo='Valor')
tipe.save()

#Otra forma
tipe = Type(atributo='Valor').save()
</code></pre>
          <button onclick="copiar('guardar-valor-orm','29')" id="29">
            Copiar
          </button>
        </div>
        <li>
          <b>Insertar datos con llave foranea</b>, creamos el registro/objeto de
          la clase/tabla, y agregamos el atributo que es una clase foranea, como
          es una clase foranea, llamamos a la clase a la cual esta relacionada y
          le pasamos el id del "tipo" al cual va a perteneces el "empleado",
          suponiendo que <b>Type</b> ya tiene algunos registros
        </li>
        <div class="codigo">
          <pre><code id="insert-foranea-regi">empleado = Empleado()
empleado.type = Type(id=1)
</code></pre>
          <button onclick="copiar('insert-foranea-regi','30')" id="30">
            Copiar
          </button>
        </div>
        <li>
          <b>Actualizar datos</b>, obtengo el registro a modificar,
          <b>pk</b> hace referencia a la llave primaria o puede ser <b>id</b>,
          si es que no le pusimos un nombre propio al id de cada registro,
          Django le pondra <b>id</b>. Ya con el valor obtenido, accedemos al
          atributo a modificar y guardamos
        </li>
        <div class="codigo">
          <pre><code id="actu-tipe">tipe = Type.objects.get(pk=1)
tipe.name = 'valor nuevo'
tipe.save()
</code></pre>
          <button onclick="copiar('actu-tipe','31')" id="31">Copiar</button>
        </div>
        <li>
          <b>Eliminar datos</b>, obtenemos el registro a eliminar, y eliminamos
          con <b>delete()</b>
        </li>
        <div class="codigo">
          <pre><code id="delete-regis">tipe = Type.objects.get(pk=1)
tipe.delete()
          </code></pre>
          <button onclick="copiar('delete-regis','32')" id="32">Copiar</button>
        </div>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-11">
        <h2><i>Video 11</i>: ORM II</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=4Pep_Yy2DNU&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=11"
        >Link del video 11</a
      >
      <ul>
        <li>
          Con el <b>filter()</b> podemos realizar consultas personalizadas, sin
          parametros, trae todos los registros, creamos una variable para
          guardar lo consultado
        </li>
        <div class="codigo">
          <pre><code id="filter-sintax">obj = Type.objects.filter()</code></pre>
          <button onclick="copiar('filter-sintax','33')" id="33">Copiar</button>
        </div>
        <li>
          Algunos filtros, se ponen dentro del los paréntesis del <b>filter(</b
          ><i>aqui</i><b>)</b>, en la documentacion puedo leer que más formas de
          aplicar filtros hay
        </li>
        <li>
          <b>name__</b>: es el nombre de la columna por la cual se va a filtrar
        </li>
        <li>
          Después de la busqueda, puedo accerder a los resultados, de la misma
          forma como hacedo a los valores de un arreglo, y como se obtienen como
          objetos, con el <b>"."</b> accedo a los valores de los registros
          extraidos, o aplicando un for
        </li>
        <div class="codigo">
          <pre><code id="traer-filter-punto">obj[0].id #Para acceder al id
obj[0].name #para acceder al nombre, en este caso, esto seria del primer registro, del segundo registro, [1] y demás.
#for 
for i in obj:
  print(f'ID: {i.id} / Name: {i.name}')
          </code></pre>
          <button onclick="copiar('traer-filter-punto','34')" id="34">
            Copiar
          </button>
        </div>
        <li>Filtros:</li>
        <ul>
          <li>
            <b>name__contains='pr'</b> - Trae los registros que por la columna
            <b>name</b> contengan <b>pr</b>
          </li>
          <li>
            <b>name__startswith='pre'</b> - Trae los valores que inicien con
            <b>pre</b> en este ejemplo
          </li>
          <li>
            <b>name__endswith='a'</b> - Trae los valores que terminen con
            <b>a</b>
          </li>
          <li>
            <b>name__exact='hola'</b> - Trae todos los valores que sean
            exactamente igual a <b>hola</b>
          </li>
          <li>
            <b>name__iexact='hola'</b> - Hace lo mismo que <b>exact</b> pero
            ignora si es mayuscula o minuscula
          </li>
          <li>
            <b>name__in=['hola','viva']</b> - Trae todos los registros que
            contengan <b>hola</b> o <b>viva</b>, independientemente que tenga
            mayusculas o minusculas
          </li>
          <li>
            <b>filter().exclude(pk=1)</b> - Con <b>exclude</b> puedo excluir
            registros que no quiera, en este caso, excluyo el registro que tenga
            el <b>id</b> (que es la llave primaria <b>pk</b>)
          </li>
          <li><b>filter().count()</b> - Me muestra cuantos registros trajo</li>
          <li>
            <b>filter().order_by('nombreColumna')</b> - Me muestra de forma
            ordenada (A-Z) los registros, si le pongo un "-", los ordena de
            forma (Z-A), y aplica los mismo para las columnas con números, de
            forma ascendente o de forma descendente si se le antepone el "-"
          </li>
        </ul>
        <li>
          Con el <b>query</b> me retorna la consulta en el lenguaje <b>sql</b>,
          varia dependiendo de la base de datos
        </li>
        <div class="codigo">
          <pre><code id="query-sintax">Type.objects.filter().query</code></pre>
          <button onclick="copiar('query-sintax','35')" id="35">Copiar</button>
        </div>
        <li>
          Con esta consulta, para este ejemplo, me traeria todos los registros
          que sean de esa llave foranea o dependan de ese id, en la otra tabla
          la cual este relacionada. En este ejemplo, me traera todos los
          empleados que sean de tipo 1, debe poner exacatamente el nombre de la
          variable la cual en el modelo tenga la llave foranea
        </li>
        <div class="codigo">
          <pre><code id="filter-rela-type">Empleado.objects.filter(Type_id=1)</code></pre>
          <button onclick="copiar('filter-rela-type','36')" id="36">
            Copiar
          </button>
        </div>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-12">
        <h2><i>Video 12</i>: Git | Control de versiones</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=O_dD0oTNFSE&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=12"
        >Link del video 12</a
      >
      <ul>
        <li>Registrar tú PC, por clave <b>ssh</b> a tu repositorio personal</li>
        <ul>
          <li>
            Saco mi clave <b>ssh</b>, en la terminal de <b>Git Bash</b>, se le
            da todo <b>enter</b> y <b>Yes</b> en la confirmación
          </li>
          <div class="codigo">
            <pre><code id="ssh-key-bash">ssh-keygen -t rsa -b 4096</code></pre>
            <button onclick="copiar('ssh-key-bash','37')" id="37">
              Copiar
            </button>
          </div>
          <li>Busco la clave y la copio</li>
          <div class="codigo">
            <pre><code id="cat-ssh-key">cat ~/.ssh/id_rsa.pub</code></pre>
            <button onclick="copiar('cat-ssh-key','38')" id="38">Copiar</button>
          </div>
        </ul>
        <li>Pasos para poner la key <b>ssh</b> en GitHub</li>
        <ul>
          <li>
            En <b>settings</b> de la cuenta de GitHub, busco
            <b>SSH and GPG keys</b>
          </li>
          <li>
            Agrego la clave <b>ssh</b>, en <b>New SSH key</b>, le pongo un
            titulo y pego la clave en <b>Key</b>, y luego clic en
            <b>Add SSH key</b>
          </li>
        </ul>
        <li>
          Creo el repositorio en <b>GitHub</b>, con el <b>README.md</b>, y el
          <b>.gitignore</b> de python, para que ignore el entorno (<b>env</b>) y
          luego lo clono en el PC (Personal) en la cual registre la clave
          <b>ssh</b>
        </li>
        <li>
          Agrego mis archivos ahi en el repositorio clonado pero sin el entorno
          (<b>env</b>)
        </li>
        <li>
          En la terminal de <b>Bash</b>, posicionado en la carpeta, aplico un
          <b>git add .</b>, para agregar todo, el <b>.gitignore</b> que creamos
          en el GitHub con la seleccion de python, no subira el entorno que
          creemos en el repositorio local, debe llamarse <b>env</b> si o si el
          entorno,para que git pueda ignorarlo al subirlo
        </li>
        <li>Realizo un <b>git commit -m "primer commit"</b></li>
        <li>
          Y luego un <b>git push origin main</b>, para que se suban los cambiosb
          agregados al repositorio remoto
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-13">
        <h2><i>Video 13</i>: Panel de administrador | SuperUser</h2>
      </summary>

      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=1l0blAsF_lM&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=13"
        >Link del video 13</a
      >
      <ul>
        <li>
          Ahora en adelante, en el curso se va a trabajar con los siguientes
          modelos para el proyecto final
        </li>
        <div class="codigo">
          <pre><code id="models-a-traba">from django.db import models
from datetime import datetime

gender_choices = (
    ('male','Masculino'),
    ('female','Femenino'),
)


class Category(models.Model):
    name = models.CharField(max_length=150, verbose_name='Nombre', unique=True)

    def __str__(self):
        return 'Nombre: {}'.format(self.name)

    class Meta:
        verbose_name = 'Categoria'
        verbose_name_plural = 'Categorias'
        ordering = ['id']


class Product(models.Model):
    name = models.CharField(max_length=150, verbose_name='Nombre', unique=True)
    cate = models.ForeignKey(Category, on_delete=models.CASCADE)
    image = models.ImageField(upload_to='product/%Y/%m/%d', null=True, blank=True)
    pvp = models.DecimalField(default=0.00, max_digits=9, decimal_places=2)

    def __str__(self):
        return self.name

    class Meta:
        verbose_name = 'Producto'
        verbose_name_plural = 'Productos'
        ordering = ['id']


class Client(models.Model):
    names = models.CharField(max_length=150, verbose_name='Nombres')
    surnames = models.CharField(max_length=150, verbose_name='Apellidos')
    dni = models.CharField(max_length=10, unique=True, verbose_name='Dni')
    birthday = models.DateField(default=datetime.now, verbose_name='Fecha de nacimiento')
    address = models.CharField(max_length=150, null=True, blank=True, verbose_name='Dirección')
    sexo = models.CharField(max_length=10, choices=gender_choices, default='male', verbose_name='Sexo')

    def __str__(self):
        return self.names

    class Meta:
        verbose_name = 'Cliente'
        verbose_name_plural = 'Clientes'
        ordering = ['id']


class Sale(models.Model):
    cli = models.ForeignKey(Client, on_delete=models.CASCADE)
    date_joined = models.DateField(default=datetime.now)
    subtotal = models.DecimalField(default=0.00, max_digits=9, decimal_places=2)
    iva = models.DecimalField(default=0.00, max_digits=9, decimal_places=2)
    total = models.DecimalField(default=0.00, max_digits=9, decimal_places=2)

    def __str__(self):
        return self.cli.names

    class Meta:
        verbose_name = 'Venta'
        verbose_name_plural = 'Ventas'
        ordering = ['id']


class DetSale(models.Model):
    sale = models.ForeignKey(Sale, on_delete=models.CASCADE)
    prod = models.ForeignKey(Product, on_delete=models.CASCADE)
    price = models.DecimalField(default=0.00, max_digits=9, decimal_places=2)
    cant = models.IntegerField(default=0)
    subtotal = models.DecimalField(default=0.00, max_digits=9, decimal_places=2)

    def __str__(self):
        return self.prod.name

    class Meta:
        verbose_name = 'Detalle de Venta'
        verbose_name_plural = 'Detalle de Ventas'
        ordering = ['id']</code></pre>
          <button onclick="copiar('models-a-traba','a1')" id="a1">
            Copiar
          </button>
        </div>
        <li>
          Con el <b>admin.py</b> de mi app, puedo hacer diferentes funciónes.
          Para ver el panel de administrador, primero debo haber hecho las
          migraciones, luego con el <b>manage.py</b> creo el super usuario
        </li>
        <div class="codigo">
          <pre><code id="create-super">python manage.py createsuperuser</code></pre>
          <button onclick="copiar('create-super','39')" id="39">Copiar</button>
        </div>
        <ul>
          <li>Escribo el nombre del usuario</li>
          <li>Correo</li>
          <li>Contraseña</li>
          <li>Confirmar contraseña</li>
          <li>ponen la: <b>Y</b>,que es de <b>YES</b></li>
        </ul>
        <li>
          En la tabla <b>auth_user</b> de la base de datos, se vera el usuario y
          la contraseña encriptada
        </li>
        <li>Para entrar al panel del administrador, ejecuto el servidor</li>
        <div class="codigo">
          <pre><code id="run-server">python manage.py runserver</code></pre>
          <button onclick="copiar('run-server','40')" id="40">Copiar</button>
        </div>
        <li>
          Y en la barra de direcciones le agrego el <b>/admin</b>, abrira en el
          puerto <b>8000</b> normalmente, entones para entrar al administrador,
          deberia ser asi: <b>https://127.0.0.1:8000/admin/</b>
        </li>
        <li>
          En el <b>admin.py</b> de mi app, importo mis modelos, le pongo el
          <b>core</b>, porque yo guarde todas mis apps dentro de la carpeta
          <b>core</b>
        </li>
        <div class="codigo">
          <pre><code id="import-models-admin">from import core.erp.models import *</code></pre>
          <button onclick="copiar('import-models-admin','50')" id="50">
            Copiar
          </button>
        </div>
        <li>
          Registro los modelos o modelo que quiera ver o administrar desde el
          panel de administrador, en este caso, pondre el de las categorias
        </li>
        <div class="codigo">
          <pre><code id="category-regi-admin">admin.site.register(Category)</code></pre>
          <button onclick="copiar('category-regi-admin','51')" id="51">
            Copiar
          </button>
        </div>
        <li>
          Cuando inicie sesión en el login del admin, en el panel va a aparecer
          <b>Categorias</b>, porque es el <b>verbose_name_plural</b> que le
          pusimos, esa es una de las funciónes del <b>verbose_name_plural</b>
        </li>
        <li>
          Y el <b>__str__</b> sera lo que se vera como principal de cada
          registro, en este caso, de las categorias, si le puse en el
          <b>__str__</b> el nombr ey id,, aparecera eso como demostración
        </li>
        <li>
          El panel es bastante intuitivo, y se puede eliminar, agregar,
          modificar ver registros de los modelos que le registre en el
          <b>admin.py</b>, como también los usuarios, grupos y demás
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-14">
        <h2><i>Video 14</i>: Configuración | Mi primera view</h2>
      </summary>

      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=XmbqzmJuis0&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=14"
        >Link del video 14</a
      >
      <ul>
        <li>
          El el archivo <b>views.py</b> de mi app, voy a configurar mis vistas,
          las vistas deben retornar un <b>HttpResponse</b> siempre, ahora la
          crearemos como una función, más adelante se aprenderan otras formas
          para crear las vistas o <b>views</b>
        </li>
        <li>Importamos la clase <b>HttpResponse</b></li>
        <div class="codigo">
          <pre><code id="import-http">from django.http import HttpResponse</code></pre>
          <button onclick="copiar('import-http','52')" id="52">Copiar</button>
        </div>
        <li>
          Creamos la función, la cual retorna lo que queremos que se vea en el
          <b>html</b>
        </li>
        <div class="codigo">
          <pre><code id="def-pri-view">def miPrimeraVista(request):
  return HttpResponse('&lt;h1&gt;Mi primera vista&lt;/h1&gt;')

def vista2(request):
  return HttpResponse('&lt;h1&gt;Vista 2&lt;/h1&gt;')
</code></pre>
          <button onclick="copiar('def-pri-view','53')" id="53">Copiar</button>
        </div>
        <li>
          Agregamos la vista al archivo <b>urls.py</b> en la configuración,
          importo mis las vistas de mi app
        </li>
        <div class="codigo">
          <pre><code id="import-view-urls-c">from core.erp.views import *</code></pre>
          <button onclick="copiar('import-view-urls-c','54')" id="54">
            Copiar
          </button>
        </div>
        <li>
          En el <b>urlpatterns</b>, agregamos la vista o vistas de la siguiente
          forma, en el primer parametro del <b>path</b>, pongo entre comillas la
          url la cual le voy a poner la vista, siempre temina en "<b>/</b>", y
          en el segundo parametro, va a ir la función que va a mostrar lo que ya
          configuramos anteriormente, se pone sin paréntesis
        </li>
        <div class="codigo">
          <pre><code id="path-pri-view">urlpatterns = [
  path('primera/',miPrimeraVista)
]</code></pre>
          <button onclick="copiar('path-pri-view','55')" id="55">Copiar</button>
        </div>

        <li>
          También puedo crear un archivo <b>urls.py</b> dentro de mi app, para
          poner todas las vistas de esa app en un archivo <b>urls.py</b> y luego
          incluirlos en el <b>urls.py</b> de la configuración
        </li>
        <li>
          En el archivo creado, <b>urls.py</b> en la carpeta de mi app, import
          el <b>path</b> y mis vistas
        </li>
        <div class="codigo">
          <pre><code id="import-path-views-u">from django.urls import path
from core.erp.views import *
        </code></pre>
          <button onclick="copiar('import-path-views-u','56')" id="56">
            Copiar
          </button>
        </div>
        <li>Creo el <b>urlpatterns</b>, agregandole la vista o vistas</li>
        <div class="codigo">
          <pre><code id="ulr-uno-dos">urlpatterns = [
  path('uno/',miPrimeraVista),
  path('dos/',vista2)
]</code></pre>
          <button onclick="copiar('ulr-uno-dos','57')" id="57">Copiar</button>
        </div>
        <li>
          Puedo agregarlos a un link
          <b>('prueba/uno/','prueba/dos/'), de la siguiente forma</b>
        </li>
        <li>
          En el <b>urls.py</b> de la configuración, importo el <b>include</b>,
          que es parte también del <b>django.urls</b>, y con el include, dentro
          del <b>urlpatterns</b>, incluyo mi archivo <b>urls</b> de mi app, solo
          se le pone el nombre del archivo, no la extensión
        </li>
        <div class="codigo">
          <pre><code>
from django.ulrs import path,include

urlpatterns = [
  path('admin/', admin.site.urls),
  path('prueba/',include('core.erp.urls'))
]</code></pre>
        </div>
        <li>
          También se podia, importar las vistas con el <b>from</b>, y agregarlos
          al <b>path</b>, pero es mejor de la forma anterior para cuando estemos
          trabajando con varias apps en nuestro proyecto y tener el código de la
          mejor forma
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-15">
        <h2><i>Video 15</i>: Templates | Parte I</h2>
      </summary>

      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=S-8adY-Ocxo&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=15"
        >Link del video 15</a
      >
      <ul>
        <li>Los <b>template</b> son mis archivos <b>html</b> o plantillas</li>
        <li>Configurando mi primer <b>template</b></li>
        <ul>
          <li>
            AL mismo nivel de la carpeta de configuración, creo una carpeta con
            el nombre <b>templates</b>, ahi estaran mis archivos
            <b>html</b> principales
          </li>
          <div class="codigo">
            <pre><code>app/
  config/
    ...
    settings.py
    ...
  templates/
    Aqui hiran nuestros html</code></pre>
          </div>
          <li>
            En el archivo <b>settings.py</b> de la carpeta de configuración,
            importo la libreria de <b>os</b>, en la variable <b>TEMPLATES</b>,
            en la clave <b>DIRS</b>, con la libreria <b>os</b>, ponemos la
            direccion de nuestra carpeta <b>templates</b>
          </li>
          <div class="codigo">
            <pre><code id="import-os-templa">import os #al inicio del archivo
'DIRS': [os.path.join(BASE_DIR,'templates')],
            </code></pre>
            <button onclick="copiar('import-os-templa','58')" id="58">
              Copiar
            </button>
          </div>
          <li>
            <b>BASE_DIR</b> es la variable que tiene la ruta raiz del del
            proyecto, puedo ver su valor, con un <b>print(BASE_DIR)</b>
          </li>
        </ul>
        <li>
          Creamos un archivo <b>index.html</b> dentro de la carpeta
          <b>templates</b>, haciendole una estrcutura básica
        </li>
        <li>
          En el archivo <b>views.py</b> de nuestra app, en la función que
          creamos, utilizamos la función <b>render</b> para utilizar el
          <b>html</b>. La función, como siempre, debe recibir y retornar un
          <b>request</b>, la variable <b>data</b> va a contener valores que
          queramos mostrar en el html, en el cual desde ahi llamaremos ese
          valor, con una sintaxis, la cual la función <b>render</b>, renderiza
          ese html, en el segundo parametro del render, debemos poner el nombre
          del html el cual vamos a renderizar, y el <b>data</b> de tercer
          parametro
        </li>
        <div class="codigo">
          <pre><code id="def-render">from django.shorcuts import render
def vista(request):
  data = {
    'name':'yoiner'
  }
  return render(request,'index.html',data)
          </code></pre>
          <button onclick="copiar('def-render','59')" id="59">Copiar</button>
        </div>
        <li>En el html, puedo poner</li>
        <div class="codigo">
          <pre><code id="h1-def-render">&lt;h1&gt;Hola, {{name}}&lt;/h1&gt; </code></pre>
          <button onclick="copiar('h1-def-render','60')" id="60">Copiar</button>
        </div>
        <li>
          De esta forma accedemos al valor <b>name</b>, del diccionario que le
          pasemos, importante, cualquier cosa que quieras pasarle al html y
          verlo ahi, debe estar dentro de un diccionario. La vista se va a ver,
          dependiendo en que url esta la función
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-16">
        <h2><i>Video 16</i>: Templates | Parte II</h2>
      </summary>

      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=wGZujvDLR94&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=16"
        >Link del video 16</a
      >
      <ul>
        <li>
          Gracias al <b>render</b>, puedo utilizar código python dentro del
          <b>html</b>, utilizando los valores que le pase en la función
        </li>
        <li>
          Por ejemplo, En la función puedo parsarle los valores de mis productos
          en la base de datos, importamos los modelos para poder utilizar el
          <b>ORM</b>, podemos insertar los datos con el <b>ORM</b> en el archivo
          de <b>test.py</b> o manual mente en la base de datos para hacer
          pruebas
        </li>
        <div class="codigo">
          <pre><code id="data-in-produ">from core.erp.models import *
data = {'productos':Product.objects.all()}</code></pre>
          <button onclick="copiar('data-in-produ','61')" id="61">Copiar</button>
        </div>
        <li>
          Para recorrer o iterar esos valores y mostrarlos en html, vamos a
          utilizar un for y vamos a ponerlos en una lista
        </li>
        <div class="codigo">
          <pre><code id="for-in-html">&lt;ul&gt;
  {% for i in productos %}
  &lt;li&gt;{{i.id}} / {{i.name}} / {{i.cate.name}}&lt;/li&gt;
  {% endfor %}
&lt;/ul&gt;</code></pre>
          <button onclick="copiar('for-in-html','62')" id="62">Copiar</button>
        </div>
        <li>
          Para los for o if, se utilizan un solo par corchete <b>{}</b> y
          siempre con sus <b>% %</b>, ademas hay que cerrarlos, por ejemplo, en
          el for rd <b>{% endfor%}</b>
        </li>
        <li>
          Para las variables o atributos, se utilizan los 2 {{}}, en el ejemplo,
          accediamos al <b>id</b> y <b>name</b> de cada producto, pero iban en
          {{}}, ejemplo: <b>{{i.id}}</b>, recuerda que en el for, cada
          <b>i</b> vale a un registro de la base de datos
        </li>
        <li>
          En la parde de <b>i.cate.name</b>, <b>i</b> es el objeto/registro, el
          <b>cate</b>, hace referencia a la columna <b>cate</b>, que es la cual
          se relaciona con la clase/tabla <b>Type</b>, y cuando ponemos el
          <b>cate.name</b>, estamos diciendole que nos muestre el de la
          categoria la cual pertenece ese producto, gracias a la relacion creada
        </li>
        <li>Como hacer comentarios:</li>
        <ul>
          <li>
            Comentarios de una sola linea, hay que tener cuaidado con el
            formateador de html que tengamos (prettier por ejemplo) porque si
            hace que el comentario tenga un salto de linea, lo mostrara en el
            html o lanzara un error
          </li>
          <div class="codigo">
            <pre><code id="comment-one-line">{# comentario de una linea #}</code></pre>
            <button onclick="copiar('comment-one-line','63')" id="63">
              Copiar
            </button>
          </div>
          <li>
            Comentario de varias lineas, este es mejor utilizarlo, ya que el
            inicio y cierre es corto y seria poco probable tener problema con el
            formateador
          </li>
          <div class="codigo">
            <pre><code id="comment-varias-line">{% comment %}
esto es
un comentario
de varias
lineas
{% endcomment %}
  </code></pre>
            <button onclick="copiar('comment-varias-line','64')" id="64">
              Copiar
            </button>
          </div>
          <li>
            No utilizar los comentarios originarios de html porque los va a
            intentar interpretar
          </li>
        </ul>
        <h2>Herencia</h2>
        <li>
          Podemos heredar estructuras completas de otro html con la siguiente
          sintaxis, y de es forma no necesito repetir código, solo heredarlo
        </li>
        <div class="codigo">
          <pre><code id="extends-index">{% extends 'index.html' %}</code></pre>
          <button onclick="copiar('extends-index','65')" id="65">Copiar</button>
        </div>
        <h2>Bloques</h2>
        <li>
          Puedo crear bloques para que al heredarlos, pueda modificar partes,
          vamos a poner un bloque en el <b>index.html</b>, ponemos nombre
          <b>contenido</b> al bloque a crear, al inicio y final para saber donde
          cierra el bloque
        </li>
        <div class="codigo">
          <pre><code id="index-heredar">
&lt;!DOCTYPE html&gt;
&lt;html lang="es"&gt;
  &lt;head&gt;
    &lt;title&gt;Document&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    {% block contenido %} {% endblock contenido %}
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
          <button onclick="copiar('index-heredar','66')" id="66">Copiar</button>
        </div>
        <li>
          Para ejemplo, en ese bloque de <b>index.html</b>, vamos a dejar el for
          recorriendo los productos, pero dentro del bloque que creamos, y vamos
          a crear un segundo html llamado <b>second.html</b>, creamos la función
          para ese html y le pasamos los valores que tenga nuestra clase/tabla
          categoria, de la misma forma en como hicimos los productos
        </li>
        <li>
          <b>second.html</b>, en el data de la función de second.html, ponemos
          <b>categorias</b> donde vamos a poner las categorias llamadas. En el
          html, heredamos de <b>index.html</b>, toda su estructura, luego
          ponemos el bloque, el cual en el <b>index.html</b> estan los
          productos, pero en este html pusimos las categorias, gracias a
          utilizar un bloque
        </li>
        <div class="codigo">
          <pre><code id="second-heredado">{% extends 'index.html' %}
{% block contenido %}
  &lt;h1&gt;Mis categorias&lt;/h1&gt;
  &lt;ul&gt;{% for i in categorias %} 
    &lt;li&gt;{{i.id}} / {{i.name}}&lt;/li&gt; 
  {% endfor %}&lt;/ul&gt;
{% endblock contenido %}
  </code></pre>
          <button onclick="copiar('second-heredado','67')" id="67">
            Copiar
          </button>
        </div>
        <li>
          Es bastante útil, porque puedo estructurar un documento html como
          base, o bases para que nomas las apps hereden y pongan en los bloques
          lo que necesiten, y los bloques se pueden poner en cualquier lado
        </li>
        <h2>Enlaces internos</h2>
        <li>
          En el archivo urls.py de mi app o apps, puedo agregar la variable
          <b>app_name = 'nombreApp'</b>, donde <b>nombreApp</b> lo pondre com
          <b>erp</b>, para que en los enlaces pueda dirigirme especificamente a
          una vista de mis apps
        </li>
        <li>
          En el tercer parametro de la función <b>path</b>, puedo ponerle un
          nombre para dirigirme mejor a esa vista
        </li>
        <div class="codigo">
          <pre><code id="path-name">path('uno/',FuncioVista,name='vista1')</code></pre>
          <button onclick="copiar('path-name','68')" id="68">Copiar</button>
        </div>
        <li>
          Y en otro html, para dirigirme a ese html o vista, lo haria de la
          siguiente forma, donde <b>erp</b> es el nombre de las urls de mi app
          en especifica, y vista1, el <b>name</b> de la vista, y asi puedo
          manejar mis enlaces internos
        </li>
        <div class="codigo">
          <pre><code id="a-erp-vista">&lt;a href="{% url 'erp:vista1' %}"&gt;Vista 1&lt;/a&gt;</code></pre>
          <button onclick="copiar('a-erp-vista','69')" id="69">Copiar</button>
        </div>
        <li>
          Tambien puedo hacerlo desde el <b>urls.py</b> de la configuración, en
          el <b>urlpatterns</b>, si es una vista nomral, le agrego el
          <b>name</b> a esa vista, pero si esta con el include, le agrego el
          <b>namespace</b> que seria como el <b>app_name</b> en el
          <b>ulrs.py</b> de mi app, es recomendable siempre ponerles el
          <b>name</b>, el <b>namespace</b> o la variable <b>app_name</b>, para
          ser más coherentes en los enlaces internos
        </li>
        <div class="codigo">
          <pre><code id="path-namespace">path('hola/',include('core.erp.urls',namespace='erp'))</code></pre>
          <button onclick="copiar('path-namespace','70')" id="70">
            Copiar
          </button>
        </div>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-17">
        <h2><i>Video 17</i>: Archivos estáticos | Configuración</h2>
      </summary>

      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=mqU-RszsDvY&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=17"
        >Link del video 17</a
      >

      <ul>
        <li>
          Los archivos estaticos son las imagenes, archivos de Javascript, de
          CSS, osea, los estilos y librerias como bootstrap
        </li>
        <li>
          Al nivel de la carpeta de configuración, creamos la carpeta
          <b>static</b>, como con los <b>templates</b>
        </li>
        <li>
          En el <b>settings.py</b> de nuestro proyecto, creamos una variable
          para poner la ruta de nuestros archivos estaticos, Después de la
          variable <b>STATIC_URL</b>
        </li>
        <div class="codigo">
          <pre><code id="static-config-dir">STATICFILES_DIRS = [
  os.path.join(BASE_DIR,"static")
  ]
</code></pre>
          <button onclick="copiar('static-config-dir','71')" id="71">
            Copiar
          </button>
        </div>
        <li>
          Para utilizar los archivos estaticos en algun html, en la primera
          linea del html, debemos poner
        </li>
        <div class="codigo">
          <pre><code>{% load static %}</code></pre>
        </div>
        <li>Esto cargara los archivo estaticos</li>
        <li>
          Dentro de la carpeta <b>static</b>, creamos las carpetas las cuales
          van a tener los archivos, en mi caso, creare las carpetas así
        </li>
        <ul>
          <li><b>css:</b> Para los estilos</li>
          <li><b>js:</b> Para los archivos de Javascript</li>
          <li>
            <b>media:</b> Para las imagenes, audios, y videos, los cuales
            tambien creo una carpeta para cada uno dentro de media para un mejor
            orden
          </li>
          <li>
            <b>lib:</b> Para las librerias que vaya a utilizar, es recomendable
            descargar las librerias y no utilizarlas de forma remota, para
            trabajar siempre con una version y no tener problemas si llega a
            haber una actualización en la libreria y tengamos problemas internos
            en nuestro código
          </li>
        </ul>
        <li>
          Ya en los html, en los links hacia archivos <b>(src, href)</b>, no
          llamamos a la carpeta static, sino que iniciamos llamando desde las
          carpetas secundarias, pondriamos así
        </li>
        <div class="codigo">
          <pre><code>src = "{% static 'js/app.js'" %}
href = "{% static 'css/style.css' %}"
src = "{% static 'media/video/hola.mp4' %}"</code></pre>
        </div>
      </ul>

      <p class="nota">
        <b>NOTA:</b> Cuando los estilos de css no se apliquen, solo presionar
        <b>Ctrl + F5</b> en el navegador para limpiar el cache de la página y
        recargar, asi se aplicaran los estilos puestos
      </p>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-18">
        <h2><i>Video 18</i>: Templates | integrando la plantilla adminLTE3</h2>
      </summary>

      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=Nsrs_3UEPmQ&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=18"
        >Link del video 18</a
      >
      <ul>
        <li>
          En este video se descarga la plantilla con sus CSS, IMG, JS para
          seguir el curso
        </li>
        <li>
          Ponemoslos archivos de la plantilla en la carpeta <b>static/lib/</b>.
          Cada vez que en la plantilla se dirija a algun link de css o js, lo
          cambiamos por los del la libreria en <b>static/</b>
        </li>
        <div class="codigo">
          <pre><code>{% static 'lib/plantilla/archivo.ext' %}</code></pre>
        </div>
        <li>
          Es bueno separa el nsv, footer, header, contenido, etc, en diferentes
          archivos html y simplementes importarlos a los otros documentos o
          nuevas paginas para ahorrar código y no repetirlo
        </li>
        <li>Asi importo un html a otro html</li>
        <div class="codigo">
          <pre><code>{% include 'hola.html' %}</code></pre>
        </div>
        <li>
          En el contenido utilizo los bloques para cambiarlo dependiendo de la
          página o vista
        </li>
        <li>
          Al separar el nsv, footer, header, contenido, etc, en diferentes
          archivos html, es que si necesito modificar alguno de esos, solo
          modifico el principal y se cambia en todos los demás
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-19">
        <h2><i>Video 19</i>: Creando nuestro primer listado en Django</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=hL5yhRl-uME&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=19"
        >Link del video 19</a
      >
      <ul>
        <li>
          En este video muestra como realiza una lista de las categorias
          accediendo a la base de datos y utilizando bootstrap para el frontend
        </li>
        <li>
          Él en la carpeta de <b>template</b>, crea un archivo
          <b>list.html</b> como base
        </li>
        <li>
          y dentro de la carpeta de la app <b>core/erp/</b> crea una carpeta
          <b>template</b> donde ya se va a poner las vistas de esa app y que van
          a heredar de los templates principales y asi es más eficiente
        </li>
        <li>Utiliza un for para poner las categorias</li>
        <li>
          Crea tambien una carpeta <b>views</b> para las vistas de mi app, ahi
          creo mis funciónes o clases (que se vera más adelante) donde le pasare
          mis modelos, información y demás
        </li>
        <li>Lleno la tabla de categorias asi</li>
        <div class="codigo">
          <pre><code id="table-list">
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
    &lt;th&gt;2&lt;/th&gt;
  &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    {% for c in categorias %}
    &lt;tr&gt;
      &lt;td&gt;{{c.id}}&lt;/td&gt;
      &lt;td&gt;{{c.name}}&lt;/td&gt;
    &lt;/tr&gt;
    {% endfor %}
  &lt;/tbody&gt;
&lt;/table&gt; 
</code></pre>
          <button onclick="copiar('table-list','72')" id="72">Copiar</button>
        </div>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-20">
        <h2><i>Video 20</i>: ListView | Vistas basadas en clases</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=iP4LxWbbpy8&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=20"
        >Link del video 20</a
      >
      <ul>
        <li>
          En el archivo <b>vies.py</b>, importamos la libreria de
          <b>ListView</b>
        </li>
        <div class="codigo">
          <pre><code id="from-listview">from django.views.generic import ListVew</code></pre>
          <button onclick="copiar('from-listview','73')" id="73">Copiar</button>
        </div>
        <li>
          Creo la clase hija de ListView que voy a utilizar para pasar los
          objetos, variables, etc. En la variable <b>model</b> le paso la clase
          del modelo a utilizar, y en la de <b>template_name</b> le paso el html
          el cual le pasare la vista, si encuentra una carpeta template dentro
          del la app, buscara el html ahi, y pues asi es bueno tener los
          templates de cada app, en una carpeta template en la app
        </li>
        <div class="codigo">
          <pre><code>class CategoryList(ListView):
  model = Category
  template_name = 'category/list.html'
          </code></pre>
        </div>
        <li>
          El el html para acceder a los valores de la clase o modelo Category,
          eso se guarda en una variable/clave, que se llama <b>object_list</b>,
          la recorreriamos asi, <b>for i in object_list</b>
        </li>
        <li>
          Si quiero pasar más valores, modifico una de las funciónes <b>get</b>,
          dentro de la clase ListView creada, modificamos la función
          <b>get_context_data</b>
        </li>
        <div class="codigo">
          <pre><code id="def-get-cont">def get_context_data(self, **kwargs):
  context = super().get_context_data(**kwargs)
  context['nombreVariable'] = 'valor'

  return context
</code></pre>
          <button onclick="copiar('def-get-cont','73')" id="73">Copiar</button>
        </div>
        <li>
          En html ya se sabe que accedemos a ese valor con 2 llaves <b>{}</b>
        </li>
        <li>
          Si por ejemplo modifico el <b>object_list</b> del diccionario
          <b>context</b>, que practicamente te aplica un objetc.all() al modelo
          que le pase, si le pongo otro modelo, aplicando el object.all(), la
          clave va a crear otro list en el context, category_list
        </li>
        <div class="codigo">
          <pre><code>context['object_list'] = Product.objects.all()</code></pre>
        </div>
        <li>
          Se creara la clave <b>category_list</b> que tenga los valores del
          modelo que le pase primero
        </li>
        <li>
          Con la función <b>get_queryset</b> puedo hacer la consulta la cual
          aplique al modelo que le puse a la ListView, obviamente, al utilizar
          esta función, no puedo modificar el <b>object_list</b> poniendole otro
          modelo
        </li>
        <div class="codigo">
          <pre><code id="a1">def get_queryset(self):
  return Category.objects.filter(name__endwith='i')
          </code></pre>
          <button onclick="copiar('a1','74')" id="74">Copiar</button>
        </div>
        <li>
          En el html mostrara los registros los cuales traiga esa consulta
        </li>
        <h3>Modificar URL</h3>
        <li>
          En el archivo <b>urls.py</b> de mi app, debo importar mi clase o
          archivo donde este ubicado (views.py) y ponerlo en la misma parte
          donde ponia las vistas basadas en funciónes, pero ejecutando la
          función <b>as_view()</b>
        </li>
        <div class="codigo">
          <pre><code id="a2">path('category/list/', claseListView.as_view(),name='nombreVista')</code></pre>
          <button onclick="copiar('a2','75')" id="75">Copiar</button>
        </div>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-21">
        <h2><i>Video 21</i>: ListView | implementando datatables</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=iwaH6T5G2zo&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=21"
        >Link del video 21</a
      >
      <ul>
        <li>Eliminar datos de una tabla de Mysql y reiniciando los id a 1</li>
        <ul>
          <li>
            Lo hago desde la terminal, porque workbench por seguridad no deja
            borrar datos de una tabla masivamente, solo uno por uno con el
            <b>WHERE</b>
          </li>
          <div class="codigo">
            <pre><code>DELETE FROM tabla;
ALTER TABLE tabla AUTO_INCREMENT = 1; 
          </code></pre>
          </div>
        </ul>
        <h3>Implementando Datatable</h3>
        <li>
          Datatable es ina libreria para dinamizar nuestras tablas, se pueden
          hacer:
        </li>
        <ul>
          <li>Filtro de datos (busqueda)</li>
          <li>Ordenamiento por culumnas</li>
          <li>Paginado (varias paginas si hay muchos datos)</li>
        </ul>
        <li>
          Y en su documentacionhay demasiadas formas de poner datos en las
          tablas
        </li>
        <li>
          En el <b>home.html</b> o donde este el &lt;head&gt;, creo un bloque
          para poder poner las librerias que vaya a utilizar en cada pagina, asi
          no duplico código innecesario, e igualmente un bloque para los scripts
          de js antes del cierre del <b>body</b>
        </li>
        <li>
          pongo la libreria en mi carpeta <b>static/lib/</b> y los links de la
          libreria los redirecciono a mi carpeta
        </li>
        <li>
          A mi tabla la cual ponga los datos de la ListView le pongo un id para
          poder aplicarle la programación del Datatable
        </li>
        <li>
          en mi archivo base <b>list.html</b> que es para las listas, pongo al
          fondo, en el bloque de js, la función la cual aplico la libreria
          Datatable
        </li>
        <div class="codigo">
          <pre><code id="a3">$(function () {
  $("#idTabla").DataTable({
    reponsive: true, 
    autoWith: false
  });
});</code></pre>
          <button onclick="copiar('a3','76')" id="76">Copiar</button>
        </div>
        <li>
          el <b>responsive: true</b> es para que la tabla sea responsiva, y el
          <b>autoWith: false</b> es para que tenga las columnas tengan el tamaño
          que yo le ponga
        </li>
        <li>
          La libreria normalmente va a estar en ingles, pero la del profe ya
          viene en español
        </li>
        <li>
          ya activando el server y entrando a la pagina, se ve la tabla con sus
          diferentes opciones de la libreria
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-22">
        <h2>
          <i>Video 22</i>: Sobreescritura del método dispatch | Vistas basadas
          en clases
        </h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=tBPKpzQDXiU&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=22&pp=iAQB"
        >Link del video 22</a
      >
      <ul>
        <li>
          Con el método <b>dispatch</b> accedo al método del como se realizan
          las peticiónes (get, pos, pull, delete)
        </li>
        <li>Estructura basica del dispatch</li>
        <div class="codigo">
          <pre><code id="a4">def dispatch(self, request,*args,**kwargs):
  return super().dispatch(request, *args, **kwargs)
</code></pre>
          <button onclick="copiar('a4','77')" id="77">Copiar</button>
        </div>
        <li>
          Preguntar que método del request se esta realizando, con ese if
          pregunto que método del request se esta realizando, y si es
          <b>GET</b>, con esa función redirect envio la página a otra que yo
          quiera, en este caso, a la vista 2 de la app erp, Después de la
          prueba, comentamos para seguir con el curso
        </li>
        <div class="codigo">
          <pre><code id="a5">if request.method == 'GET':
  from django.shortcuts import redirect
  return redirect('erp:vista2')
          </code></pre>
          <button onclick="copiar('a5','76')" id="76">Copiar</button>
        </div>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-23">
        <h2>
          <i>Video 23</i>: Implementando decoradores | Vistas basadas en clases
        </h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=1BwX5cAxSrc&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=23&pp=iAQB"
        >Link del video 23</a
      >
      <ul>
        <li>
          Los decoradores son funciónes que modifican otras funciónes,
          dinamicamente.
        </li>
        <li>
          Importo el método decorador de django y tambien importo la función de
          verificar login para prueba
        </li>
        <div class="codigo">
          <pre><code id="a6">from django.utils.decorators import method_decorator
from django.contrib.auth.decorators import login_required
</code></pre>
          <button onclick="copiar('a6','77')" id="77">Copiar</button>
        </div>
        <li>Antes del <b>dispatch</b>, pongo el método asi</li>
        <div class="codigo">
          <pre><code id="a7">@method_decorator(login_required)</code></pre>
          <button onclick="copiar('a6','78')" id="78">Copiar</button>
        </div>
        <li>
          Verifica que no esta logueado y lo va a direccionar al login, pero
          dará un error <b>404</b> porque no tengo el login creado
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-24">
        <h2>
          <i>Video 24</i>: Sobreescritura del método post | vistas basadas en
          clases
        </h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=yJMyXc2gaCo&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=24&pp=iAQB"
        >Link del video 24</a
      >
      <ul>
        <li>
          Este método envia una respuesta POST y por ejemplo hago un
          <b>JsonResponse</b> para verlo en el navegador.
        </li>
        <li>
          Instalo la extensión
          <a
            href="https://chrome.google.com/webstore/detail/tabbed-postman-rest-clien/coohjcphdfgbiolnekdpbcijmhambjff?hl=es"
            >postman</a
          >
          en el navegador para ver el json en el navegador con el método POST
        </li>
        <li>Importo el JsonResponse</li>
        <div class="codigo">
          <pre><code id="a7">from django.http import JsonResponse</code></pre>
          <button onclick="copiar('a7','79')" id="79">Copiar</button>
        </div>
        <li>Sobre escribo el método post</li>
        <div class="codigo">
          <pre><code id="a8">def post(self,request,*args,**kwargs)
  data = {
    'name':'yoiner' #dict que voy a retornar en el navegador
  }
  return JsonResponse(data)</code></pre>
          <button onclick="copiar('a8','80')" id="80">Copiar</button>
        </div>
        <li>
          Me va a tirar un error de csrf, esto es una seguridad de Django para
          las vistas, si quiero desactivarla en mi vista y poder ver el json en
          la extension del navegador, importo lo siguiente
        </li>
        <div class="codigo">
          <pre><code id="a9">from django.views.decorators.csfr import csfr_exempt</code></pre>
          <button onclick="copiar('a9','81')" id="81">Copiar</button>
        </div>
        <li>
          Ante de todas las funciónes, pongo el método para quitar la protección
        </li>
        <div class="codigo">
          <pre><code id="b1">@method_decorator(csfr_exempt)</code></pre>
          <button onclick="copiar('b1','82')" id="82">Copiar</button>
        </div>
        <li>
          Y ahí si recibe el json por el método post en la extensión del
          navegador
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-25">
        <h2><i>Video 25</i>: Ajax basico | post | vistas basadas en clases</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=GQmY_MFC2mE&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=25&pp=iAQB"
        >Link del video 25</a
      >
      <ul>
        <li>
          Pongo un id al boton que vaya a hacer la petición Ajax a mi url o
          vista
        </li>
        <div class="codigo">
          <pre><code id="b2">&lt;button id="btnTest"&gt;Ajax&lt;/button&gt;</code></pre>
          <button onclick="copiar('b2','83')" id="83">Copiar</button>
        </div>
        <li>
          En la parte del script, en la función principal, agrego el evento del
          clic en ese boton
        </li>

        <div class="codigo">
          <pre><code id="b3">$("#btnTest").on("click",function(){
          url:"{% url 'erp:category_list' %}",
          type:"POST",
          data:{id:1},
          dataType:"json"
        }).clone(function(data){
          console.log(data);
        }).fail(function(jqXHR,textStatus,errorThrown){
          alert(textStatus+" "+errorThrown)
        }).always(function(){})</code></pre>
          <button onclick="copiar('b3','84')" id="84">Copiar</button>
        </div>
        <ul>
          <li><b>url:</b> La url donde va a hacer la petición</li>
          <li><b>type:</b> Tipo de petición</li>
          <li><b>data:</b> La petición que voy a realizar</li>
          <li><b>dataType:</b> Tipo de archivo</li>
          <li>
            <b>clone():</b> La función clone siempre se ejecuta, ahi le paso la
            data que me devuelve el servidor (en este caso, la vista
            category_list)
          </li>
          <li><b>fail():</b> La función fail se ejecuta si hay algun error</li>
          <li><b>always():</b>Siempre se ejecuta</li>
        </ul>
        <li>Con el método de corador csfr_exempt activo:</li>
        <div class="codigo">
          <pre><code id="b4">@method_decorator(csfr_exempt)</code></pre>
          <button onclick="copiar('b4','85')" id="85">Copiar</button>
        </div>
        <li>En el método <b>post</b></li>
        <div class="codigo">
          <pre><code id="b5">data={}
try:
  data=Category.objects.get(pk=request.POST['id']).toJSON()
except:
  data['error']=str(e)
return JsonResponse(data)
</code></pre>
          <button onclick="copiar('b5','86')" id="86">Copiar</button>
        </div>
        <ul>
          <li>
            en el data le retornare el objeto de la base de datos que el pide
            por id y lo convertimos en un archivo JSON (con la función
            <b>.toSTRING</b> que modifiquemos en los modelos) para poder
            retornarlo
          </li>
          <li>
            Si hay algun error, en el data le mando la exepcion del error
            convertido a un string
          </li>
        </ul>
        <li>
          En el archivo <b>models.py</b> de mi app, en mi clase Category,
          Después de la función <b>__str__</b>, creo la función toJSON(),
          importo model_to_dict
        </li>
        <div class="codigo">
          <pre><code id="b6">from django.forms import model_to_dict</code></pre>
          <button onclick="copiar('b6','87')" id="87">Copiar</button>
        </div>
        <li>En la clase:</li>
        <div class="codigo">
          <pre><code id="b7">def toJSON(self):
  item = model_to_dict(self)
  return item
</code></pre>
          <button onclick="copiar('b7','88')" id="88">Copiar</button>
        </div>
        <ul>
          <li>
            Al model_to_dict le paso el self, porque ahi es donde estan todos
            los valores de la tabla, porque hacerlo manual seria normal en
            proyectos pequeños, pero en un proyecto grande ya no es eficiente,
            para eso esta esta función para los modelos
          </li>
        </ul>

        <li>Y asi se hace una petición de ajax basico</li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-26">
        <h2>
          <i>Video 26</i>: CreateView | Creando nuestro primer formulario |
          parte I
        </h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=SocdFMxX7NA&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=26&pp=iAQB"
        >Link del video 26</a
      >
      <ul>
        <li>El CreateView es para manejar los formularios</li>
        <li>
          En el archivo <b>views.py</b>, importo CreateView y el
          <b>reverse_lazy</b>
        </li>
        <div class="codigo">
          <pre><code id="b8">from django.views.generic import CreateView
from django.urls import reverse_lazy
</code></pre>
          <button onclick="copiar('b8','89')" id="89">Copiar</button>
        </div>
        <li>Creo la vista para el formulario</li>
        <div class="codigo">
          <pre><code id="b9">class CategoryCreateView(CreateView):
  model = Category
  form_class = CategoryForm
  template_name = 'category/create.html'
  success_url = reverse_lazy('erp:category_list')
</code></pre>
          <button onclick="copiar('b9','90')" id="90">Copiar</button>
        </div>
        <ul>
          <li><b>model:</b> Modelo con el cual voy a trabajar</li>
          <li>
            <b>form_class:</b> Clase de formulario que más adelante creare
          </li>
          <li>
            <b>template_name:</b>Html el cual le pasare el formulario, lo creo
            en mi carpeta category y heredando del template principal
          </li>
          <li>success_url:</li>
          A donde direccionar cuando se envie correctamente el formulario, y la
          función
          <b>reverse_lazy</b>
          convierte la url que le pase por el
          <b>name</b>
          de la url a una url a la cual pueda redireccionar el
          <b>success_url</b>
        </ul>
        <li>
          Modifico la función <b>get_context_data</b> para enviar datos que
          necesite
        </li>
        <div class="codigo">
          <pre><code id="b10">def get_context_data(self,**kwargs):
  context=super().get_context_data(**kwargs)
  context['title']='Titulo'
  return context
</code></pre>
          <button onclick="copiar('b10','91')" id="91">Copiar</button>
        </div>
        <ul>
          <li>
            el <b>super()</b> me trae ya los valores que tiene, y ya en ese
            diccionario que retorna agrego los datos adiccionales que quiera
            mandarle
          </li>
        </ul>

        <li>Crear clase de formulario CategoryForm</li>
        <li>Importo la clase ModelForm, y el modelo a utilizar</li>
        <div class="codigo">
          <pre><code id="b11">from django.form import ModelForm
from .models import Category
</code></pre>
          <button onclick="copiar('b11','92')" id="92">Copiar</button>
        </div>
        <li>Creo la clase de formulario</li>
        <div class="codigo">
          <pre><code id="b12">class CategoryForm(ModelForm):
  class Meta:
    model = Category
    fields = '__all__'
    exclude=['cate']
</code></pre>
          <button onclick="copiar('b12','93')" id="93">Copiar</button>
        </div>
        <ul>
          <li><b>model:</b>Modelo con el cual se va a trabajar</li>
          <li>
            <b>fields:</b>le digo que campos se van a ver para el registro, si
            quiero solo algunos los pongo en un arreglo, eje: ['name','cate']
          </li>
          <li><b>exclude:</b>Si quiero excluir algun campo o campos</li>
        </ul>
        <li>Creo el html 'create.html' en mis templates de la app</li>
        <ul>
          <li>Heredo el body de mi templates principales</li>
          <div class="codigo">
            <pre><code id="b13">{% extends 'body.html' %}</code></pre>
            <button onclick="copiar('b13','94')" id="94">Copiar</button>
          </div>
          <li>Pongo mi form en el bloque del contenido</li>
          <div class="codigo">
            <pre><code id="b14">{% block content %}
&lt;form method="post"&gt;
  {% csfr_token %}
  {{form}}
  &lt;button type="submit"&gt;Enviar&lt;/button&gt;
&lt;/form&gt;
{% endblock content %}
</code></pre>
            <button onclick="copiar('b14','95')" id="95">Copiar</button>
          </div>
        </ul>
        <li>
          Puedo personalizar el formulario, por ejemplo, si mis categorias
          recibe 2 datos, puedo crear el form asi:
        </li>
        <div class="codigo">
          <pre><code id="b14">
&lt;label for="name"&gt;{{form.name.label}}&lt;/label&gt;
{{form.name}}
          </code></pre>
          <button onclick="copiar('b14','96')" id="96">Copiar</button>
        </div>
        <li>
          form.name hace referencia al input del name y el .label a su valor en
          el verbose_name
        </li>
        <li>Y asi con los demas campos</li>

        <p class="nota">
          <b>Nota:</b> No olvidar poner la clase de vista nueva en las
          <b>ulrs.py</b> de la app o de la config, dependiendo del motivo
        </p>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-27">
        <h2>
          <i>Video 27</i>: CreateView | personalizando nuestro formulario |
          parte II
        </h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=FhcIuB_n1m8&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=27&pp=iAQB"
        >Link del video 27</a
      >
      <ul>
        <li>
          Para ejemplo, en el model <b>Category</b>, le agrego un campo para la
          descripción
        </li>
        <div class="codigo">
          <pre><code id="b15">desc = models.CharField(max_length=500,null=True,blank=True,verbose_name='Descripción')</code></pre>
          <button onclick="copiar('b15','97')" id="97">Copiar</button>
        </div>
        <li>
          En el archivo <b>forms.py</b>, en la clase <b>Meta</b> de mi
          CategoryForm, con el atributo <b>labels</b> puedo ponerle o modificar
          el <b>verbose_name</b> de los atributos del modelo el cual este
          trabajando
        </li>
        <div class="codigo">
          <pre><code id="b16">labels = {
         'name':'Nombre',
         'desc':'Descripción'
         }</code></pre>
          <button onclick="copiar('b16','98')" id="98">Copiar</button>
        </div>
        <li>
          Con el atributo widgets puedo cambiar el tipo de input (por ahora se
          el de TextInput para el input tipo texto, y TextTarea para el input
          tipo comentario)
        </li>
        <div class="codigo">
          <pre><code id="b17">widgets = {
          'name':TextInput(attrs={
            'class':'una-clase otra-clase',
            'autocomplete':'off',
            'placeholder':'el valor del placeholder'
          }),
          'desc':TextTarea(attrs={mas atributos})
          }</code></pre>
          <button onclick="copiar('b17','99')" id="99">Copiar</button>
        </div>
        <li>Puedo utilizar un for en el html para poner los inputs</li>
        <div class="codigo">
          <pre><code id="b18">{% for field in form.visible_fields %}
&lt;label for=""&gt;{{field.label}}&lt;/label&gt;
  {{field}}
{% endfor %}
</code></pre>
          <button onclick="copiar('b18','100')" id="100">Copiar</button>
        </div>
        <ul>
          <li>
            <b>form.visible_fields:</b>Me pasa los datos del formulario y poder
            iterarlos y ponerlos por si son muchos campos
          </li>
          <li><b>{{field.label}}:</b>Pongo el nombre o "label" del input</li>
          <li><b>{{field}}:</b>Pone el input</li>
        </ul>
        <li>
          Puedo modificar la función <b>__init__</b> de mi clase de formulario
          (en este caso, <b>CategoryForm</b>) para modificar los atributos de
          mis <b>fields</b> por si todos o algunos atributos son iguales y no
          repetir código en el atributo <b>widgets</b>
        </li>
        <p class="nota">
          <b>Nota:</b>Fuera de la clase <b>Meta</b>, no dentro de ella
        </p>
        <div class="codigo">
          <pre><code id="b19">def __init__(self,*args,**kwargs):
  super().__init__(*args,**kwargs)
  for form in self.visible_fields():
    form.field.widget.attrs['class']='una-clase otra-clase'
          </code></pre>
          <button onclick="copiar('b19','101')" id="101">Copiar</button>
        </div>
        <li>O tambien para agregar varios atributos:</li>
        <div class="codigo">
          <pre><code id="b20">def __init__(self,*args,**kwargs):
  super().__init__(*args,**kwargs)
  for form in self.visible_fields():
    form.field.widget.attrs.update({'class':'clase','id':'valor','otro-atributo':'valor'})
    #atributos del label
    form.label_attrs={'class':'clase','for':'id-o-valor'}
          </code></pre>
          <button onclick="copiar('b20','102')" id="102">Copiar</button>
        </div>
        <ul>
          <li>
            Para poner ese valor del for que le puse al label, lo pongo asi en
            el html
          </li>
          <div class="codigo">
            <pre><code id="b21">&lt;label for="{{field.label_attrs.for}}"&gt;Label&lt;/label&gt;</code></pre>
            <button onclick="copiar('b21','103')" id="103">Copiar</button>
          </div>
        </ul>
        <li>
          Modificar un solo campo o field, lo hago dentro del <b>__init__</b>
        </li>
        <div class="codigo">
          <pre><code id="b22">self.fields['name'].widget.attrs['autofocus']=True</code></pre>
          <button onclick="copiar('b22','104')" id="104">Copiar</button>
        </div>
        <ul>
          <li>
            En este caso le pongo un atributo booleano, entonces lo pongo en
            <b>True</b> o <b>False</b>, su mayoria de veces esta por defecto en
            <b>False</b>, asi se veria en el hmtl ya renderizado
          </li>
          <div class="codigo">
            <pre><code>&lt;input type="text" autofocus&gt;</code></pre>
          </div>
        </ul>
      </ul>
      <h3>Poner clases o atributos en el html con la libreria widget_tweaks</h3>
      <ul>
        <li>La instalo en mi entorno</li>
        <div class="codigo">
          <pre><code id="b23">pip install django-widget-tweaks</code></pre>
          <button onclick="copiar('b23','105')" id="105">Copiar</button>
        </div>
        <li>
          La agrego a la variable <b>INSTALLED_APPS</b>, del archivo
          <b>settings.py</b> de mi configuración
        </li>
        <div class="codigo">
          <pre><code id="b24">#libs
'widget_tweaks'
            </code></pre>
          <button onclick="copiar('b24','106')" id="106">Copiar</button>
        </div>
        <li>
          Lo cargo en el html en el cual lo vaya a utilizar (en este caso,
          create.html)
        </li>
        <div class="codigo">
          <pre><code id="b25">{% load widget_tweaks %}</code></pre>
          <button onclick="copiar('b25','107')" id="107">Copiar</button>
        </div>
        <li>Para agregar clases o atributos</li>
        <div class="codigo">
          <pre><code id="b26">{{field|add_class:'una-clase otra-clase'|attr:'autocomplete:off'|attr:'autofocus'}}</code></pre>
          <button onclick="copiar('b26','108')" id="108">Copiar</button>
        </div>
        <ul>
          <li><b>add_class:</b> para agregar alguna clase o clases</li>
          <li>
            con el pleca ( | ) agrego los siguientes atributos que necesite, por
            ejemplo si quiero quitar el autocomplete que es uno de tipo
            booleano, le pongo el off, pero por ejemplo quiero poner uno
            booleano, oase, activarlo, como se ve en el código, le pongo solo el
            nombre, y tambien como es otro atributo, eso significa otro
            <b>|attrs</b>
          </li>
        </ul>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-28">
        <h2>
          <i>Video 28</i>: CreateView | Validaciones en nuestro formulario |
          Parte III
        </h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=w-f0yzfCLvo&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=28&pp=iAQB"
        >Link del video 28</a
      >
      <ul>
        <li>
          Modifico el post para ver como trabaja el post con los errores,
          importo HttpResponseRedirect
        </li>
        <div class="codigo">
          <pre><code id="b27">
from django.http import HttpResponseRedirect
def post(self,request,*args,**kwargs):
  form = CategoryForm(request.POST)
  if form.is_valid():
    form.save()
    return HttpResponseRedirect(self.success_url)
  self.object = None
  context = self.get_context_data(**kwargs)
  context['form']=form
  return render(request,self.template_name,context)
</code></pre>
          <button onclick="copiar('b27','109')" id="109">Copiar</button>
        </div>
        <ul>
          <li>
            Creo la variable <b>form</b> y le paso mi formulario y como
            parametro, el <b>request.POST</b>
          </li>
          <li>
            Con el <b>if form.is_valid()</b> verifico que el formulario sea
            valido y lo retorno a la otra pagina, que en este caso es list.html,
            que la ruta esta en la variable success_url
          </li>
          <li>
            El <b>self.object</b> lo pongo en <b>None</b> porque si hay algun
            error en la petición, va a buscar esta variable, y si no esta, se
            cae el servidor en ese error
          </li>
          <li>
            creo la variable <b>context</b> la cual va a almacenar los valores
            que mandare al html, con la función <b>get_context_data</b> traigo
            el diccionariocon los datos que ya estan, y le agrego lo que le
            quiera manda, en este caso mi formulario
          </li>
        </ul>
        <li>
          Asi trabaja el post, los errores, validar si hay algun error o guardar
          y retornar el resultado
        </li>
        <li>
          Pero simplemente sin modificar la función post, con
          <b>form.errors</b> en el html puedo verificar los errores que me
          devuelve mi formulario
        </li>
        <li>
          con el <b>{{form.errors}}</b> en el lugar que quiera ponerlo de mi
          formulario
        </li>
        <li>
          Esto pondra el nombre del campo del form y el error en un tipo de
          lista, pero si quiero acmodarlo podria iterarlos
        </li>
        <div class="codigo">
          <pre><code id="b28">{% if form.errors %}
  {% for field in form %}
    {% for error in field.errors%}
      &lt;p&gt;{{error}}&lt;/p&gt;
    {% endfor %}
  {% endfor%}
{% endif %}
          </code></pre>
          <button onclick="copiar('b28','110')" id="110">Copiar</button>
        </div>
        <ul>
          <li>con el <b>if form.errors</b> pregunto hay errores</li>
          <li>Si los hay, voy a recorrer todos los campos de mi formulario</li>
          <li>
            Y luego de cada campo imprimir los errores que tenga, si no los
            tiene, solo saltara al siguiente
          </li>
        </ul>
      </ul>
      <h3>Implemetar la libreria <b>sweetalert2</b> para alertas animadas</h3>
      <ul>
        <li>Pongo la libreria en mi carpeta <b>static/lib</b></li>
        <li>
          En el archivo home.html o donde lo vaya a utilizar, lo importo al
          final del body, ejemplo
        </li>
        <div class="codigo">
          <pre><code id="b29">&lt;!--Sweetalert2--&gt;
&lt;script src="{% static 'lib/sweetalert2/sweetalert2.all.min.js' %}"&gt;&lt;/script&gt;</code></pre>
          <button onclick="copiar('b29','111')" id="111">Copiar</button>
        </div>
        <li>
          Después de la tiqueta form (o mejor en mi bloque de js o scripts)
        </li>
        <div class="codigo">
          <pre><code id="b30">{% block js %}
  &lt;script&gt;
    {% if form.errors %}
      let errors = ''
      {% for field in form %}
        {% for error in field.errors %}
          errors += '{{error}}\n'
        {% endfor %}
      {% endfor %}
    Swal.fire({
      title:'!Error¡',
      text:errors,
      icon:'error'
    })
    {% endif %}
  &lt;/script&gt;
{% endblock js %}
          </code></pre>
          <button onclick="copiar('b30','112')" id="112">Copiar</button>
        </div>
        <ul>
          <li>
            abro el bloque, abro una etiqueta script para escribir el código js
          </li>
          <li>pregunto si hay errores en el form</li>
          <li>Si los hay, creo una variable para guardarlos</li>
          <li>
            Recorro los campos de mi form y luego recorro cada campo obteniendo
            su error si lo tiene y guardarlo en esa variable
          </li>
          <li>
            Luego de guardarlos, utilizo una función Swal.fire y le paso los
            valores correspondientes para mostrar el modal del error
          </li>
        </ul>
        <li>
          En los template principales puse un <b>form.html</b> y pongo todo ahi,
          y en mi template de mi app, lo heredo de ese,
          <b>{% extends 'form.html' %}</b>
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-29">
        <h2>
          <i>Video 29</i>: CreateView | Implementando ajax para el envío de
          datos
        </h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=4ZPE76U5EfQ&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=29&pp=iAQB"
        >Link del video 29</a
      >
      <ul>
        <li>
          En el bloque script de mi <b>form.html</b> creo una función para
          capturar el evento del submit del formulario y asi obtener los datos
          de formulario
        </li>
        <div class="codigo">
          <pre><code id="b31">$('form').on('submit', function (e){
  e.preventDefault();
  var parameters = $(this).serializeArray();
  console.log(parameters);
      $.ajax({
            url:'{% url 'erp:category_create' %}',
            type: 'POST',
            data: parameters,
            dataType: 'json'
        }).done(function (data) {
            if(!data.hasOwnProperty('error')){
            location.href = '{{list_url}}'
            return false;
    }
        }).fail(function (jqXHR,textStatus,errorThrown){
  
        }).always(function () {
        })
    })

          </code></pre>
          <button onclick="copiar('b31','113')" id="113">Copiar</button>
        </div>
        <ul>
          <li>
            en el <b>$('form')</b> hago referencia al formulario que este en la
            pagina
          </li>
          <li>
            en el <b>e.preventDefault()</b> hago que no se envien los datos, ya
            que lo hare con ajax
          </li>
          <li>
            En la variable <b>parameters</b> pongo los datos de mi formulario en
            un diccionario, <b>this</b> hace referencia al objeto actual, que en
            este caso es el formulario y con la función
            <b>serializeArray</b> obtengo los valores y los convierto en
            diccionario
          </li>
          <li>
            creo el ajax para la petición, en <b>data</b> le paso el diccionario
          </li>
          <li>
            En el if verifico si el diccionario que me retorna la petición post
            no tiene un valor llamado error, si no lo tiene, lo redirecciono a
            la vista del listado y el <b>return false</b> es para que salga de
            esa ejecución
          </li>
        </ul>
        <li>
          Modifico el método <b>save</b> de mi clase <b>CategoryForm</b> en mi
          archivo form.py, para validar el formulario desde ahi
        </li>
        <div class="codigo">
          <pre><code id="b32">def save(self,commit=True):
    data = {}
    form = super()
    try:
        if form.is_valid():
            form.save()
        else:
            data['error']=form.errors
    except Exception as e:
        data['errors']=str(e)
    return data
          </code></pre>
          <button onclick="copiar('b32','114')" id="114">Copiar</button>
        </div>
        <ul>
          <li>
            creo el data vacio, con la función <b>super()</b> obtengo el
            formulario
          </li>
          <li>
            en un try meto la validacion, si tiene errores los meto en una clave
            <b>error</b> en el diccionario del data, sea un error del
            diccionario o algun otro que atrape el try catch, sino, se guardan
            los valores, y al final retorno el data
          </li>
        </ul>
        <li>Modifico el método post de mi vista <b>CategoryCreateView</b></li>
        <div class="codigo">
          <pre><code id="b33">def post(self, request,*args, **kwargs):
    data = {}
    try:
      action=request.POST['action']
      if action=='add':
        form=self.get_form()
        data = form.save()
      else:
        data['error']='No ha ingresado a ninguna opción'
    except Exception as e:
       data['error']=str(e)
       
    return JsonResponse(data)</code></pre>
          <button onclick="copiar('b33','115')" id="115">Copiar</button>
        </div>
        <ul>
          <li>creo el diccionario data</li>
          <li>
            dentro de un try meto la ejecucion para capturar cualquier error
          </li>
          <li>
            recupero el valor del input action,el cual lo agregare más adelante,
            y pregunto si tiene el valor <b>add</b>
          </li>
          <li>
            si tiene el valor add, obtengo el formulario, podria hacerlo asi
            <b>form=CategoryForm(request.POST)</b>, pero si fuera un formulario
            con archivos, eso van en el <b>request.FILES</b> pero con el
            <b>self.get_form()</b> obtengo el formulario y todos los datos
          </li>
          <li>
            como modifique el <b>save()</b> para que haga la verificación, nomas
            lo ejecuto y guardo en el data para capturar si esta vacio o con
            errores y ya retorno la respuesta Json
          </li>
        </ul>
        <li>
          Dentro del formulario agrego un input escondido con un valor que sera
          el del action para saber que acción va a realizar, en este caso, de
          agregar una categoria
        </li>
        <div class="codigo">
          <pre><code id="b34">&lt;input type="hidden" name="action" value="{{action}}"&gt;
</code></pre>
          <button onclick="copiar('b34','116')" id="116">Copiar</button>
        </div>
        <ul>
          <li>
            la acción la obtengo de una variable que le pase en el
            get_context_data de mi CategoryCreateView para saber la acción
            <b>context['action']='add'</b>
          </li>
        </ul>
        <li>
          Si llega a haber un error, puedo crear una función en un js en mi
          carpeta static donde capture el error y cree una alerta para ello
        </li>
        <ul>
          <li>
            Primero, ya con la libreria de las alertas importada en home,
            importamos tambien el archivo functions.js que pusimos en la carpeta
            js de los static
          </li>
          <div class="codigo">
            <pre><code id="b35">&lt;!--mis js--&gt;
  &lt;script src="{% static 'js/functions.js' %}"&gt;&lt;/script&gt;</code></pre>
            <button onclick="copiar('b35','117')" id="117">Copiar</button>
          </div>
          <li>
            Ahi en ese archivo creamos una función para leer los errores que nos
            retorna el post y ponerlos en una alerta, en la función comparamos
            si llega como objeto, si llega asi, lo recorremos, de lo contrario
            solo lo ponemosen una etiqueta p porque si no es objeto, es un
            string
          </li>
          <div class="codigo">
            <pre><code id="b36">function message_error(obj) {
  var html = "";
  if (typeof obj === "object") {
    //si es un objeto, lo itero
    html = '&lt;ul style="text-align: Left; "&gt;';
    $.each(obj, function (key, value) {
      html += "&lt;li&gt;" + key + ": " + value + "&lt;/li&gt;";
    });
    html += "&lt;/ul&gt;";
  } else {
    //sino, puede ser un string, solo se lo paso
    html = "&lt;p&gt;" + obj + "&lt;/p&gt;";
  }

  Swal.fire({
    title: "¡Error!",
    html: html,
    icon: "error",
  });
}
</code></pre>
            <button onclick="copiar('b36','118')" id="118">Copiar</button>
          </div>
          <li>
            En el <b>Swal.fire</b> ya no le paso un "text", sino un "html"
            porque construi uno para los errores
          </li>
          <li>
            como los errores los estoy pasando por el data, ajax lo recibe por
            el done, entones después del if, ejecuto la función, porque si tiene
            errores, no saldra de la página ejecutara esa alerta de error
          </li>
          <div class="codigo">
            <pre><code id="b37">if(!data.hasOwnProperty('error')){
location.href = '{{list_url}}'
return false;
    }
    message_error(data.error);</code></pre>
            <button onclick="copiar('b37','119')" id="119">Copiar</button>
          </div>
          <li>
            En la función nomás le paso los erroes que vengan en el data y eso
            generar la alerta de la libreria diciendole cual es el error
          </li>
        </ul>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-30">
        <h2><i>Video 30</i>: UpdateView | Editando un registro</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=_G6Puwr7b88&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=30&pp=iAQB"
        >Link del video 30</a
      >
      <ul>
        <li>Importamos la vista a trabajar</li>
        <div class="codigo">
          <pre><code id="b38">from django.views.generic import UpdateView</code></pre>
          <button onclick="copiar('b38','120')" id="120">Copiar</button>
        </div>
        <li>Creamos la clase</li>
        <div class="codigo">
          <pre><code id="b39">class CategoryUpdateView(UpdateView):
  model = Category
  form_class = CategoryForm
  template_name = 'category/create.html'
  success_url = reverse_lazy('erp:category_list')

  def dispatch(self, request, *args, **kwargs):
    self.object = self.get_object()
    return super().dispatch(request, *args, **kwargs)

  def post(self, request,*args, **kwargs):
    data = {}
    try:
      action=request.POST['action']
      if action=='edit':
        form=self.get_form()
        data = form.save()
      else:
        data['error']='No ha ingresado a ninguna opción'
    except Exception as e:
       data['error']=str(e)
       
    return JsonResponse(data)

  def get_context_data(self, **kwargs):
     context = super().get_context_data(**kwargs)
     context['title']='Edición de una categoria'
     context['entity']='Categorias'
     context['list_url']=reverse_lazy('erp:category_list')
     context['action']='edit'
     return context</code></pre>
          <button onclick="copiar('b39','121')" id="121">Copiar</button>
        </div>
        <ul>
          <li>
            los atributos son iguales al <b>CategoryCreateView</b>, porque vamos
            a utilizar el mismo template de <b>create.html</b> para probar
          </li>
          <li>
            el <b>get_context_data</b> es el mismo, solo cambia el action por
            edit
          </li>
          <li>
            Si las funciónes post, el <b>dispatch</b>, el save del formulario y
            el ajax del form lo comentamos y probamos (ahora después de
            configurar las <b>urls.py</b>), actualiza normalmente, pero si
            queremos utilizar ajax para utilizar las alertas dejamos esos
            metodos
          </li>
          <li>
            En el <b>dispatch</b> del <b>CategoryUpdateView</b>, debemos pasarle
            el objeto a modificar en el <b>self.object</b>, con la función
            <b>get_object()</b>
          </li>
          <li>
            en el post, ponemos lo mismo que en el <b>CategoryCreateView</b>,
            solo cambiamos el action, de add a edit en la verificación. Si no
            hubieramos hecho la modificación en el dispatch, al intentar
            actualizar lanzaria un error, porque estariamos intentando crear un
            objeto en vez de actualizarlo, porque encontraria el self.object
            como None
          </li>
          <li>
            Con el get_object() obtengo el objeto a modificar, y asi el get_form
            ya no seria un tipo <b>CategoryForm(request.POST)</b> sino que crea
            la instancia y deja actualizar
            <b>CategoryForm(request.POST,instance=self.object)</b>, esto puedo
            verlo en la documentacion
          </li>
        </ul>
        <li>
          En el <b>create.html</b>, en la url del ajax, utilizamos
          <b>window.location.pathname</b> para capturar la ruta actual, la cual
          es donde voy a enviar la petición
        </li>
        <li>
          Agregamos la url de la vista <b>CategoryCreateView</b>, si o si debe
          recibir el pk por la url
        </li>
        <div class="codigo">
          <pre><code id="b40">path('category/edit/&lt;int:pk&gt;/',CategoryUpdateView.as_view(),name='category_update')</code></pre>
          <button onclick="copiar('b40','122')" id="122">Copiar</button>
        </div>
        <li>
          En la lista, pongo como url al boton de editar para editar cada
          elemento, pasandole el respectivo parametro, el id del registro
        </li>
        <div class="codigo">
          <pre><code id="b41">&lt;a href="{% url 'erp:category_update' c.id %}" class="btn btn-warning btn-xs"&gt;
      &lt;i class="fas fa-edit"&gt;&lt;/i&gt;
    &lt;/a&gt;</code></pre>
          <button onclick="copiar('b41','123')" id="123">Copiar</button>
        </div>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-31">
        <h2><i>Video 31</i>: DeleteView | Eliminando un registro</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=IYQFt8XJiIU&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=31"
        >Link del video 31</a
      >
      <ul>
        <li>Importamos la clase de la vista a utilizar</li>
        <div class="codigo">
          <pre><code id="b42">from django.views.generic import DeleteView</code></pre>
          <button onclick="copiar('b42','124')" id="124">Copiar</button>
        </div>
        <li>Creamos la vista</li>
        <div class="codigo">
          <pre><code id="b43">class CategoryDeleteView(DeleteView):
  model = Category
  template_name = 'category/delete.html'
  success_url = reverse_lazy('erp:category_list')

  def get_context_data(self, **kwargs):
     context = super().get_context_data(**kwargs)
     context['title']='Eliminación de una categoria'
     context['entity']='Categorias'
     context['list_url']=reverse_lazy('erp:category_list')
     return context</code></pre>
          <button onclick="copiar('b43','125')" id="125">Copiar</button>
        </div>
        <ul>
          <li>
            en esta clase, le pasamos el modelo, el template_name el cual ahora
            crearemos, y el success_url el cual es la lista
          </li>
          <li>
            Modificamos el get_context_data igual que el CategoryUpdateView solo
            que le quitamos el action porque en este video no vamos a utilizar
            ajax
          </li>
        </ul>
        <li>Creamos la url para la vista, este tambien debe recibir el pk</li>
        <div class="codigo">
          <pre><code id="b44">path('category/delete/&lt;int:pk&gt;/',CategoryDeleteView.as_view(),name='category_delete')</code></pre>
          <button onclick="copiar('b44','126')" id="126">Copiar</button>
        </div>
        <li>
          modificamos el boton de borrar de la lista para poner el link hacia
          nuestra lista, pasandole el id del registro
        </li>
        <div class="codigo">
          <pre><code id="b45">&lt;a href="{% url 'erp:category_delete' c.id %}" class="btn btn-danger btn-xs"&gt;
      &lt;i class="fas fa-trash-alt"&gt;&lt;/i&gt;
    &lt;/a&gt;
</code></pre>
          <button onclick="copiar('b45','127')" id="127">Copiar</button>
        </div>
        <li>
          Creamos el delete.html para la vista del la clase DeleteVew, la cual
          recibe un formulario de confirmación, copiamos y pegamos el template
          de formulario, pero le agregamos un alert tipo card como advertencia y
          quitamos lo que no vamos a utilizar
        </li>
        <div class="codigo">
          <pre><code id="b46">{% extends 'body.html' %} {% load widget_tweaks %} {% block content %}
&lt;form method="post"&gt;
  &lt;div class="card card-default"&gt;
    &lt;div class="card-header"&gt;
      &lt;h3 class="card-title"&gt;
        &lt;i class="fas fa-plus"&gt;&lt;/i&gt;
        {{title}}
      &lt;/h3&gt;
    &lt;/div&gt;
    &lt;div class="card-body"&gt;
      {% csrf_token %}
      &lt;input type="hidden" name="action" value="{{action}}" /&gt;
      {% if form.errors %}
      &lt;div class="alert alert-danger alert-dismissible"&gt;
        &lt;button
          type="button"
          class="close"
          data-dismiss="alert"
          aria-hidden="true"
        &gt;
          ×
        &lt;/button&gt;
        &lt;h5&gt;
          &lt;i class="icon fas fa-ban"&gt;&lt;/i&gt; Ha ocurrido un error al querer guardar
          el registro
        &lt;/h5&gt;
        &lt;ul&gt;
          {% for field in form %} 
            {% for error in field.errors %}
              &lt;li&gt;{{error}}&lt;/li&gt;
            {% endfor %} 
          {% endfor %}
        &lt;/ul&gt;
      &lt;/div&gt;
      {% endif %}
      
      &lt;div class="alert alert-danger alert-dismissible"&gt;
                  &lt;h5&gt;&lt;i class="icon fas fa-ban"&gt;&lt;/i&gt; ¡Notificación!&lt;/h5&gt;
                  ¿Estas seguro de eliminar el registro Nro {{object.id}}?
                &lt;/div&gt;
      &lt;div class="cad-footer"&gt;
        &lt;button type="submit" class="btn btn-primary" id="btnTest"&gt;
          &lt;i class="fas fa-save"&gt;&lt;/i&gt;
          Si, aceptar
        &lt;/button&gt;
        &lt;a href="{{list_url}}" type="submit" class="btn btn-info" id="btnTest"&gt;
          &lt;i class="fas fa-times"&gt;&lt;/i&gt;
          Cancelar
        &lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/form&gt;
{% endblock content %}
</code></pre>
          <button onclick="copiar('b46','128')" id="128">Copiar</button>
        </div>
        <ul>
          <li>
            En la variable <b>object</b> esta el registro, asi accedo a su id o
            nombre tambien
          </li>
          <li>
            Ya esperar que pasa en los siguientes videos para mejorar este
            template y como se utilizara con ajax
          </li>
        </ul>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-32">
        <h2>
          <i>Video 32</i>: DeleteView | Implementando ajax para el eliminar un
          registro
        </h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=mKi-yPngFJE&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=32"
        >Link del video 32</a
      >
      <ul>
        <li>
          Como estoy utilizando el form para crear y editar, le cambio el icono
          dependiendo del <b>action</b> que le pase
        </li>
        <div class="codigo">
          <pre><code id="b47">&lt;h3 class="card-title"&gt;
  {% if action == 'add' %}
    &lt;i class="fas fa-plus"&gt;&lt;/i&gt;
  {% else %}
    &lt;i class="fas fa-edit"&gt;&lt;/i&gt;
  {% endif %}
  {{title}}
&lt;/h3&gt;</code></pre>
          <button onclick="copiar('b47','129')" id="129">Copiar</button>
        </div>
        <ul>
          <li>
            Asi quedaria el <b>h3</b>, en el if, me da un error si lo hago asi
            <b>action=='add'</b>, debe tener sus espacion,
            <b>action == 'add'</b>
          </li>
        </ul>
        <li>
          Al <b>delete.html</b> le modifico el icono por uno de basura, quedaria
          asi
        </li>
        <div class="codigo">
          <pre><code id="b48">&lt;h3 class="card-title"&gt;
        &lt;i class="fas fa-trash"&gt;&lt;/i&gt;
        {{title}}
      &lt;/h3&gt;
</code></pre>
          <button onclick="copiar('b48','130')" id="130">Copiar</button>
        </div>
        <li>
          Copio el ajax que realice en el <b>form.html</b>, porque lo utilizaria
          de la misma forma
        </li>
        <div class="codigo">
          <pre><code id="b49">$('form').on('submit', function (e){
      e.preventDefault();
      var parameters = $(this).serializeArray();
      $.ajax({
            url:window.location.pathname,
            type: 'POST',
            data: parameters,
            dataType: 'json'
        }).done(function (data) { 
    if(!data.hasOwnProperty('error')){
location.href = '{{list_url}}'
return false;
    }
    message_error(data.error);
        }).fail(function (jqXHR,textStatus,errorThrown){
  alert(`${textStatus} : ${errorThrown}`)
        }).always(function () {
        })
    })
</code></pre>
          <button onclick="copiar('b49','131')" id="131">Copiar</button>
        </div>
        <ul>
          <li>
            tiene la misma forma, la diferencia es que no tendria campos de
            formulario, solo la confirmación, pero ahi se envia el
            <b>csfr_token</b> para la seguridad, pero si quiero, no le envio
            parametros, pero tendria que en el <b>dispatch</b> debo poner el
            decorador <b>csfr_exempt</b> para que no necesite enviarle
            parametros
          </li>
        </ul>
        <li>
          Modificamos el <b>dispatch</b> porque necesitamos la instancia del
          objeto/registro a borrar y debemos ponerlo en el dispatch para que
          ahora que modifiquemos el post tenga esa instancia del objeto y poder
          borrarlo
        </li>
        <div class="codigo">
          <pre><code id="b50">def dispatch(self,request, *args, **kwargs):
    self.object = self.get_object()
    return super().dispatch(request, *args, **kwargs)
        </code></pre>
          <button onclick="copiar('b50','132')" id="132">Copiar</button>
        </div>
        <ul>
          <li>
            Cuando sobre escribo el <b>post</b>, el <b>self.object</b> que tiene
            la instacia, queda vacio, asi que modifico el dispatch para capturar
            la instacia
          </li>
        </ul>
        <li>
          Ahora modificamos el post para eliminar el objeto o retornar los
          errores
        </li>
        <div class="codigo">
          <pre><code id="b51">def post(self, request, *args, **kwargs):
    data = {}
    try:
      self.object.delete()
    except Exception as e:
      data['error']=str(e)
    return JsonResponse(data)
</code></pre>
          <button onclick="copiar('b51','133')" id="133">Copiar</button>
        </div>
        <ul>
          <li>
            ya como tengo la instancia (gracias al distpach), osea el
            <b>CategoryForm(request, instance=self.object)</b>, ya puedo aplicar
            su función <b>.delete()</b> y retorno la respuesta json
          </li>
        </ul>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-33">
        <h2>
          <i>Video 33</i>: ListView | Cargar datos en mi tabla con ajax y
          datatable
        </h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=ec3xGLJnLcQ&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=33"
        >Link del video 33</a
      >
      <ul>
        <li>
          Primero eliminamos todo de la tabla <b>erp_category</b>, en este caso
          yo utilizo mysql y es de la siguiente manera
        </li>
        <div class="codigo">
          <pre><code id="bb">DELETE FROM erp_category;
ALTER TABLE erp_category AUTO_INCREMENT=1;
</code></pre>
          <button onclick="copiar('bb','b136')" id="b136">Copiar</button>
        </div>
        <ul>
          <li>
            El alter table es para reiniciar el conteo a 1 con el auto_increment
          </li>
        </ul>
        <li>
          Con este codigo podemos generar esos 6000 registros sin que se
          repitan, lo ejecutamos en <b>test.py</b>
        </li>
        <div class="codigo">
          <pre><code id="z999">import random

#creo el arreglos de letras
letters = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']

for i in range(1,6000):
    #creo el registro aleatoriamente, k=5 osea de 5 letras
    name=''.join(random.choices(letters,k=5))
    #pregunto si existe, si existe creo otro hasta que no exista, guardo y repito
    while Category.objects.filter(name=name).exists():
        name = ''.join(random.choices(letters,k=5))
    Category(name=name).save()
    print(f'Guardado registro {i}')</code></pre>
          <button onclick="copiar('z999','z998')" id="z998">Copiar</button>
        </div>
        <li>
          En el list.html de category, le comentamos el for porque ya vamos a
          cargar los datos con datatable, solo le dejamos las columnas y al
          final llamamos el bloque <b>javascript</b> o en mi caso <b>js</b>, y
          asi lo limpiamos porque de donde esta heredando esta ejecutando un
          código ahi, y ya ahora vamos a cargar nuestro archivo .js para la
          carga con datatable y ajax
        </li>
        <li>
          en el <b>list.html</b> de los templates principales, creo un bloque
          <b>head_list</b> dentro del bloque <b>head</b> para cargar los scripts
          solo para ese template
        </li>
        <li>
          creamos una carpeta <b>static</b> dentro de la app para mis archivos
          estaticos solo para esa app, creo la carpeta js, y luego un archivo
          llamado <b>list.js</b>
        </li>
        <li>Vamos al post de CategoryListView y lo modificamos</li>
        <div class="codigo">
          <pre><code id="b52">try:
  action = request.POST['action']
  if action == 'searchdata':
    data = []
    for i in Category.objects.all():
      data.append(i.toJSON())
  else:
    data['error']='Ha ocurrido un error'
except Exception as e:
  data['error']=str(e)
    return JsonResponse(data,safe=False)</code></pre>
          <button onclick="copiar('b52','134')" id="134">Copiar</button>
        </div>
        <ul>
          <li>quito la petición que estaba haciendo</li>
          <li>recupero el action que venga en el post para saber la acción</li>
          <li>
            si es <b>searchdata</b> le envio todos los datos pero en data ya
            seria un arreglo porque asi los va a recibir DataTable
          </li>
          <li>
            recorro todos los registros y a cada registro lo guardo en el
            arreglo conviertiendolo en un diccionario con la función que ya le
            habiamos creado, <b>toJSON</b>
          </li>
          <li>
            si no es <b>searchdata</b> le decimos en los errores del data, que
            ha ocurrido un error, o si sale algun otro error, lo capturamos y
            retornamos
          </li>
        </ul>
        <li>
          Ahora en el archivo <b>list.js</b> de nuestra app, lo importamos en el
          bloque <b>head_list</b>
        </li>
        <div class="codigo">
          <pre><code id="b53">{% block head_list %}
&lt;script src="{% static 'category/js/list.js' %}"&gt;&lt;/script&gt;
{% endblock head_list %}</code></pre>
          <button onclick="copiar('b53','135')" id="135">Copiar</button>
        </div>
        <li>Ahora dentro de ese archivo agregamos el siguiente código</li>
        <div class="codigo">
          <pre><code id="b54">$(function () {
  $("#data").DataTable({
    responsive: true,
    autoWidth: false,
    destroy: true,
    deferRender: true,
    ajax: {
      url: window.location.pathname,
      type: "POST",
      data: {
        action: "searchdata",
      },
      dataSrc: "",
    },
    columns: [
      { data: "id" },
      { data: "name" },
      { data: "desc" },
      { data: "desc" },
    ],
    columnDefs: [
      {
        targets: [-1],
        class: "text-center",
        orderable: true,
        render: function (data, type, row) {
          var botones = `&lt;a href="/erp/category/update/${row.id}" class="btn btn-warning btn-xs"&gt;&lt;i class="fas fa-edit"&gt;&lt;/i&gt;&lt;/a&gt; `;
          botones += `&lt;a href="/erp/category/delete/${row.id}" class="btn btn-danger btn-xs"&gt;&lt;i class="fas fa-trash-alt"&gt;&lt;/i&gt;`;
          return botones;
        },
      },
    ],
    initComplete: function (settings, json) {},
  });
});
</code></pre>
          <button onclick="copiar('b54','136')" id="136">Copiar</button>
        </div>
        <ul>
          <li>
            el <b>$(function () {toda la ejecución});</b> es para que se ejecute
            apenas cargue la página
          </li>
          <li>El <b>responive</b> le digo que si va a ser responsivo</li>
          <li>El <b>autoWidt</b> que respete el ancho que yo le ponga</li>
          <li>
            el <b>destroy</b> por si quiero reinicializar la tabla con otro
            proceso
          </li>
          <li>
            el <b>deferRender</b> hagiliza la carga de los datos si superan los
            50k registros
          </li>
          <li>En el ajax le paso la configuración para el envio de datos</li>
          <ul>
            <li>
              en <b>url</b> le pongo a donde va a hacer la petición, que en este
              caso es a la misma vista
            </li>
            <li>en <b>type</b> el tipo de petición</li>
            <li>
              en <b>data</b> le paso los parametros, en este caso solo el
              <b>action</b> para que sepa que accion va a realizar
            </li>
            <li>
              en <b>dataSrc</b> como no meti los arreglos que pido a la vista en
              un diccionario donde vaya el arreglo, entonces dejo esto vacio, le
              pondria data si hubiera mandando los datos asi: data =
              {'data':[...todos los registros...]}
            </li>
          </ul>
          <li>
            en <b>columns</b>, van las columnas a mostrar, como llegan los datos
            por diccionarios dentro del arreglo que DataTable recorre, entonces
            accedo a cada valor y duplico el ultimo porque tengo una columna de
            opciones
          </li>
          <li>
            el ultimo lo duplico para que aparezca otra columna, en este caso la
            de opciones, y pues igual puedo modificarlo para ponerle los botones
          </li>
          <li>
            En <b>columnDefs</b> aqui personalizo cada columna o una en
            especifico
          </li>
          <ul>
            <li>
              en <b>targets</b> el -1 hace referencia a la ultima fila, si lo
              pusiera -2, al penultimo y asi, o de arriba hacia abajo iniciando
              con 0
            </li>
            <li>
              en <b>class</b> van las clases que quiero ponerle o necesito
              ponerle
            </li>
            <li>El <b>orderable</b> viene por defecto</li>
            <li>
              en <b>render</b> va las modificaciones que le voy a hacer a las
              tablas
            </li>
            <ul>
              <li>
                en los parametros que recibe la función de <b>render</b>, data
                hace referencia al valor de la columna, si lo retorno,
                retornaria la descripción si la tiene, pero puedo retornar
                cualquier otra cosa, y el row hace referencia a todo el objeto,
                puedo accedes hasta el id, name, etc
              </li>
              <li>
                si en return le pongo &lt;b&gt;hola&lt;/b&gt; en esa columna se
                va a poner solo eso (en el list.html donde estan las columnas,
                agrego el de descripción que me falta)
              </li>
              <li>
                En este caso, voy a enviarles una variable con los botones, en
                este caso, los botones de borrar y editar
              </li>
              <li>
                Para poner el link de cada elemento, como ya aqui no lo
                renderiza jinja, pongo la rutas como son, y sabemos que reciben
                ids, y gracias a row, puedo acceder a modo de diccionario al id
                correspondiente
              </li>
              <li>
                el <b>initComplete</b> se ejecuta cuando la tabla se haya
                cargado por completo, en este caso, no voy a ejecutar nada
              </li>
            </ul>
          </ul>
        </ul>
        <li>
          De esta forma los registros se cargan aun más rapido y eso que estoy
          utilizando la base de datos en la nube
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-34">
        <h2><i>Video 34</i>: Puliendo nuestro proyecto</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=4QH-ml-_93s&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=34"
        >Link del video 34</a
      >
      <ul>
        <li>
          En este video, el profe modifica algunos archivos para continuar con
          el proyecto, solo seria descargarlo y poner los cambios realizados y
          continuar
        </li>
        <li><b>Cambios realizados:</b></li>
        <ul>
          <li>En el <b>settings.py</b> va a utilizar sqlite3</li>
          <li>
            En la vistas de category quita la vista basada en clases y quita las
            importaciones que no se estan utilizando, yo comente todo lo que se
            iba a quitar
          </li>
          <li>
            En las url quita la ruta de la vista basada en función que también
            la comenté
          </li>
          <li>
            En los template los reorganiza, ahi si copie y peqgue porque cambio
            unas cosas del header, pero como tengo mi carpeta static diferente
            un poco las rutas, copie, pegué pero revise los llamados a los
            archivos estaticos para ver que se llamaran correctamente
          </li>
          <li>
            Y creo un archivo <b>layout.html</b> para cambiar de vista
            rapidamente, la cual ya van a heredar form.html, list.html y
            delete.html
          </li>
        </ul>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-35">
        <h2><i>Video 35</i>: TemplateView | Creando nuestro index</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=JoSj9QjTITI&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=35"
        >Link del video 35</a
      >
      <ul>
        <li>
          Creamos una app dentro de core llamada <b>homepage</b> para la vista
          principal del proyecto
        </li>
        <li>
          la registramos en el <b>INSTALLED_APPS</b> del <b>setting.py</b> y
          dentro de la app, en el archivo <b>apps.py</b> poner el
          <b>'core.homepage'</b> para que no haya errores
        </li>
        <li>
          En el archivo <b>views.py</b> creamos la vista principal, con una
          vista generica basada en clase llamada <b>TemplateView</b>
        </li>
        <div class="codigo">
          <pre><code id="b55">from django.views.generic import TemplateView

class IndexView(TemplateView):
    template_name = 'index.html'</code></pre>
          <button onclick="copiar('b55','137')" id="137">Copiar</button>
        </div>
        <ul>
          <li>
            Le pasamos el <b>template_name</b> el cual estara en la carpeta
            templates de la app (borramos el index.html que esta en el proyecto
            principal porque no se esta utilizando)
          </li>
        </ul>
        <li>
          En el archivo <b>urls.py</b> del proyecto, importo las vistas de mi
          app <b>homepage</b> y agrego la vista a la ruta principal, no creo el
          urls.py dentro de la app porque solo es para la vista principal
        </li>
        <div class="codigo">
          <pre><code id="b56">from django.contrib import admin
from django.urls import path,include
from core.homepage.views import IndexView
urlpatterns = [
    path('admin/', admin.site.urls),
    path('erp/',include('core.erp.urls')),
    path('',IndexView.as_view())
]</code></pre>
          <button onclick="copiar('b56','138')" id="138">Copiar</button>
        </div>
        <li>
          Vamos a descargar una plantilla de la pagina <b>BootstrapMade</b> para
          utilizarla en el proyecto, la plantilla es
          <b
            ><a
              target="_blank"
              href="https://bootstrapmade.com/iportfolio-bootstrap-portfolio-websites-template/"
              >esta</a
            ></b
          >
        </li>
        <li>Se descarga el comprimido y se descomprime</li>
        <li>
          Copiamos todo el codigo del <b>index.html</b> de la plantilla lo
          pegamos en el index.html de nuestra app
        </li>
        <li>Creamos una carpeta <b>static</b> en nuestra app</li>
        <li>copiamos la carpeta <b>assets</b> dentro de la carpeta</li>
        <li>
          a la plantilla para que utilice sus archivos necesarios, toca cambiar
          las rutas las cuales llama a los archivos que necesita (scr y href)
          con la sintaxis <b>{% static '' %}</b>, es algo tedioso pero toca,
          solo cortamos la ruta que esta utilizamos y pegamos en las comillas
          del static
        </li>
        <div class="codigo codigo-largo">
          <button onclick="copiar('b57','139')" id="139">Copiar</button>
          <pre><code id="b57">{% load static %}
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;meta content="width=device-width, initial-scale=1.0" name="viewport"&gt;

  &lt;title&gt;iPortfolio Bootstrap Template - Index&lt;/title&gt;
  &lt;meta content="" name="description"&gt;
  &lt;meta content="" name="keywords"&gt;

  &lt;!-- Favicons --&gt;
  &lt;link href="{% static 'assets/img/favicon.png' %}" rel="icon"&gt;
  &lt;link href="{% static 'assets/img/apple-touch-icon.png' %}" rel="apple-touch-icon"&gt;

  &lt;!-- Google Fonts --&gt;
  &lt;link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet"&gt;

  &lt;!-- Vendor CSS Files --&gt;
  &lt;link href="{% static 'assets/vendor/aos/aos.css' %}" rel="stylesheet"&gt;
  &lt;link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet"&gt;
  &lt;link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet"&gt;
  &lt;link href="{% static 'assets/vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet"&gt;
  &lt;link href="{% static 'assets/vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet"&gt;
  &lt;link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet"&gt;

  &lt;!-- Template Main CSS File --&gt;
  &lt;link href="{% static 'assets/css/style.css' %}" rel="stylesheet"&gt;

  &lt;!-- =======================================================
  * Template Name: iPortfolio
  * Updated: Mar 10 2023 with Bootstrap v5.2.3
  * Template URL: https://bootstrapmade.com/iportfolio-bootstrap-portfolio-websites-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== --&gt;
&lt;/head&gt;

&lt;body&gt;

  &lt;!-- ======= Mobile nav toggle button ======= --&gt;
  &lt;i class="bi bi-list mobile-nav-toggle d-xl-none"&gt;&lt;/i&gt;

  &lt;!-- ======= Header ======= --&gt;
  &lt;header id="header"&gt;
    &lt;div class="d-flex flex-column"&gt;

      &lt;div class="profile"&gt;
        &lt;img src="{% static 'assets/img/profile-img.jpg' %}" alt="" class="img-fluid rounded-circle"&gt;
        &lt;h1 class="text-light"&gt;&lt;a href="#"&gt;Alex Smith&lt;/a&gt;&lt;/h1&gt;
        &lt;div class="social-links mt-3 text-center"&gt;
          &lt;a href="#" class="twitter"&gt;&lt;i class="bx bxl-twitter"&gt;&lt;/i&gt;&lt;/a&gt;
          &lt;a href="#" class="facebook"&gt;&lt;i class="bx bxl-facebook"&gt;&lt;/i&gt;&lt;/a&gt;
          &lt;a href="#" class="instagram"&gt;&lt;i class="bx bxl-instagram"&gt;&lt;/i&gt;&lt;/a&gt;
          &lt;a href="#" class="google-plus"&gt;&lt;i class="bx bxl-skype"&gt;&lt;/i&gt;&lt;/a&gt;
          &lt;a href="#" class="linkedin"&gt;&lt;i class="bx bxl-linkedin"&gt;&lt;/i&gt;&lt;/a&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;nav id="navbar" class="nav-menu navbar"&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href="#hero" class="nav-link scrollto active"&gt;&lt;i class="bx bx-home"&gt;&lt;/i&gt; &lt;span&gt;Home&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href="#about" class="nav-link scrollto"&gt;&lt;i class="bx bx-user"&gt;&lt;/i&gt; &lt;span&gt;About&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href="#resume" class="nav-link scrollto"&gt;&lt;i class="bx bx-file-blank"&gt;&lt;/i&gt; &lt;span&gt;Resume&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href="#portfolio" class="nav-link scrollto"&gt;&lt;i class="bx bx-book-content"&gt;&lt;/i&gt; &lt;span&gt;Portfolio&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href="#services" class="nav-link scrollto"&gt;&lt;i class="bx bx-server"&gt;&lt;/i&gt; &lt;span&gt;Services&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href="#contact" class="nav-link scrollto"&gt;&lt;i class="bx bx-envelope"&gt;&lt;/i&gt; &lt;span&gt;Contact&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/nav&gt;&lt;!-- .nav-menu --&gt;
    &lt;/div&gt;
  &lt;/header&gt;&lt;!-- End Header --&gt;

  &lt;!-- ======= Hero Section ======= --&gt;
  &lt;section id="hero" class="d-flex flex-column justify-content-center align-items-center"&gt;
    &lt;div class="hero-container" data-aos="fade-in"&gt;
      &lt;h1&gt;Alex Smith&lt;/h1&gt;
      &lt;p&gt;I'm &lt;span class="typed" data-typed-items="Designer, Developer, Freelancer, Photographer"&gt;&lt;/span&gt;&lt;/p&gt;
    &lt;/div&gt;
  &lt;/section&gt;&lt;!-- End Hero --&gt;

  &lt;main id="main"&gt;

    &lt;!-- ======= About Section ======= --&gt;
    &lt;section id="about" class="about"&gt;
      &lt;div class="container"&gt;

        &lt;div class="section-title"&gt;
          &lt;h2&gt;About&lt;/h2&gt;
          &lt;p&gt;Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class="row"&gt;
          &lt;div class="col-lg-4" data-aos="fade-right"&gt;
            &lt;img src="{% static 'assets/img/profile-img.jpg' %}" class="img-fluid" alt=""&gt;
          &lt;/div&gt;
          &lt;div class="col-lg-8 pt-4 pt-lg-0 content" data-aos="fade-left"&gt;
            &lt;h3&gt;UI/UX Designer &amp; Web Developer.&lt;/h3&gt;
            &lt;p class="fst-italic"&gt;
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
              magna aliqua.
            &lt;/p&gt;
            &lt;div class="row"&gt;
              &lt;div class="col-lg-6"&gt;
                &lt;ul&gt;
                  &lt;li&gt;&lt;i class="bi bi-chevron-right"&gt;&lt;/i&gt; &lt;strong&gt;Birthday:&lt;/strong&gt; &lt;span&gt;1 May 1995&lt;/span&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;i class="bi bi-chevron-right"&gt;&lt;/i&gt; &lt;strong&gt;Website:&lt;/strong&gt; &lt;span&gt;www.example.com&lt;/span&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;i class="bi bi-chevron-right"&gt;&lt;/i&gt; &lt;strong&gt;Phone:&lt;/strong&gt; &lt;span&gt;+123 456 7890&lt;/span&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;i class="bi bi-chevron-right"&gt;&lt;/i&gt; &lt;strong&gt;City:&lt;/strong&gt; &lt;span&gt;New York, USA&lt;/span&gt;&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/div&gt;
              &lt;div class="col-lg-6"&gt;
                &lt;ul&gt;
                  &lt;li&gt;&lt;i class="bi bi-chevron-right"&gt;&lt;/i&gt; &lt;strong&gt;Age:&lt;/strong&gt; &lt;span&gt;30&lt;/span&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;i class="bi bi-chevron-right"&gt;&lt;/i&gt; &lt;strong&gt;Degree:&lt;/strong&gt; &lt;span&gt;Master&lt;/span&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;i class="bi bi-chevron-right"&gt;&lt;/i&gt; &lt;strong&gt;PhEmailone:&lt;/strong&gt; &lt;span&gt;email@example.com&lt;/span&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;i class="bi bi-chevron-right"&gt;&lt;/i&gt; &lt;strong&gt;Freelance:&lt;/strong&gt; &lt;span&gt;Available&lt;/span&gt;&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;p&gt;
              Officiis eligendi itaque labore et dolorum mollitia officiis optio vero. Quisquam sunt adipisci omnis et ut. Nulla accusantium dolor incidunt officia tempore. Et eius omnis.
              Cupiditate ut dicta maxime officiis quidem quia. Sed et consectetur qui quia repellendus itaque neque. Aliquid amet quidem ut quaerat cupiditate. Ab et eum qui repellendus omnis culpa magni laudantium dolores.
            &lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/section&gt;&lt;!-- End About Section --&gt;

    &lt;!-- ======= Facts Section ======= --&gt;
    &lt;section id="facts" class="facts"&gt;
      &lt;div class="container"&gt;

        &lt;div class="section-title"&gt;
          &lt;h2&gt;Facts&lt;/h2&gt;
          &lt;p&gt;Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class="row no-gutters"&gt;

          &lt;div class="col-lg-3 col-md-6 d-md-flex align-items-md-stretch" data-aos="fade-up"&gt;
            &lt;div class="count-box"&gt;
              &lt;i class="bi bi-emoji-smile"&gt;&lt;/i&gt;
              &lt;span data-purecounter-start="0" data-purecounter-end="232" data-purecounter-duration="1" class="purecounter"&gt;&lt;/span&gt;
              &lt;p&gt;&lt;strong&gt;Happy Clients&lt;/strong&gt; consequuntur quae&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="col-lg-3 col-md-6 d-md-flex align-items-md-stretch" data-aos="fade-up" data-aos-delay="100"&gt;
            &lt;div class="count-box"&gt;
              &lt;i class="bi bi-journal-richtext"&gt;&lt;/i&gt;
              &lt;span data-purecounter-start="0" data-purecounter-end="521" data-purecounter-duration="1" class="purecounter"&gt;&lt;/span&gt;
              &lt;p&gt;&lt;strong&gt;Projects&lt;/strong&gt; adipisci atque cum quia aut&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="col-lg-3 col-md-6 d-md-flex align-items-md-stretch" data-aos="fade-up" data-aos-delay="200"&gt;
            &lt;div class="count-box"&gt;
              &lt;i class="bi bi-headset"&gt;&lt;/i&gt;
              &lt;span data-purecounter-start="0" data-purecounter-end="1453" data-purecounter-duration="1" class="purecounter"&gt;&lt;/span&gt;
              &lt;p&gt;&lt;strong&gt;Hours Of Support&lt;/strong&gt; aut commodi quaerat&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="col-lg-3 col-md-6 d-md-flex align-items-md-stretch" data-aos="fade-up" data-aos-delay="300"&gt;
            &lt;div class="count-box"&gt;
              &lt;i class="bi bi-people"&gt;&lt;/i&gt;
              &lt;span data-purecounter-start="0" data-purecounter-end="32" data-purecounter-duration="1" class="purecounter"&gt;&lt;/span&gt;
              &lt;p&gt;&lt;strong&gt;Hard Workers&lt;/strong&gt; rerum asperiores dolor&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;

        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/section&gt;&lt;!-- End Facts Section --&gt;

    &lt;!-- ======= Skills Section ======= --&gt;
    &lt;section id="skills" class="skills section-bg"&gt;
      &lt;div class="container"&gt;

        &lt;div class="section-title"&gt;
          &lt;h2&gt;Skills&lt;/h2&gt;
          &lt;p&gt;Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class="row skills-content"&gt;

          &lt;div class="col-lg-6" data-aos="fade-up"&gt;

            &lt;div class="progress"&gt;
              &lt;span class="skill"&gt;HTML &lt;i class="val"&gt;100%&lt;/i&gt;&lt;/span&gt;
              &lt;div class="progress-bar-wrap"&gt;
                &lt;div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;div class="progress"&gt;
              &lt;span class="skill"&gt;CSS &lt;i class="val"&gt;90%&lt;/i&gt;&lt;/span&gt;
              &lt;div class="progress-bar-wrap"&gt;
                &lt;div class="progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;div class="progress"&gt;
              &lt;span class="skill"&gt;JavaScript &lt;i class="val"&gt;75%&lt;/i&gt;&lt;/span&gt;
              &lt;div class="progress-bar-wrap"&gt;
                &lt;div class="progress-bar" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

          &lt;/div&gt;

          &lt;div class="col-lg-6" data-aos="fade-up" data-aos-delay="100"&gt;

            &lt;div class="progress"&gt;
              &lt;span class="skill"&gt;PHP &lt;i class="val"&gt;80%&lt;/i&gt;&lt;/span&gt;
              &lt;div class="progress-bar-wrap"&gt;
                &lt;div class="progress-bar" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;div class="progress"&gt;
              &lt;span class="skill"&gt;WordPress/CMS &lt;i class="val"&gt;90%&lt;/i&gt;&lt;/span&gt;
              &lt;div class="progress-bar-wrap"&gt;
                &lt;div class="progress-bar" role="progressbar" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

            &lt;div class="progress"&gt;
              &lt;span class="skill"&gt;Photoshop &lt;i class="val"&gt;55%&lt;/i&gt;&lt;/span&gt;
              &lt;div class="progress-bar-wrap"&gt;
                &lt;div class="progress-bar" role="progressbar" aria-valuenow="55" aria-valuemin="0" aria-valuemax="100"&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;

          &lt;/div&gt;

        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/section&gt;&lt;!-- End Skills Section --&gt;

    &lt;!-- ======= Resume Section ======= --&gt;
    &lt;section id="resume" class="resume"&gt;
      &lt;div class="container"&gt;

        &lt;div class="section-title"&gt;
          &lt;h2&gt;Resume&lt;/h2&gt;
          &lt;p&gt;Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class="row"&gt;
          &lt;div class="col-lg-6" data-aos="fade-up"&gt;
            &lt;h3 class="resume-title"&gt;Sumary&lt;/h3&gt;
            &lt;div class="resume-item pb-0"&gt;
              &lt;h4&gt;Alex Smith&lt;/h4&gt;
              &lt;p&gt;&lt;em&gt;Innovative and deadline-driven Graphic Designer with 3+ years of experience designing and developing user-centered digital/print marketing material from initial concept to final, polished deliverable.&lt;/em&gt;&lt;/p&gt;
              &lt;ul&gt;
                &lt;li&gt;Portland par 127,Orlando, FL&lt;/li&gt;
                &lt;li&gt;(123) 456-7891&lt;/li&gt;
                &lt;li&gt;alice.barkley@example.com&lt;/li&gt;
              &lt;/ul&gt;
            &lt;/div&gt;

            &lt;h3 class="resume-title"&gt;Education&lt;/h3&gt;
            &lt;div class="resume-item"&gt;
              &lt;h4&gt;Master of Fine Arts &amp; Graphic Design&lt;/h4&gt;
              &lt;h5&gt;2015 - 2016&lt;/h5&gt;
              &lt;p&gt;&lt;em&gt;Rochester Institute of Technology, Rochester, NY&lt;/em&gt;&lt;/p&gt;
              &lt;p&gt;Qui deserunt veniam. Et sed aliquam labore tempore sed quisquam iusto autem sit. Ea vero voluptatum qui ut dignissimos deleniti nerada porti sand markend&lt;/p&gt;
            &lt;/div&gt;
            &lt;div class="resume-item"&gt;
              &lt;h4&gt;Bachelor of Fine Arts &amp; Graphic Design&lt;/h4&gt;
              &lt;h5&gt;2010 - 2014&lt;/h5&gt;
              &lt;p&gt;&lt;em&gt;Rochester Institute of Technology, Rochester, NY&lt;/em&gt;&lt;/p&gt;
              &lt;p&gt;Quia nobis sequi est occaecati aut. Repudiandae et iusto quae reiciendis et quis Eius vel ratione eius unde vitae rerum voluptates asperiores voluptatem Earum molestiae consequatur neque etlon sader mart dila&lt;/p&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          &lt;div class="col-lg-6" data-aos="fade-up" data-aos-delay="100"&gt;
            &lt;h3 class="resume-title"&gt;Professional Experience&lt;/h3&gt;
            &lt;div class="resume-item"&gt;
              &lt;h4&gt;Senior graphic design specialist&lt;/h4&gt;
              &lt;h5&gt;2019 - Present&lt;/h5&gt;
              &lt;p&gt;&lt;em&gt;Experion, New York, NY &lt;/em&gt;&lt;/p&gt;
              &lt;ul&gt;
                &lt;li&gt;Lead in the design, development, and implementation of the graphic, layout, and production communication materials&lt;/li&gt;
                &lt;li&gt;Delegate tasks to the 7 members of the design team and provide counsel on all aspects of the project. &lt;/li&gt;
                &lt;li&gt;Supervise the assessment of all graphic materials in order to ensure quality and accuracy of the design&lt;/li&gt;
                &lt;li&gt;Oversee the efficient use of production project budgets ranging from $2,000 - $25,000&lt;/li&gt;
              &lt;/ul&gt;
            &lt;/div&gt;
            &lt;div class="resume-item"&gt;
              &lt;h4&gt;Graphic design specialist&lt;/h4&gt;
              &lt;h5&gt;2017 - 2018&lt;/h5&gt;
              &lt;p&gt;&lt;em&gt;Stepping Stone Advertising, New York, NY&lt;/em&gt;&lt;/p&gt;
              &lt;ul&gt;
                &lt;li&gt;Developed numerous marketing programs (logos, brochures,infographics, presentations, and advertisements).&lt;/li&gt;
                &lt;li&gt;Managed up to 5 projects or tasks at a given time while under pressure&lt;/li&gt;
                &lt;li&gt;Recommended and consulted with clients on the most appropriate graphic design&lt;/li&gt;
                &lt;li&gt;Created 4+ design presentations and proposals a month for clients and account managers&lt;/li&gt;
              &lt;/ul&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/section&gt;&lt;!-- End Resume Section --&gt;

    &lt;!-- ======= Portfolio Section ======= --&gt;
    &lt;section id="portfolio" class="portfolio section-bg"&gt;
      &lt;div class="container"&gt;

        &lt;div class="section-title"&gt;
          &lt;h2&gt;Portfolio&lt;/h2&gt;
          &lt;p&gt;Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class="row" data-aos="fade-up"&gt;
          &lt;div class="col-lg-12 d-flex justify-content-center"&gt;
            &lt;ul id="portfolio-flters"&gt;
              &lt;li data-filter="*" class="filter-active"&gt;All&lt;/li&gt;
              &lt;li data-filter=".filter-app"&gt;App&lt;/li&gt;
              &lt;li data-filter=".filter-card"&gt;Card&lt;/li&gt;
              &lt;li data-filter=".filter-web"&gt;Web&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class="row portfolio-container" data-aos="fade-up" data-aos-delay="100"&gt;

          &lt;div class="col-lg-4 col-md-6 portfolio-item filter-app"&gt;
            &lt;div class="portfolio-wrap"&gt;
              &lt;img src="{% static 'assets/img/portfolio/portfolio-1.jpg' %}" class="img-fluid" alt=""&gt;
              &lt;div class="portfolio-links"&gt;
                &lt;a href="{% static 'assets/img/portfolio/portfolio-1.jpg' %}" data-gallery="portfolioGallery" class="portfolio-lightbox" title="App 1"&gt;&lt;i class="bx bx-plus"&gt;&lt;/i&gt;&lt;/a&gt;
                &lt;a href="portfolio-details.html" title="More Details"&gt;&lt;i class="bx bx-link"&gt;&lt;/i&gt;&lt;/a&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="col-lg-4 col-md-6 portfolio-item filter-web"&gt;
            &lt;div class="portfolio-wrap"&gt;
              &lt;img src="{% static 'assets/img/portfolio/portfolio-2.jpg' %}" class="img-fluid" alt=""&gt;
              &lt;div class="portfolio-links"&gt;
                &lt;a href="{% static 'assets/img/portfolio/portfolio-2.jpg' %}" data-gallery="portfolioGallery" class="portfolio-lightbox" title="Web 3"&gt;&lt;i class="bx bx-plus"&gt;&lt;/i&gt;&lt;/a&gt;
                &lt;a href="portfolio-details.html" title="More Details"&gt;&lt;i class="bx bx-link"&gt;&lt;/i&gt;&lt;/a&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="col-lg-4 col-md-6 portfolio-item filter-app"&gt;
            &lt;div class="portfolio-wrap"&gt;
              &lt;img src="{% static 'assets/img/portfolio/portfolio-3.jpg' %}" class="img-fluid" alt=""&gt;
              &lt;div class="portfolio-links"&gt;
                &lt;a href="{% static 'assets/img/portfolio/portfolio-3.jpg' %}" data-gallery="portfolioGallery" class="portfolio-lightbox" title="App 2"&gt;&lt;i class="bx bx-plus"&gt;&lt;/i&gt;&lt;/a&gt;
                &lt;a href="portfolio-details.html" title="More Details"&gt;&lt;i class="bx bx-link"&gt;&lt;/i&gt;&lt;/a&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="col-lg-4 col-md-6 portfolio-item filter-card"&gt;
            &lt;div class="portfolio-wrap"&gt;
              &lt;img src="{% static 'assets/img/portfolio/portfolio-4.jpg' %}" class="img-fluid" alt=""&gt;
              &lt;div class="portfolio-links"&gt;
                &lt;a href="{% static 'assets/img/portfolio/portfolio-4.jpg' %}" data-gallery="portfolioGallery" class="portfolio-lightbox" title="Card 2"&gt;&lt;i class="bx bx-plus"&gt;&lt;/i&gt;&lt;/a&gt;
                &lt;a href="portfolio-details.html" title="More Details"&gt;&lt;i class="bx bx-link"&gt;&lt;/i&gt;&lt;/a&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="col-lg-4 col-md-6 portfolio-item filter-web"&gt;
            &lt;div class="portfolio-wrap"&gt;
              &lt;img src="{% static 'assets/img/portfolio/portfolio-5.jpg' %}" class="img-fluid" alt=""&gt;
              &lt;div class="portfolio-links"&gt;
                &lt;a href="{% static 'assets/img/portfolio/portfolio-5.jpg' %}" data-gallery="portfolioGallery" class="portfolio-lightbox" title="Web 2"&gt;&lt;i class="bx bx-plus"&gt;&lt;/i&gt;&lt;/a&gt;
                &lt;a href="portfolio-details.html" title="More Details"&gt;&lt;i class="bx bx-link"&gt;&lt;/i&gt;&lt;/a&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="col-lg-4 col-md-6 portfolio-item filter-app"&gt;
            &lt;div class="portfolio-wrap"&gt;
              &lt;img src="{% static 'assets/img/portfolio/portfolio-6.jpg' %}" class="img-fluid" alt=""&gt;
              &lt;div class="portfolio-links"&gt;
                &lt;a href="{% static 'assets/img/portfolio/portfolio-6.jpg' %}" data-gallery="portfolioGallery" class="portfolio-lightbox" title="App 3"&gt;&lt;i class="bx bx-plus"&gt;&lt;/i&gt;&lt;/a&gt;
                &lt;a href="portfolio-details.html" title="More Details"&gt;&lt;i class="bx bx-link"&gt;&lt;/i&gt;&lt;/a&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="col-lg-4 col-md-6 portfolio-item filter-card"&gt;
            &lt;div class="portfolio-wrap"&gt;
              &lt;img src="{% static 'assets/img/portfolio/portfolio-7.jpg' %}" class="img-fluid" alt=""&gt;
              &lt;div class="portfolio-links"&gt;
                &lt;a href="{% static 'assets/img/portfolio/portfolio-7.jpg' %}" data-gallery="portfolioGallery" class="portfolio-lightbox" title="Card 1"&gt;&lt;i class="bx bx-plus"&gt;&lt;/i&gt;&lt;/a&gt;
                &lt;a href="portfolio-details.html" title="More Details"&gt;&lt;i class="bx bx-link"&gt;&lt;/i&gt;&lt;/a&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="col-lg-4 col-md-6 portfolio-item filter-card"&gt;
            &lt;div class="portfolio-wrap"&gt;
              &lt;img src="{% static 'assets/img/portfolio/portfolio-8.jpg' %}" class="img-fluid" alt=""&gt;
              &lt;div class="portfolio-links"&gt;
                &lt;a href="{% static 'assets/img/portfolio/portfolio-8.jpg' %}" data-gallery="portfolioGallery" class="portfolio-lightbox" title="Card 3"&gt;&lt;i class="bx bx-plus"&gt;&lt;/i&gt;&lt;/a&gt;
                &lt;a href="portfolio-details.html" title="More Details"&gt;&lt;i class="bx bx-link"&gt;&lt;/i&gt;&lt;/a&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

          &lt;div class="col-lg-4 col-md-6 portfolio-item filter-web"&gt;
            &lt;div class="portfolio-wrap"&gt;
              &lt;img src="{% static 'assets/img/portfolio/portfolio-9.jpg' %}" class="img-fluid" alt=""&gt;
              &lt;div class="portfolio-links"&gt;
                &lt;a href="{% static 'assets/img/portfolio/portfolio-9.jpg' %}" data-gallery="portfolioGallery" class="portfolio-lightbox" title="Web 3"&gt;&lt;i class="bx bx-plus"&gt;&lt;/i&gt;&lt;/a&gt;
                &lt;a href="portfolio-details.html" title="More Details"&gt;&lt;i class="bx bx-link"&gt;&lt;/i&gt;&lt;/a&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;

        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/section&gt;&lt;!-- End Portfolio Section --&gt;

    &lt;!-- ======= Services Section ======= --&gt;
    &lt;section id="services" class="services"&gt;
      &lt;div class="container"&gt;

        &lt;div class="section-title"&gt;
          &lt;h2&gt;Services&lt;/h2&gt;
          &lt;p&gt;Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class="row"&gt;
          &lt;div class="col-lg-4 col-md-6 icon-box" data-aos="fade-up"&gt;
            &lt;div class="icon"&gt;&lt;i class="bi bi-briefcase"&gt;&lt;/i&gt;&lt;/div&gt;
            &lt;h4 class="title"&gt;&lt;a href=""&gt;Lorem Ipsum&lt;/a&gt;&lt;/h4&gt;
            &lt;p class="description"&gt;Voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident&lt;/p&gt;
          &lt;/div&gt;
          &lt;div class="col-lg-4 col-md-6 icon-box" data-aos="fade-up" data-aos-delay="100"&gt;
            &lt;div class="icon"&gt;&lt;i class="bi bi-card-checklist"&gt;&lt;/i&gt;&lt;/div&gt;
            &lt;h4 class="title"&gt;&lt;a href=""&gt;Dolor Sitema&lt;/a&gt;&lt;/h4&gt;
            &lt;p class="description"&gt;Minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat tarad limino ata&lt;/p&gt;
          &lt;/div&gt;
          &lt;div class="col-lg-4 col-md-6 icon-box" data-aos="fade-up" data-aos-delay="200"&gt;
            &lt;div class="icon"&gt;&lt;i class="bi bi-bar-chart"&gt;&lt;/i&gt;&lt;/div&gt;
            &lt;h4 class="title"&gt;&lt;a href=""&gt;Sed ut perspiciatis&lt;/a&gt;&lt;/h4&gt;
            &lt;p class="description"&gt;Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur&lt;/p&gt;
          &lt;/div&gt;
          &lt;div class="col-lg-4 col-md-6 icon-box" data-aos="fade-up" data-aos-delay="300"&gt;
            &lt;div class="icon"&gt;&lt;i class="bi bi-binoculars"&gt;&lt;/i&gt;&lt;/div&gt;
            &lt;h4 class="title"&gt;&lt;a href=""&gt;Magni Dolores&lt;/a&gt;&lt;/h4&gt;
            &lt;p class="description"&gt;Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum&lt;/p&gt;
          &lt;/div&gt;
          &lt;div class="col-lg-4 col-md-6 icon-box" data-aos="fade-up" data-aos-delay="400"&gt;
            &lt;div class="icon"&gt;&lt;i class="bi bi-brightness-high"&gt;&lt;/i&gt;&lt;/div&gt;
            &lt;h4 class="title"&gt;&lt;a href=""&gt;Nemo Enim&lt;/a&gt;&lt;/h4&gt;
            &lt;p class="description"&gt;At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque&lt;/p&gt;
          &lt;/div&gt;
          &lt;div class="col-lg-4 col-md-6 icon-box" data-aos="fade-up" data-aos-delay="500"&gt;
            &lt;div class="icon"&gt;&lt;i class="bi bi-calendar4-week"&gt;&lt;/i&gt;&lt;/div&gt;
            &lt;h4 class="title"&gt;&lt;a href=""&gt;Eiusmod Tempor&lt;/a&gt;&lt;/h4&gt;
            &lt;p class="description"&gt;Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi&lt;/p&gt;
          &lt;/div&gt;
        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/section&gt;&lt;!-- End Services Section --&gt;

    &lt;!-- ======= Testimonials Section ======= --&gt;
    &lt;section id="testimonials" class="testimonials section-bg"&gt;
      &lt;div class="container"&gt;

        &lt;div class="section-title"&gt;
          &lt;h2&gt;Testimonials&lt;/h2&gt;
          &lt;p&gt;Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class="testimonials-slider swiper" data-aos="fade-up" data-aos-delay="100"&gt;
          &lt;div class="swiper-wrapper"&gt;

            &lt;div class="swiper-slide"&gt;
              &lt;div class="testimonial-item" data-aos="fade-up"&gt;
                &lt;p&gt;
                  &lt;i class="bx bxs-quote-alt-left quote-icon-left"&gt;&lt;/i&gt;
                  Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper.
                  &lt;i class="bx bxs-quote-alt-right quote-icon-right"&gt;&lt;/i&gt;
                &lt;/p&gt;
                &lt;img src="{% static 'assets/img/testimonials/testimonials-1.jpg' %}" class="testimonial-img" alt=""&gt;
                &lt;h3&gt;Saul Goodman&lt;/h3&gt;
                &lt;h4&gt;Ceo &amp; Founder&lt;/h4&gt;
              &lt;/div&gt;
            &lt;/div&gt;&lt;!-- End testimonial item --&gt;

            &lt;div class="swiper-slide"&gt;
              &lt;div class="testimonial-item" data-aos="fade-up" data-aos-delay="100"&gt;
                &lt;p&gt;
                  &lt;i class="bx bxs-quote-alt-left quote-icon-left"&gt;&lt;/i&gt;
                  Export tempor illum tamen malis malis eram quae irure esse labore quem cillum quid cillum eram malis quorum velit fore eram velit sunt aliqua noster fugiat irure amet legam anim culpa.
                  &lt;i class="bx bxs-quote-alt-right quote-icon-right"&gt;&lt;/i&gt;
                &lt;/p&gt;
                &lt;img src="{% static 'assets/img/testimonials/testimonials-2.jpg' %}" class="testimonial-img" alt=""&gt;
                &lt;h3&gt;Sara Wilsson&lt;/h3&gt;
                &lt;h4&gt;Designer&lt;/h4&gt;
              &lt;/div&gt;
            &lt;/div&gt;&lt;!-- End testimonial item --&gt;

            &lt;div class="swiper-slide"&gt;
              &lt;div class="testimonial-item" data-aos="fade-up" data-aos-delay="200"&gt;
                &lt;p&gt;
                  &lt;i class="bx bxs-quote-alt-left quote-icon-left"&gt;&lt;/i&gt;
                  Enim nisi quem export duis labore cillum quae magna enim sint quorum nulla quem veniam duis minim tempor labore quem eram duis noster aute amet eram fore quis sint minim.
                  &lt;i class="bx bxs-quote-alt-right quote-icon-right"&gt;&lt;/i&gt;
                &lt;/p&gt;
                &lt;img src="{% static 'assets/img/testimonials/testimonials-3.jpg' %}" class="testimonial-img" alt=""&gt;
                &lt;h3&gt;Jena Karlis&lt;/h3&gt;
                &lt;h4&gt;Store Owner&lt;/h4&gt;
              &lt;/div&gt;
            &lt;/div&gt;&lt;!-- End testimonial item --&gt;

            &lt;div class="swiper-slide"&gt;
              &lt;div class="testimonial-item" data-aos="fade-up" data-aos-delay="300"&gt;
                &lt;p&gt;
                  &lt;i class="bx bxs-quote-alt-left quote-icon-left"&gt;&lt;/i&gt;
                  Fugiat enim eram quae cillum dolore dolor amet nulla culpa multos export minim fugiat minim velit minim dolor enim duis veniam ipsum anim magna sunt elit fore quem dolore labore illum veniam.
                  &lt;i class="bx bxs-quote-alt-right quote-icon-right"&gt;&lt;/i&gt;
                &lt;/p&gt;
                &lt;img src="{% static 'assets/img/testimonials/testimonials-4.jpg' %}" class="testimonial-img" alt=""&gt;
                &lt;h3&gt;Matt Brandon&lt;/h3&gt;
                &lt;h4&gt;Freelancer&lt;/h4&gt;
              &lt;/div&gt;
            &lt;/div&gt;&lt;!-- End testimonial item --&gt;

            &lt;div class="swiper-slide"&gt;
              &lt;div class="testimonial-item" data-aos="fade-up" data-aos-delay="400"&gt;
                &lt;p&gt;
                  &lt;i class="bx bxs-quote-alt-left quote-icon-left"&gt;&lt;/i&gt;
                  Quis quorum aliqua sint quem legam fore sunt eram irure aliqua veniam tempor noster veniam enim culpa labore duis sunt culpa nulla illum cillum fugiat legam esse veniam culpa fore nisi cillum quid.
                  &lt;i class="bx bxs-quote-alt-right quote-icon-right"&gt;&lt;/i&gt;
                &lt;/p&gt;
                &lt;img src="{% static 'assets/img/testimonials/testimonials-5.jpg' %}" class="testimonial-img" alt=""&gt;
                &lt;h3&gt;John Larson&lt;/h3&gt;
                &lt;h4&gt;Entrepreneur&lt;/h4&gt;
              &lt;/div&gt;
            &lt;/div&gt;&lt;!-- End testimonial item --&gt;

          &lt;/div&gt;
          &lt;div class="swiper-pagination"&gt;&lt;/div&gt;
        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/section&gt;&lt;!-- End Testimonials Section --&gt;

    &lt;!-- ======= Contact Section ======= --&gt;
    &lt;section id="contact" class="contact"&gt;
      &lt;div class="container"&gt;

        &lt;div class="section-title"&gt;
          &lt;h2&gt;Contact&lt;/h2&gt;
          &lt;p&gt;Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.&lt;/p&gt;
        &lt;/div&gt;

        &lt;div class="row" data-aos="fade-in"&gt;

          &lt;div class="col-lg-5 d-flex align-items-stretch"&gt;
            &lt;div class="info"&gt;
              &lt;div class="address"&gt;
                &lt;i class="bi bi-geo-alt"&gt;&lt;/i&gt;
                &lt;h4&gt;Location:&lt;/h4&gt;
                &lt;p&gt;A108 Adam Street, New York, NY 535022&lt;/p&gt;
              &lt;/div&gt;

              &lt;div class="email"&gt;
                &lt;i class="bi bi-envelope"&gt;&lt;/i&gt;
                &lt;h4&gt;Email:&lt;/h4&gt;
                &lt;p&gt;info@example.com&lt;/p&gt;
              &lt;/div&gt;

              &lt;div class="phone"&gt;
                &lt;i class="bi bi-phone"&gt;&lt;/i&gt;
                &lt;h4&gt;Call:&lt;/h4&gt;
                &lt;p&gt;+1 5589 55488 55s&lt;/p&gt;
              &lt;/div&gt;

              &lt;iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d12097.433213460943!2d-74.0062269!3d40.7101282!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xb89d1fe6bc499443!2sDowntown+Conference+Center!5e0!3m2!1smk!2sbg!4v1539943755621" frameborder="0" style="border:0; width: 100%; height: 290px;" allowfullscreen&gt;&lt;/iframe&gt;
            &lt;/div&gt;

          &lt;/div&gt;

          &lt;div class="col-lg-7 mt-5 mt-lg-0 d-flex align-items-stretch"&gt;
            &lt;form action="forms/contact.php" method="post" role="form" class="php-email-form"&gt;
              &lt;div class="row"&gt;
                &lt;div class="form-group col-md-6"&gt;
                  &lt;label for="name"&gt;Your Name&lt;/label&gt;
                  &lt;input type="text" name="name" class="form-control" id="name" required&gt;
                &lt;/div&gt;
                &lt;div class="form-group col-md-6"&gt;
                  &lt;label for="name"&gt;Your Email&lt;/label&gt;
                  &lt;input type="email" class="form-control" name="email" id="email" required&gt;
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;div class="form-group"&gt;
                &lt;label for="name"&gt;Subject&lt;/label&gt;
                &lt;input type="text" class="form-control" name="subject" id="subject" required&gt;
              &lt;/div&gt;
              &lt;div class="form-group"&gt;
                &lt;label for="name"&gt;Message&lt;/label&gt;
                &lt;textarea class="form-control" name="message" rows="10" required&gt;&lt;/textarea&gt;
              &lt;/div&gt;
              &lt;div class="my-3"&gt;
                &lt;div class="loading"&gt;Loading&lt;/div&gt;
                &lt;div class="error-message"&gt;&lt;/div&gt;
                &lt;div class="sent-message"&gt;Your message has been sent. Thank you!&lt;/div&gt;
              &lt;/div&gt;
              &lt;div class="text-center"&gt;&lt;button type="submit"&gt;Send Message&lt;/button&gt;&lt;/div&gt;
            &lt;/form&gt;
          &lt;/div&gt;

        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/section&gt;&lt;!-- End Contact Section --&gt;

  &lt;/main&gt;&lt;!-- End #main --&gt;

  &lt;!-- ======= Footer ======= --&gt;
  &lt;footer id="footer"&gt;
    &lt;div class="container"&gt;
      &lt;div class="copyright"&gt;
        &copy; Copyright &lt;strong&gt;&lt;span&gt;iPortfolio&lt;/span&gt;&lt;/strong&gt;
      &lt;/div&gt;
      &lt;div class="credits"&gt;
        &lt;!-- All the links in the footer should remain intact. --&gt;
        &lt;!-- You can delete the links only if you purchased the pro version. --&gt;
        &lt;!-- Licensing information: https://bootstrapmade.com/license/ --&gt;
        &lt;!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/iportfolio-bootstrap-portfolio-websites-template/ --&gt;
        Designed by &lt;a href="https://bootstrapmade.com/"&gt;BootstrapMade&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/footer&gt;&lt;!-- End  Footer --&gt;

  &lt;a href="#" class="back-to-top d-flex align-items-center justify-content-center"&gt;&lt;i class="bi bi-arrow-up-short"&gt;&lt;/i&gt;&lt;/a&gt;

  &lt;!-- Vendor JS Files --&gt;
  &lt;script src="{% static 'assets/vendor/purecounter/purecounter_vanilla.js' %}"&gt;&lt;/script&gt;
  &lt;script src="{% static 'assets/vendor/aos/aos.js' %}"&gt;&lt;/script&gt;
  &lt;script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"&gt;&lt;/script&gt;
  &lt;script src="{% static 'assets/vendor/glightbox/js/glightbox.min.js' %}"&gt;&lt;/script&gt;
  &lt;script src="{% static 'assets/vendor/isotope-layout/isotope.pkgd.min.js' %}"&gt;&lt;/script&gt;
  &lt;script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"&gt;&lt;/script&gt;
  &lt;script src="{% static 'assets/vendor/typed.js/typed.min.js' %}"&gt;&lt;/script&gt;
  &lt;script src="{% static 'assets/vendor/waypoints/noframework.waypoints.js' %}"&gt;&lt;/script&gt;
  &lt;script src="{% static 'assets/vendor/php-email-form/validate.js' %}"&gt;&lt;/script&gt;

  &lt;!-- Template Main JS File --&gt;
  &lt;script src="{% static 'assets/js/main.js' %}"&gt;&lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;
</code></pre>
        </div>
        <li>Ahi ya esta modificado, solo es copiar y pegar</li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-36">
        <h2><i>Video 36</i>: FormView | Vistas basadas en clases</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=QprvsvT5l94&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=36"
        >Link del video 36</a
      >
      <ul>
        <li>
          En el <b>views.py</b> de mi app category, importo la vista generica
          <b>FormView</b>
        </li>
        <div class="codigo">
          <pre><code id="b58">from django.views.generic import FormView
          </code></pre>
          <button onclick="copiar('b58','140')" id="140">Copiar</button>
        </div>
        <li>
          creo la clase CategoryFormView, heredo de la clase generica que
          importe, y como voy a simular una creación de una categoria para
          probar eñ formulario, copio el <b>get_context_data</b> del
          <b>CategoryCreateView</b> y solo le cambio el title para
          identificarlos
        </li>
        <div class="codigo">
          <pre><code id="b59">class CategoryFormView(FormView):
  form_class = CategoryForm
  template_name = 'category/create.html'
  success_url = reverse_lazy('erp:category_list')

  def get_context_data(self, **kwargs):
     context = super().get_context_data(**kwargs)
     context['title']='Form | Creación de una categoria'
     context['entity']='Categorias'
     context['list_url']=reverse_lazy('erp:category_list')
     context['action']='add'
     return context
</code></pre>
          <button onclick="copiar('b59','141')" id="141">Copiar</button>
        </div>
        <ul>
          <li>
            en el <b>form_class</b> le paso el mismo formulario del
            <b>CategoryCreateView</b>
          </li>
          <li>Le pasamos el mismo template</li>
          <li>
            y el <b>success_url</b> a donde lo mandos a mandar si el formulario
            es correcto o valido
          </li>
          <li>
            en el <b>get_context_data</b> le cambiamos el nombre para
            diferenciarlo
          </li>
        </ul>
        <li>
          En el <b>form.html</b> comentamos la función ajax, osea el que inicia
          como <b>$('form')</b> porque no vamos a utilizar ajax por ahora en
          esta vista
        </li>
        <li>agregamos la vista a las urls</li>
        <div class="codigo">
          <pre><code id="b60">path('category/form/',CategoryFormView.as_view(),name='category_form')</code></pre>
          <button onclick="copiar('b60','142')" id="142">Copiar</button>
        </div>
        <li>
          Ahi ya podemos probar que si intentamos guardar, no guardar pero
          retorna a la vista de las categorias, y si intetnamos enviar un dato
          repetido nos lanza la alarma porque solo comentamos la petición ajax y
          no la verificación de los errores con las alertas
        </li>
        <li>
          el <b>FormView</b> tiene 2 funciones, el form_invalid(self, form) y el
          form_valid(self,form)
        </li>
        <li>
          En el <b>form_invalid</b> vamos a poder ver los errores que pase con
          el formulario
        </li>
        <div class="codigo">
          <pre><code id="b61">def form_invalid(self, form):
    print(form.errors)
    print(form.is_valid())
    return super().form_invalid(form)</code></pre>
          <button onclick="copiar('b61','143')" id="143">Copiar</button>
        </div>
        <li>
          con el <b>form.errors</b> puedo ver en consola cual es el error si lo
          hay, y con el <b>is_valid()</b>, va a retornar false porque hay
          errores y aqui puedo ejecutar cierto codigo si nceesito hacer algo si
          el formulario es invalido o saber cual es el error
        </li>
        <li>
          En el <b>form_valid</b> vamos a poder hacer cierta acciones si el
          formulario es valido
        </li>
        <div class="codigo">
          <pre><code id="b62">def form_valid(self, form):
    print(form.is_valid())
    print(form)
    return super().form_valid(form)</code></pre>
          <button onclick="copiar('b62','144')" id="144">Copiar</button>
        </div>
        <li>
          aqui puedo ver que la función <b>is_valid()</b> retorna
          <b>True</b> porque es valido, ya si quiero guardar un registro, le
          agrego lo necesario que seria el form.save()
        </li>
        <li>
          Si le quiero agregar otras verificaciones, en la clase del formulario
          podemos sobreescribir la función <b>clean</b>
        </li>
        <div class="codigo">
          <pre><code id="b63">def clean(self):
        cleaned = super().clean() 
        if len(cleaned['name']) <= 50: 
            self.add_error('name','Le faltan caracteres')
        return cleaned</code></pre>
          <button onclick="copiar('b63','145')" id="145">Copiar</button>
        </div>
        <ul>
          <li>
            obtengo el valor de clea en una varuable con la funcion <b>super</b>
          </li>
          <li>
            en esa variable esta el diccionario con los valores de mi formulario
            y puedo hacer verificaciones
          </li>
          <li>
            En este caso le mando un error si el name tiene menos de 50
            caracteres
          </li>
          <li>
            con la función <b>.add_error</b> de los componentes que estan en el
            self, agrego el error que saldra en el <b>form.errors</b>, el primer
            parametro es el nombre del componente (porque los errores se guardan
            en cada componente) y el segundo parametro el error
          </li>
          <li>
            Si intento agregar un valor en el formulario con pocos caracteres,
            osea, menos de 50 me lanza la alerta que tengo controlada en el
            form.html con sweetalert
          </li>
          <li>
            Tambien puedo crear un error o excepción manual mente pero no se
            guarda en el <b>form.errors</b> porque ahi debo guardar los errores
            de formulario, para otro tipo de error, creo la excepción o la
            guardo de la siguiente forma
          </li>
          <div class="codigo">
            <pre><code id="b64">def clean(self):
        cleaned = super().clean() 
        if len(cleaned['name']) <= 50: 
            raise forms.ValidationError('Validation xxx')
        return cleaned</code></pre>
            <button onclick="copiar('b64','146')" id="146">Copiar</button>
          </div>
          <p class="nota">
            <b>NOTA:</b> Si al poner forms no lo reconoce, verifica que en las
            importaciones este asi <b>from django.forms import *</b>
          </p>
          <ul>
            <li>
              la palabra reservada <b>raise</b> es para crear errores o
              excepciones intencionales, en este caso creo una con la clase
              <b>forms.ValidationError</b> y recibe como palametro el mensaje de
              error
            </li>
            <li>
              En el fomrulario para ver este tipo de error, porque no va a estar
              en el <b>form.errors</b>, lo vemos en
              <b>form.non_field_errors</b> que hace referencia a los errores que
              no son de los formularios
            </li>
            <li>y de la siguiente forma lo verifico con las alertas</li>
            <div class="codigo">
              <pre><code id="b65">{% for error in form.non_field_errors %}
      errors += '{{error}}\n';
      {% endfor %}
</code></pre>
              <button onclick="copiar('b65','147')" id="147">Copiar</button>
            </div>
            <li>
              simplemente creo un for (fuera de los 2 for anteriores pero dentro
              del if y antes de la ejecucion de la función Swal.fire) y asi si
              ejecutamos, comentando el error en <b>add_error</b> al ejecutar
              nos mandara el valor que le pasamos en la excepción que creamos y
              asi manejamos mejor los errores en formularios
            </li>
          </ul>
        </ul>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-37">
        <h2><i>Video 37</i>: LoginView | Vistas basadas en clases</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=VTAHgAnKjeo&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=37"
        >Link del video 37</a
      >
      <ul>
        <li>
          Creamos una app llamada <b>login</b> dentro de la carpeta core, que
          será para el inicio de sesión, ponerla en el <b>INSTALLED_APPS</b> con
          su core. y en el archivo apps.py de la app también
        </li>
        <li>
          como solo será para una vista, no creamos una subcarpeta para las
          vistas
        </li>
        <li>
          Dentro de <b>views.py</b> importamos la vista de <b>LoginView</b> y la
          función <b>redirect</b>
        </li>
        <div class="codigo">
          <pre><code id="b66">from django.contrib.auth.views import LoginView
from django.shortcuts import redirect</code></pre>
          <button onclick="copiar('b66','148')" id="148">Copiar</button>
        </div>
        <li>
          creamos la clase <b>LoginFormView</b> que va a heredar de
          <b>LoginView</b>
        </li>
        <div class="codigo">
          <pre><code id="b67">class LoginFormView(LoginView):
  template_name = 'login.html'

  def get_context_data(self, **kwargs):
    context = super().get_context_data(**kwargs)
    context['title'] = 'Iniciar sesión'
    return context</code></pre>
          <button onclick="copiar('b67','149')" id="149">Copiar</button>
        </div>
        <ul>
          <li>
            No le ponemos el atributo <b>form_class</b> porque si inspeccionamos
            la vista <b>LoginView</b> ya tiene el formulario de autenticación
            <b>AuthenticationForm</b> la cual recibe el <b>username</b> y
            <b>password</b>
          </li>
          <li>
            el pasamos el template el cual crearemos dentro de la carpeta
            template de la app
          </li>
          <li>
            Modificamos la función <b>get_context_data</b> para pasarle el
            <b>title</b>
          </li>
        </ul>
        <li>
          Lo agregamos a las <b>urls.py</b> de la carpeta de configuraciónporque
          solo es una ruta, y es la de logueo
        </li>
        <div class="codigo">
          <pre><code id="b68">path('login/',LoginFormView.as_view(),name='login'),</code></pre>
          <button onclick="copiar('b68','150')" id="150">Copiar</button>
        </div>
        <li>
          El <b>login.html</b> que creamos en la carpeta templates de la app,
          utilizamos una plantilla de la libreria <b>AdminLte</b> que el solo es
          copiar y pega el code del login y con los estaticos ponemos los
          archivos requeridos
        </li>
        <li>
          dentro del <b>form</b> del <b>login.html</b> el action lo ponemos con
          un "." porque mandara los datos a la misma vista
        </li>
        <li>le ponemos el csrf_token</li>
        <li>
          ponemos los inputs username y password, ya que son solo 2 podemos
          hacerlo sin un form, cargamos tambien los widget_tweaks
        </li>
        <div class="codigo">
          <pre><code id="b69">{{form.username|add_class:'form-control'|attr:'placeholder:Ingrese su username'|attr:'autocomplete:off'}}</code></pre>
          <button onclick="copiar('b69','151')" id="151">Copiar</button>
        </div>
        <br />
        <div class="codigo">
          <pre><code id="b70">{{form.password|add_class:'form-control'|attr:'placeholder:Ingrese su password'}}</code></pre>
          <button onclick="copiar('b70','152')" id="152">Copiar</button>
        </div>
        <li>
          Agregamos el javascript para la verificación de errores, sean del
          formulario o otro error, podemos copiar el del form.py
        </li>
        <div class="codigo">
          <pre><code id="b71">&lt;script type="application/javascript"&gt;
      //manejo de errores
      {% if form.errors %}
            let errors = '';
            {% for field in form %}
              {% for error in field.errors %}
                errors += '{{error}}\n';
              {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
            errors += '{{error}}\n';
            {% endfor %}
          Swal.fire({
            title:'!Error¡',
            text:errors,
            icon:'error'
          })
          {% endif %}
    &lt;/script&gt;</code></pre>
          <button onclick="copiar('b71','153')" id="153">Copiar</button>
        </div>
        <li>
          Ya si probamos, erroneamente nos manda la alerta, pero si iniciamos
          sesión nos manda a una ruta que no tenemos, tenemos que configurar la
          ruta para cuando se inicie sesión en el <b>settings.py</b> y le
          especificamos cual es la ruta para iniciar sesión
        </li>
        <div class="codigo">
          <pre><code id="b72">#login
LOGIN_REDIRECT_URL = '/erp/category/list/'
LOGIN_URL = '/login/'</code></pre>
          <button onclick="copiar('b72','154')" id="154">Copiar</button>
        </div>
        <ul>
          <li>
            en este caso, le decimo que después de iniciar sesión le muestre el
            listado de categorias
          </li>
        </ul>
        <li>
          Si iniciamos sesión e intentamos entrar de nuevo al login, nos deja
          entrar, pero no deberia porque ya iniciamos sesión, para esto
          modificamos el método <b>dispatch</b> de nuestra vista
          <b>LoginFormView</b> para verificar si esta autenticado
        </li>
        <div class="codigo">
          <pre><code id="b73">def dispatch(self, request, *args, **kwargs):
    if request.user.is_authenticated:
      return redirect('erp:category_list')
    return super().dispatch(request, *args, **kwargs)</code></pre>
          <button onclick="copiar('b73','155')" id="155">Copiar</button>
        </div>
        <ul>
          <li>
            con el if verificamos si esta autenticado (is_authenticated tendra
            True o False), si lo esta, lo redireccionamos a la vista de las
            categorias, si no, lo dejamos entrar normal al login
          </li>
        </ul>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-38">
        <h2><i>Video 38</i>: FormView | Inicio de sesión</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=WYTZeE3WsXA&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=38"
        >Link del video 38</a
      >
      <ul>
        <li>
          En el <b>views.py</b> de mi app <b>login</b> importo lo que vamos a
          utilizar
        </li>
        <div class="codigo">
          <pre><code id="b74">from django.http import HttpResponseRedirect
from django.views.generic import FormView
from django.contrib.auth.forms import AuthenticationForm
from django.urls import reverse_lazy
from django.contrib.auth import login</code></pre>
          <button onclick="copiar('b74','156')" id="156">Copiar</button>
        </div>
        <li>
          Duplicamos la vista, la cual esta heredando de <b>LoginView</b> para
          trabajar desde ahí, y lo modificamos de la siguiente manera
        </li>
        <div class="codigo">
          <pre><code id="b75">class LoginFormView2(FormView):
  form_class = AuthenticationForm
  template_name = 'login.html'
  success_url = reverse_lazy('erp:category_form')

  def dispatch(self, request, *args, **kwargs):
    if request.user.is_authenticated:
      return redirect('erp:category_list')
    return super().dispatch(request, *args, **kwargs)

  def form_valid(self, form):
    login(self.request, form.get_user())
    return HttpResponseRedirect(self.success_url)

  def get_context_data(self, **kwargs):
    context = super().get_context_data(**kwargs)
    context['title'] = 'Iniciar sesión'
    return context
</code></pre>
          <button onclick="copiar('b75','157')" id="157">Copiar</button>
        </div>
        <ul>
          <li>
            Le agregamos un 2 al nombre de la vista para diferenciarlos
            (<b>LoginFormView2</b>)
          </li>
          <li>
            Recodar que al <b>FormView</b> le debemos pasa el formulario de
            autenticación (<b>AuthenticationForm</b>) para el inicio de sesión
          </li>
          <li>
            Y le debemos pasar el link de cuando se valide el formulario para
            que lo redireccione, en la variable <b>success_url</b> urilizando la
            funcion de <b>reverse_lazy</b> pasandole el name de la url
          </li>
          <li>
            Dejo el <b>dispatch</b> para que no lo deje entrar al login si esta
            logueado, de lo contrario lo dejo entrar
          </li>
          <li>
            Utilizo la función <b>form_valid</b> para cuando el formulario sea
            valido
          </li>
          <li>
            Utilizo la función <b>login</b> para iniciar sesión la cual recibe
            el <b>request</b> como primer parametro, el cual esta en el self, y
            como segundo parametro recibe el usuario, y puedo obtenerlo desde el
            formulario, el cual ya esta validado, y se lo paso con la funcion
            <b>get_user</b> que lo tiene el <b>form</b>
          </li>
          <li>
            Y lo retorno a la vista que tengo en <b>success_url</b> con el
            <b>HttpResponseRedirect</b>
          </li>
          <p class="nota">
            <b>NOTA:</b> La diferncia entre <b>redirect</b> y
            <b>HttpResponseRedirect</b> es que <b>redirect</b> puedo pasarle
            cualquier url sea interna o externa, y
            <b>HttpResponseRedirect</b> es para las url internas del sitio web
          </p>
          <li>Y dejo el mismo <b>get_context_data</b></li>
        </ul>
        <li>
          Y pues en el <b>urls.py</b> del config le cambio el nombre al del
          login por la vista que acabo de crear para probar
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-39">
        <h2>
          <i>Video 39</i>: LogoutView | RedirectView | Vistas basadas en clases
        </h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=BA_Qv1Jk10A&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=39"
        >Link del video 39</a
      >
      <ul>
        <li>Importamos en el <b>views.py</b> lo que vamos a utilizar</li>
        <div class="codigo">
          <pre><code id="b76">from django.views.generic import RedirectView
from django.contrib.auth.views import LogoutView
from django.contrib.auth import logout</code></pre>
          <button onclick="copiar('b76','158')" id="158">Copiar</button>
        </div>
        <li>
          Creamos un archivo <b>uls.py</b> en la app <b>login</b> ya que vamos a
          manejar más de una url
        </li>
        <div class="codigo">
          <pre><code id="b77">from django.urls import path
from core.login.views import *

urlpatterns = [
    path('',LoginFormView.as_view(),name='login'),
    path('logout/',LogoutView.as_view(),name='logout'),
]</code></pre>
          <button onclick="copiar('b77','159')" id="159">Copiar</button>
        </div>
        <ul>
          <li>
            Al importar la vista <b>LogoutView</b> en el <b>views.py</b>, puedo
            utilizarla si importo todo en el archivo <b>ulrs.py</b>
          </li>
          <li>
            No necesito crear y heredar una clase para utilizarla, solo la pongo
            como url en las urls con su función <b>as_view</b> pero se le pasa
            un parametro <b>next_page='nombre_url'</b> para que apenas cierre
            sesión lo redireccione, pero si no se lo ponemos va a ir a buscar la
            variable <b>LOGOUT_REDIRECT_URL</b> del <b>settings.py</b> y si no
            esta, como 3° opción el Django utiliza una vista para eso
          </li>
          <li>
            En este caso no le pasaremos el parametro <b>next_page</b> sino que
            crearemos la variable en el <b>settings.py</b>
          </li>
          <div class="codigo">
            <pre><code id="b78">LOGOUT_REDIRECT_URL = '/login/'</code></pre>
            <button onclick="copiar('b78','160')" id="160">Copiar</button>
          </div>
          <li>
            La incluimos en el <b>urls.py</b> de la config, y el
            <b>urlpatterns</b> quedaria asi
          </li>
          <div class="codigo">
            <pre><code id="b79">urlpatterns = [
    path('',IndexView.as_view(),name='index'),
    path('login/',include('core.login.urls')),
    path('admin/', admin.site.urls),
    path('erp/',include('core.erp.urls')),
]</code></pre>
            <button onclick="copiar('b79','161')" id="161">Copiar</button>
          </div>
        </ul>
        <li>
          Ahora haremos la misma funcion utilizando la vista de
          <b>RedirectView</b>
        </li>
        <li>
          Creamos la vista en el <b>views.py</b> de la app de inicio de sesión
        </li>
        <div class="codigo">
          <pre><code id="b80">class LogoutRedirectView(RedirectView):
  pattern_name = 'login'

  def dispatch(self, request, *args, **kwargs):logout solo pasandole el request
    logout(request)
    return super().dispatch(request, *args, **kwargs)</code></pre>
          <button onclick="copiar('b80','162')" id="162">Copiar</button>
        </div>
        <ul>
          <li>
            El <b>pattern_name</b> es la ruta a la cual va a ir cuando cierre
            sesión, y utiliza el nombre de la url
          </li>
          <li>
            Como la vista es solo para redireccionar, entonces modificamos el
            <b>distpach</b> para que cuando entre a la pagina, capturamos el
            request y con la función <b>logout</b> cerramos sesión solo
            pasandole el request
          </li>
          <li>
            La agregamos a la urls.py de la app, comentamos la otra vista para
            probar y quedaria asi
          </li>
          <div class="codigo">
            <pre><code id="b81">urlpatterns = [
    path('',LoginFormView.as_view(),name='login'),
    # path('logout/',LogoutView.as_view(),name='logout'),
    path('logout/',LogoutRedirectView.as_view(),name='logout'),
]</code></pre>
            <button onclick="copiar('b81','163')" id="163">Copiar</button>
          </div>
        </ul>
        <li>
          En el video el profe le hace unas modificaciones al
          <b>login.html, index.html, header.html</b> (los 2)
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-40">
        <h2>
          <i>Video 40</i>:Validando nuestras vistas (login_required, next,
          LOGIN_URL)
        </h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=iRmKCuz4ro0&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=40&pp=iAQB"
        >Link del video 40</a
      >
      <ul>
        <li>Inicia realizando algunas modificaciones</li>
        <li>
          Crea un template <b>dashboard.html</b> en los templates principales el
          cual hereda de <b>layout.html</b> para hacer el panel principal
        </li>
        <li>
          En la app <b>erp</b>, en su carpeta <b>views</b> crea una carpeta
          llamada <b>dashboard</b> y ahi un <b>views.py</b> para crear la vista
          del dashboard
        </li>
        <div class="codigo">
          <pre><code id="b82">from django.views.generic import TemplateView

class DashboardView(TemplateView):
    template_name='dashboard.html'

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context["title"] = 'Panel de administrador'
        return context</code></pre>
          <button onclick="copiar('b82','164')" id="164">Copiar</button>
        </div>
        <ul>
          <li>
            Importo la vista a utilizar, creo la vista, y le modifico el
            <b>get_context_data</b> para pasarle el titulo de la vista
          </li>
          <li>Agrego la vista a las url de <b>erp</b>, quedaria así</li>
          <div class="codigo">
            <pre><code id="b83"># home
    path('dashboard/',DashboardView.as_view(),name='dashboard'),
</code></pre>
            <button onclick="copiar('b83','165')" id="165">Copiar</button>
          </div>
        </ul>
        <li>
          En el archivo <b>index.html</b> de homepage, donde estan las listas de
          opciones agrego el iniciar sesión o mensaje de bienvenida hacia el
          panel principal dependiendo si esta logueado o no
        </li>
        <div class="codigo">
          <pre><code id="b84">{% if request.user.is_authenticated %}
  &lt;a href="{% url 'erp:dashboard' %}" class="nav-link scrollto"&gt;
    &lt;i class="bx bx-user"&gt;&lt;/i&gt; 
    &lt;span&gt;Bienvenido {{request.user.username|title}}&lt;/span&gt;
  &lt;/a&gt;
  {% else %}
    &lt;a href="{% url 'login' %}" class="nav-link scrollto"&gt;
      &lt;i class="bx bx-door-open"&gt;&lt;/i&gt; 
        &lt;span&gt;Login&lt;/span&gt;
    &lt;/a&gt;
  {% endif %}
  &lt;/li&gt;
</code></pre>
          <button onclick="copiar('b84','166')" id="166">Copiar</button>
        </div>
        <li>
          El el <b>views.py</b> de las categorias, importo el método decorador
          de django y el login_required
        </li>
        <div class="codigo">
          <pre><code id="b85">from django.utils.decorators import method_decorator
from django.contrib.auth.decorators import login_required</code></pre>
          <button onclick="copiar('b85','167')" id="167">Copiar</button>
        </div>
        <li>
          y luego en los <b>dispatch</b> de las siguientes vistas le agrego el
          decorador de <b>login_required</b> para pedirle que es necesario
          iniciar sesión para entrar a esas secciones
        </li>
        <ul>
          <li>Asi se pone el método decorador</li>
          <div class="codigo">
            <pre><code>@method_decorator(login_required)
def dispatch(self, request, *args,**kwargs):
  ...</code></pre>
          </div>
          <li>Y se pone en</li>
          <li><b>CategoryListView</b></li>
          <li><b>CategoryCreateView</b></li>
          <li><b>CategoryUpdateView</b></li>
          <li><b>CategoryDeleteView</b></li>
          <li><b>CategoryFormView</b></li>
          <li>
            Y en el que no se este utilizando, solo llamamos el método dispatch
          </li>
          <div class="codigo">
            <pre><code id="b86">@method_decorator(login_required)
def dispatch(self, request, *args, **kwargs):
  return super().dispatch(request, *args, **kwargs)</code></pre>
            <button onclick="copiar('b86','168')" id="168">Copiar</button>
          </div>
        </ul>
        <li>
          Las configuraciones del login, osea sus direcciones las dejamos de la
          siguiente manera
        </li>
        <div class="codigo">
          <pre><code id="b87">#login
LOGIN_REDIRECT_URL = '/erp/dashboard/'
LOGIN_URL = '/login/' 
LOGOUT_REDIRECT_URL = '/login/'</code></pre>
          <button onclick="copiar('b87','169')" id="169">Copiar</button>
        </div>
        <li>
          Le agregamos un input al formulario de iniciar sesión porque si por
          ejemplo intento entrar a category/list sin loguearme, me mandara al
          login gracias al decorador, y eso pondra una varibale next en la url,
          pero si inicio sesión no me manda a esa direccion a la cual iba a
          entrar, entonces se crea este input para recibir ese valor de next a
          la vista, y si existe, en vez de mandarlo a LOGIN_REDIRECT_URL que es
          la de por defecto que le pongo, me manda a la que este en next
        </li>
        <div class="codigo">
          <pre><code id="b87">&lt;input type="hidden" name="next" value="{{next}}"&gt;
</code></pre>
        </div>
        <li>En el <b>views.py</b> del login, importamos el <b>settings</b></li>
        <div class="codigo">
          <pre><code id="b88">import config.settings as settings</code></pre>
          <button onclick="copiar('b88','170')" id="170">Copiar</button>
        </div>
        <li>
          En las 2 clases de <b>LoginFormView</b>, en la de <b>LoginView</b> en
          el redirect del dispatch le pongo
          <b>return redirect(settings.LOGIN_REDIRECT_URL)</b> para utilizar la
          variable que tengo en la config, que si la necesito modificar, no
          modifico todo el codigo, y en la otra clase, le dejo ell success_url
          asi: <b>reverse_lazy(settings.LOGIN_REDIRECT_URL)</b>
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-41">
        <h2>
          <i>Video 41</i>: Implementando alertas en nuestro formulario con
          jquery-confirm
        </h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=-9YOl_IGd0A&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=41"
        >Link del video 41</a
      >
      <ul>
        <li>
          Primero agrega 2 botones, uno de actualizar al lado de nuevo registro
          en la lista de categorias y otro de cancelar en el formulario de
          guardar una categoria
        </li>
        <ul>
          <li>Actualizar al lado del de nuevo registro</li>
          <div class="codigo">
            <pre><code id="b89">&lt;a href="{{create_url}}" class="btn btn-primary" id="btnTest"&gt;
  &lt;i class="fas fa-plus"&gt;&lt;/i&gt;
  Nuevo registro
&lt;/a&gt;
&lt;!--Este--&gt;
&lt;a href="{{ list_url }}" class="btn btn-success"&gt;
  &lt;i class="fas fa-sync"&gt;&lt;/i&gt; Actualizar
&lt;/a&gt;</code></pre>
            <button onclick="copiar('b89','171')" id="171">Copiar</button>
          </div>
          <li>Cancelar en el formulario de categorias</li>
          <div class="codigo">
            <pre><code id="b90">&lt;button type="submit" class="btn btn-primary" id="btnTest"&gt;
  &lt;i class="fas fa-save"&gt;&lt;/i&gt;
  Guardar registro
  &lt;/button&gt;
&lt;!--Este--&gt;
&lt;a href="{{ list_url }}" class="btn btn-danger"&gt;
  &lt;i class="fas fa-times"&gt;&lt;/i&gt; Cancelar
&lt;/a&gt;</code></pre>
            <button onclick="copiar('b90','172')" id="172">Copiar</button>
          </div>
        </ul>
        <li>
          Como se va a utilizar la libreria de <b>jquery-confirm</b>,
          descargamos la del profe y la ponemos en nuestra carpeta de librerias,
          e importamos el css y js en el main
        </li>
        <div class="codigo">
          <pre><code id="b91">&lt;!--Jquery confirm--&gt;
  &lt;link rel="stylesheet" href="{% static 'libs/jquery-confirm-v3.3.4/jquery-confirm.min.css' %}"&gt;
  &lt;script src="{% static 'libs/jquery-confirm-v3.3.4/jquery-confirm.min.js' %}"&gt;&lt;/script&gt;</code></pre>
          <button onclick="copiar('b91','173')" id="173">Copiar</button>
        </div>
        <li>
          En nuestro archivo de funciones <b>static/js/function.js</b>,
          agregamos una función llamada <b>submit_with_ajax</b> la cual vamos a
          utilizar para que cuando la persona vaya a realizar una acción,
          utilicemos jquery-confirm, y la vamos a configurar para que no solo
          sea para confirmar el registro de una categoria, sino para utilizarla
          en diferentes acciones de peticiones
        </li>
        <div class="codigo">
          <pre><code id="b92">function submit_with_ajax(url, parameters,callback) {
  $.confirm({
    theme: "material", 
    title: "Confirmación", 
    icon: "fa fa-info", 
    content: "¿Estas seguro de realizar la siguiente acción?", 
    columnClass: "medium", 
    typeAnimated: true,
    cancelButtonClass: "btn-primary",
    draggable: true, 
    dragWindowBorder: false,
    buttons: {
      info: {
        text: "Si", 
        btnClass: "btn-green",
        action: function () {
          $.ajax({
            url: url, 
            type: "POST",
            data: parameters, 
            dataType: "json",
          })
            .done(function (data) {
              if (!data.hasOwnProperty("error")) {
                callback(); 
                return false;
              }
              message_error(data.error);
            })
            .fail(function (jqXHR, textStatus, errorThrown) {
              alert(`${textStatus} : ${errorThrown}`);
            })
            .always(function () {
            });
        },
      },
      danger: {
        text: "No",
        btnClass: "btn-red",
        action: function () {},
      },
    },
  });
};</code></pre>
          <button onclick="copiar('b92','174')" id="174">Copiar</button>
        </div>
        <ul>
          <li>
            link de
            <a href="https://craftpip.github.io/jquery-confirm/" target="_blank"
              >jquery-confirm</a
            >
          </li>
          <li>El <b>theme</b> es el tipo de tema</li>
          <li>El <b>title</b> es el titulo de la alerta</li>
          <li>
            El <b>icon</b> es el icono a mostrar el cual es de fontawesome
          </li>
          <li>El <b>content</b> es el contenido de la alerta</li>
          <li>
            El <b>columnClass</b> es el tamaño del modal, puede ser small para
            más pequeño
          </li>
          <li>
            Los <b>typeAnimated, cancelButtonClass, draggable</b> y
            <b>dragWindowBorder</b> son opciones de efectos, en su doc se puede
            ver para que sirven
          </li>
          <li>En el <b>buttons</b> van los botones con su configuración</li>
          <ul>
            <li>
              primero se le pone el nombre del boton o tipo, en este caso info
              para si y danger para no
            </li>
            <li>
              cada boton contiene un diccionario con su configuración, el text
              para el mensaje que se va a ver, el btnClass para una clase que le
              quiera agregar y en el action, recibe una función si le da clic en
              esa opción
            </li>
          </ul>
          <li>
            En el action del si, osea, el boton info, va a estar el ajax que
            tenia el form.html, porque cuando el usuario de click en
            <b>si</b> entonces manda la petición para guardar el valor o mostrar
            el error, el cual ya lo tenemos configurado en el ajax
          </li>
          <ul>
            <li>
              La función <b>submit_with_ajax</b> le decimos que va a recibir 3
              parametros, una url, unos parametros y un callback, el cual, la
              url sera hacia donde va a hacer la petición, los
              <b>parameters</b> va a recibir un diccionario con los parametros
              que se enviara en la petición, y un <b>callback</b> o función el
              cual sera la acción a realizar si la petición se realiza de manera
              exitosa y asi la función no solo se utilizara en este formulario,
              sino en varios casos
            </li>
          </ul>
        </ul>
        <li>
          El <b>form.html</b>, en la función donde estaba el ajax, ponemos la
          función que creamos y le pasamos los parametros respectivos y quedaria
          asi
        </li>
        <div class="codigo">
          <pre><code id="b93">$('form').on('submit', function (e){
        e.preventDefault();
        var parameters = $(this).serializeArray();
        submit_with_ajax(window.location.pathname, parameters, function (){
          location.href = '{{list_url}}'
        });
      })
</code></pre>
          <button onclick="copiar('b93','175')" id="175">Copiar</button>
        </div>
        <ul>
          <li>
            Quitamos el ajax que estaba y solo dejamos la variable la cual tiene
            los parametros
          </li>
          <li>
            le pasamos la dirección la cual es la pagina actual, los parametros
            y la función, la cual lo que hace es que si es exitoso la petición,
            lo redirecciona a la url de la lista de las categorias
          </li>
        </ul>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-42">
        <h2><i>Video 42</i>: Media Files | Parte I</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=3HWq6hd8u7g&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=42&pp=iAQB"
        >Link del video 42</a
      >

      <ul>
        <li>
          Primero se crea lo mismo de categoria (todas las vistas), con el
          modelo de producto, en la pagina de el esta ya modificado para
          descargar o se crea manual para practicar
        </li>
        <li>
          En la función de js <b>submit_with_ajax</b> le agrega uno parametros
          para el <b>title</b> y el <b>content</b> y asi puede cambiar el titulo
          de la alerta y el mensaje
        </li>
        <li>
          Vamos a hacer un guardado puro sin ajax de jquery entonces comentamos
          algunos archivos para desactivar el ajax
        </li>
        <ul>
          <li>
            Comentamos en el <b>form.html</b> de la plantilla base, todo lo que
            sigue de <b>$('form')</b> para desactivarlo
          </li>
          <li>
            En el formulario del producto, comento la Sobreescritura del metodo
            <b>save</b>
          </li>
          <li>
            En la vista <b>CreateView</b> le comentamos la Sobreescritura del
            método <b>post</b>
          </li>
        </ul>
        <li>
          Si agregamos un producto no se guarda la imagen, solo se guarda el
          registro
        </li>
        <li>
          Debemos configurar los archivos media para que se guarden, lo
          configuramos en <b>settings.py</b>
        </li>
        <div class="codigo">
          <pre><code id="b94">#media
#carpeta donde se van a guardar los archivos subidos
MEDIA_ROOT = os.path.join(BASE_DIR,'media')
#link de como se accede a ellos de forma publica
MEDIA_URL = '/media/'</code></pre>
          <button onclick="copiar('b94','176')" id="176">Copiar</button>
        </div>
        <ul>
          <li>
            El <b>MEDIA_ROOT</b> es la ruta en mi proyecto en la cual se va a
            guardar los archivos subidos, eso creara una carpeta con el nombre
            que le paso, en este caso <b>media</b> y dentro guardara todos los
            archivos que se suban
          </li>
          <li>
            El <b>MEDIA_ROOT</b> es la ruta publica la cual las persona o el
            frontend accede a esos archivos
          </li>
        </ul>
        <p class="nota">
          <b>NOTA:</b> asegurarse que el <b>MEDIA_URL</b> tenga el
          <b>/</b> inicial igual que el <b>STATIC_URL</b>
        </p>
        <li>
          Agregamos una configuración que nos da la doc de Django para agregar
          esa ruta a las urls.py de la configuración, cuando estamos en
          desarrollo, debajo y fuera del arreglo <b>urlpatterns</b>
        </li>
        <div class="codigo">
          <pre><code id="b95">urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)</code></pre>
          <button onclick="copiar('b95','177')" id="177">Copiar</button>
        </div>
        <li>
          El <b>list.html</b> lo hacemos de la siguiente forma porque no vamos a
          utilizar datatable en este video
        </li>
        <div class="codigo">
          <pre><code id="b96">{% extends 'list.html' %} 
{% load static %}
{% block head_list %}
&lt;script src="{% static 'product/js/list.js' %}"&gt;&lt;/script&gt;
{% endblock head_list %}
{% block columns %}
&lt;tr&gt;
  &lt;th scope="col" style="width: 10%"&gt;Nro&lt;/th&gt;
  &lt;th scope="col" tyle="width: 20%"&gt;Nombre&lt;/th&gt;
  &lt;th scope="col" tyle="width: 30%"&gt;Categoria&lt;/th&gt;
  &lt;th scope="col" tyle="width: 20%"&gt;Imagen&lt;/th&gt;
  &lt;th scope="col" tyle="width: 20%"&gt;Pvp&lt;/th&gt;
  &lt;th scope="col" tyle="width: 20%"&gt;Opciones&lt;/th&gt;
&lt;/tr&gt;
{% endblock columns %} 
{% block rows %}
{% comment %} No utilizo ajax, sino lo normal {% endcomment %}
    {% for obj in object_list %}
        &lt;tr&gt;
            &lt;td&gt;{{ obj.id }}&lt;/td&gt;
            &lt;td&gt;{{ obj.name }}&lt;/td&gt;
            &lt;td&gt;{{ obj.cate.name }}&lt;/td&gt;
            &lt;td class="text-center"&gt;
{#                 {{ obj.image }}#}
                &lt;img src="{{ obj.get_image }}" class="img-fluid d-block mx-auto" style="width: 20px; height: 20px;"&gt;
            &lt;/td&gt;
            &lt;td&gt;{{ obj.pvp }}&lt;/td&gt;
            &lt;td class="text-center"&gt;
                &lt;a href="{% url 'erp:product_update' obj.id %}" class="btn btn-warning btn-xs btn-flat"&gt;
                    &lt;i class="fas fa-edit"&gt;&lt;/i&gt;
                &lt;/a&gt;
                &lt;a href="{% url 'erp:product_delete' obj.id %}" class="btn btn-danger btn-xs btn-flat"&gt;
                    &lt;i class="fas fa-trash"&gt;&lt;/i&gt;
                &lt;/a&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
    {% endfor %}
{% endblock rows %}
{% comment %} Para que quite el ajax predeterminado que esta en el html que esta heredando {% endcomment %}
{% block js %}{% endblock js %}</code></pre>
          <button onclick="copiar('b96','178')" id="178">Copiar</button>
        </div>
        <ul>
          <li>
            En el codigo, se ve que en la imagen se pone <b>obj.get_image</b> la
            cual es la ruta de la imagen la cual configuraremos en el modelo de
            los productos
          </li>
        </ul>
        <li>
          En el modelo del producto, creamos una función <b>get_image</b> la
          cual haremos una verificación y retornaremos un enlace hacia la imagen
          u otra por si no se encuentra
        </li>
        <li>primero importamos las url de los archivos media y static</li>
        <div class="codigo">
          <pre><code id="b97">from config.settings import MEDIA_URL, STATIC_URL</code></pre>
          <button onclick="copiar('b97','179')" id="179">Copiar</button>
        </div>
        <li>Luego la función quedaria asi</li>
        <div class="codigo">
          <pre><code id="b98">def get_image(self):
        if self.image:
            return f'{MEDIA_URL}{self.image}'
        
        return f'{STATIC_URL}media/img/empty.png'</code></pre>
          <button onclick="copiar('b98','180')" id="180">Copiar</button>
        </div>
        <ul>
          <li>
            si existe la imagen, o bueno, si se subio, le retorno la ruta que
            debe estar en media url, y le junto el self.image que es el nombre
            de la imagen
          </li>
          <li>
            de lo contrario, le retorno una imagen como predeterminada que esta
            en mis static
          </li>
          <li>
            Y por esto mismo la nota de que las rutas deben iniciar con <b>/</b>
          </li>
        </ul>
        <li>
          Y en el <b>form.html</b> de las plantillas base, en el fomulario le
          agregamos el siguiente atributo <b>enctype</b>, el cual es para
          decirle que se van a enviar archivos por el formulario
        </li>
        <div class="codigo">
          <pre><code id="b99">&lt;form method="post" enctype="multipart/form-data"&gt; </code></pre>
          <button onclick="copiar('b99','181')" id="181">Copiar</button>
        </div>
        <li>
          Y ya de esta forma si agregamos un producto, se guardara la imagen y
          el registro correctamente
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-43">
        <h2><i>Video 43</i>: Media Files con ajax | Parte II</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=VUP_cyjD32s&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=43&pp=iAQB"
        >Link del video 43</a
      >
      <ul>
        <li>
          En el <b>form.html</b> de las plantillas principales, descomentamos el
          <b>$('form')</b> porque vamos a utilizar ajax para el envio de datos,
          y vamos a modificarlo
        </li>
        <ul>
          <li>
            Modificamos la variable <b>parameters</b> y creamos un
            <b>FormData</b> con la palabra reservada <b>new</b>, y con podriamos
            agregarle cada valor con la funcion <b>.append(clave,valor)</b> pero
            simplemente le pasamos el <b>this</b> que hace referencia al
            formulario y eso ya acepta los valores tipo texto y tipo archivo y
            ya el los procesa
          </li>
          <div class="codigo">
            <pre><code id="c1">var parameters = new FormData(this);</code></pre>
            <button onclick="copiar('c1','182')" id="182">Copiar</button>
          </div>
          <li>
            Luego le hacemos una pequeña modificación a nuestro ajax de la
            funcion <b>submit_with_ajax</b>, le agregamos 2 atributos, y los
            ponemos en false, y quedaria asi la cabecera del ajax
          </li>
          <div class="codigo">
            <pre><code id="c2"></code>$.ajax({
            url: url,
            type: "POST",
            data: parameters, 
            dataType: "json",
            processData: false,
            contentType:false 
          })</pre>
            <button onclick="copiar('c2','183')" id="183">Copiar</button>
          </div>
          <ul>
            <li>
              Esos 2 nuevos atributos, por defecto estan en ture, y modifican
              los datos que le pase, pero con el FormData ya lo hago y le digo
              que no procese esos datos
            </li>
          </ul>
          <li>
            Si quiero ver los valores, puedo comentar el
            <b>submit_with_ajax</b> y utilizo un forEach para ver los valores
            del formulario
          </li>
          <div class="codigo">
            <pre><code id="c3">parameters.forEach(function (value,key){ 
  console.log(key+" "+value)
})</code></pre>
            <button onclick="copiar('c3','184')" id="184">Copiar</button>
          </div>
        </ul>
        <li>
          En la vista de mi products le descomento el post, y si quiero, puedo
          comentar lo que esta en el try para que no se guarde y con un
          print(request.POST) y print(request.FILES) puedo ver los valores que
          llegan, a ver si llegan de forma correcta
        </li>
        <li>
          Si es asi, descomento todo el post y el método <b>save</b> del
          formulario de mi product para que se guarden los valores
        </li>
        <p class="nota">
          <b>NOTA:</b> en el <b>delete.html</b> también debo ponerle el new
          FormData porque sino al intentar eliminar lanzara un error
        </p>
        <li>
          Y ya si probamos guardar, debe guardar la imagen y en el video el
          profe hace algunas modificaciones a los modelos
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-44">
        <h2><i>Video 44</i>: Select anidados con ajax</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=s2P3AxKNmww&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=44&pp=iAQB"
        >Link del video 44</a
      >

      <ul>
        <li>
          En mi app <b>erp</b>, en la carpeta de <b>views.py</b> creo una
          carpeta <b>tests</b> para las prubas o enseñanzan del profe, porque en
          este video, los select anidados no es algo que por ahora vaya a
          implementar sino que es algo que va a explicae porque se lo pidieron
        </li>
        <li>
          En el archivo <b>forms.py</b> de mi app erp, crep un formulario
          herenando de <b>Form</b> porque vamos a crear cada componente de forma
          manual y no basandonos en un modelo
        </li>
        <div class="codigo">
          <pre><code id="c4">class TestForm(Form):#creo mi propio formulario
  categories = ModelChoiceField(queryset=Category.objects.all(),widget=Select(attrs={
      'class':'form-control'
  }))
  products = ModelChoiceField(queryset=Product.objects.none(),widget=Select(attrs={
      'class':'form-control'
  }))
</code></pre>
          <button onclick="copiar('c4','185')" id="185">Copiar</button>
        </div>
        <ul>
          <li>
            El <b>ModelChoiceField</b> es para las opciones, y en el widget le
            digo que tipo de input sera, en este caso, un <b>Select</b>, y ese
            <b>ModelChoiceField</b> debe ir tambien con el parametro
            <b>queryset</b> el cual le paso los valores que seran las opciones,
            en este caso, todas las categorias
          </li>
          <li>
            Le paso un listado vacio o <b>none</b> de los productos porque con
            ajax lo voy a llenar, y pues es obligatorio pasar ese parametro
          </li>
          <li>Y pues le puedo pasar atributos dentro del widget asignado</li>
        </ul>
        <li>
          En la carpeta tests, creo el archivo <b>views.py</b> y creo una vista
          simple que herede de <b>TemplateView</b> y le pongo el post, distpach
          y sus metodos decoradores para el login e ignorar la seguridad, y
          quedaria asi:
        </li>
        <div class="codigo">
          <pre><code id="c5">from django.http import JsonResponse
from django.views.generic import TemplateView
from django.views.decorators.csrf import csrf_exempt
from django.contrib.auth.decorators import login_required
from django.utils.decorators import method_decorator
from core.erp.forms import TestForm
from core.erp.models import Product

class TestView(TemplateView):
    template_name='tests.html'

    @method_decorator(csrf_exempt)
    @method_decorator(login_required) 
    def dispatch(self, request, *args,**kwargs):
     return super().dispatch(request, *args, **kwargs)
    
    def post(self, request, *args, **kwargs):
      data={}
      try:
        action = request.POST['action']
        if action == 'search_product_id':
          data=[]
          for i in Product.objects.filter(cat_id=request.POST['id']):
             data.append({'id':i.id, 'name':i.name})
        else:
          data['error']='Ha ocurrido un error'
      except Exception as e:
         data['error']=str(e)

      return JsonResponse(data,safe=False)

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context["title"] = 'Selects anidados | Django'
        context['form']=TestForm()
        return context</code></pre>
          <button onclick="copiar('c5','186')" id="186">Copiar</button>
        </div>
        <ul>
          <li>Hago las respectivas importaciones a utilizar</li>
          <li>Le pongo los decoradores al distpach</li>
          <li>
            En el método post verifico la acción, le mando los productos según
            el id que reciba el cual sera de una categoria, y buscare todos los
            productos por esa categoria
          </li>
          <li>
            En este caso no sera un json o diccionario sino una colección de
            diccionario o un arreglo con varios diccionarios con el id y nombre
            del producto
          </li>
          <li>
            Y en el <b>get_context_data</b> le paso los valores que necesito,
            junto a ellos el formulario
          </li>
          <li>
            Recordar que como voy a retornar un arreglo o coleccion, el
            JsonResponse debe tener el safe en False
          </li>
        </ul>
        <li>
          Agrego la vista a las urls de mi app, con el link <b>test/</b>,
          quedaria como <b>/erp/test/</b>, importo la vista como
          <b>from core.erp.views.tests.views import *</b>
        </li>
        <div class="codigo">
          <pre><code id="c6"># test
    path('test/',TestView.as_view(),name='test')</code></pre>
          <button onclick="copiar('c5','186')" id="186">Copiar</button>
        </div>
        <li>
          Copiamos del <b>form.html</b> de las plantillas principales, pero le
          hago unas modificaciones
        </li>
        <div class="codigo">
          <pre><code id="c6">{% extends 'layout.html' %} 
{% load widget_tweaks %} 
{% block content %}
&lt;form method="post"&gt;
  &lt;div class="card card-default"&gt;
    &lt;div class="card-header"&gt;
      &lt;h3 class="card-title"&gt;
        &lt;i class="fas fa-plus"&gt;&lt;/i&gt;
        {{title}}
      &lt;/h3&gt;
    &lt;/div&gt;
    &lt;div class="card-body"&gt;
      &lt;div class="form-group"&gt;
        &lt;label for=""&gt;Categorias:&lt;/label&gt;
        {{form.categories}} {% comment %} Pongo el input que cree {% endcomment %}
      &lt;/div&gt;
      &lt;div class="form-group"&gt;
        &lt;label for=""&gt;Productos:&lt;/label&gt;
        {{form.products}}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/form&gt;
{% endblock content %} 
{% block js %}
{% endblock js %}
</code></pre>
          <button onclick="copiar('c6','187')" id="187">Copiar</button>
        </div>
        <ul>
          <li>
            Ponemos los inputs, ya que son 2, no recorremos el <b>form</b> sino
            que lo ponemos manual accediendo a su nombre del atributo que
            pusimos en la clase del formulario
          </li>
          <li>
            Le dejamos el bloque de js vacio para que no herede esa parte,
            porque ahora vamos a utilizar ajax
          </li>
        </ul>
        <li>
          Agregamos el codigo javascript en el bloque js que vamos a utilizar
        </li>
        <div class="codigo">
          <pre><code id="c7">&lt;script&gt;
  $(function () {
    $('select[name="categories"]').on('change',function (){
      let id = $(this).val(); 
      let select_products=$('select[name="products"]');
      let options ='&lt;option value=""&gt;-----&lt;/option&gt;'
      if(id===''){
        select_products.html(options)
        return false;
      }
      $.ajax({
            url: window.location.pathname, 
            type: "POST",
            data: {
              action:'search_product_id',
              id:id
            }, 
            dataType: "json",
          })
            .done(function (data) {
              if (!data.hasOwnProperty("error")) {
                $.each(data,function(key,value){
                  //console.log(`key:${key}, value:${value}`)
                  options+=`&lt;option value="${value.id}"&gt;${value.name}&lt;/option&gt;`
                })
                return false;
              }
              message_error(data.error);
            })
            .fail(function (jqXHR, textStatus, errorThrown) {
              alert(`${textStatus} : ${errorThrown}`);
            })
            .always(function () {
              select_products.html(options);
            });
    })
  });
&lt;/script&gt;</code></pre>
          <button onclick="copiar('c7','188')" id="188">Copiar</button>
        </div>
        <ul>
          <li>
            Con el <b>$(function () {})</b> le digo que se ejecute apenas cargue
            la pagina
          </li>
          <li>
            Le agregamos el evento <b>change</b> o cambio cuando selecciona cada
            opcion del select, lo selecciono por su nombre o <b>name</b> el cual
            se pone en el input
          </li>
          <li>
            Dentro de la función, obtengo el id de la categoria, con el this que
            hace referencia a la opcion seleccionada y que en <b>value</b> esta
            el id de la categoria (en la inspección se puede ver) y con
            <b>val()</b> obtengo su valor
          </li>
          <li>
            Selecciono el input del producto para incrustarle las opciones segun
            la categoria
          </li>
          <li>
            Inicializo las opciones en una variable para luego ir agregandolas
            segun lo que reciba el ajax
          </li>
          <li>
            Verifico ue si el id esta vacio, osea no ha seleccionado nada,
            entonces no haga la petición porque eso seria un error en el
            servidor, entonces solo le paso la opción vacia y con el return
            detengo la ejecución para que no pase al ajax
          </li>
          <li>
            Si el id si tiene un valor, osea el id de la categoria, ejecuto el
            ajax de jquery donde:
          </li>
          <ul>
            <li>
              La url es la actual por eso se pone
              <b>window.location.pathname</b>
            </li>
            <li>el tipo de petición</li>
            <li>
              La data la cual le paso la accion (action) y el id el cual es el
              de la categoria que obtuve arriba
            </li>
            <li>Y el <b>dataType</b> el cual es json</li>
          </ul>

          <li>
            En la función <b>.done</b> la cual se ejecuta si la peticion es
            correcta, le paso la data que me envie el servido, la cual es un
            arreglo de diccionarios
          </li>
          <li>
            Pregunto que el data no tenga una clave error, y si no la tiene, con
            la función <b>$.each</b> recorro el arreglo, le paso el data y como
            segundo parametro la funcion la cual recibe el key y value, el cual
            el key es la posicion del arreglo y el value el diccionario
          </li>
          <li>
            y como el <b>each</b> recorre, entonces creo las opciones, se las
            agrego a la variable que ya tengo creada, las opciones con su value
            el cual pongo el id del producto, y el name en el valor del option
            que es el que se muestra
          </li>
          <li>Y le pongo <b>return false</b> para que salga de la ejecución</li>
          <li>
            Si hay algun error, le paso los errores a la funcion
            <b>message_error</b> como <b>data.error</b> para que le diga el
            error al usuario
          </li>
          <li>
            Y ya en el <b>.always</b>, en su función, en el input product el
            cual esta seleccionado en <b>select_products</b> y con la funcion
            <b>.html</b> le paso la variable que tiene los valores, si se envia
            la petición, recibe los productos, sino tiene valores lo dejara
            vacio como la inicializacion de esa variable
          </li>
        </ul>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-45">
        <h2><i>Video 45</i>: Select anidados con select2</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=_RhjES5lDlo&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=45&pp=iAQB"
        >Link del video 45</a
      >
      <ul>
        <li>
          Ponemos la libreria <b>select2</b> en las libs de nuestra carpeta
          static
        </li>
        <li>La importamos en nuestro html <b>tests.html</b></li>
        <div class="codigo">
          <pre><code id="c8">{% load static %}
{% block head %}
&lt;link rel="stylesheet" href="{% static 'libs/select2-4.1.0/css/select2.min.css' %}"&gt;
&lt;link rel="stylesheet" href="{% static 'libs/select2-4.1.0/css/select2-bootstrap4.min.css' %}"&gt;
&lt;script src="{% static 'libs/select2-4.1.0/js/select2.min.js' %}"&gt;&lt;/script&gt;
&lt;!--Para los lenguajes--&gt;
&lt;script src="{% static 'libs/select2-4.1.0/js/i18n/es.js' %}"&gt;&lt;/script&gt;
{% endblock head %}</code></pre>
          <button onclick="copiar('c8','189')" id="189">Copiar</button>
        </div>
        <ul>
          <li>
            Cargamos los static, y en el bloque <b>head</b> el cual esta creado
            en el <b>body.html</b> y el cual se hereda el <b>layout</b>
          </li>
          <li>
            importamos el css y el js, más el js del lenguaje español, que esta
            en la carpeta <b>i18n</b>
          </li>
        </ul>
        <li>
          En nuestra clase de formulario <b>TestForm</b>, le agregamos la clase
          <b>select2</b> para seleccionarlo con dicha clase
        </li>
        <div class="codigo">
          <pre><code id="c9">categories = ModelChoiceField(queryset=Category.objects.all(),widget=Select(attrs={
      'class':'form-control select2',
      'style':'width:100%'
  }))
products = ModelChoiceField(queryset=Product.objects.none(),widget=Select(attrs={
      'class':'form-control select2',
      'style':'width:100%'
  }))</code></pre>
          <button onclick="copiar('c9','190')" id="190">Copiar</button>
        </div>
        <li>
          En nuestra vista, le modificamos el nombre de la clave <b>name</b> del
          data que enviamos por <b>text</b> porque asi lo pide la libreria
        </li>
        <div class="codigo">
          <pre><code id="c10">data=[{"id":'','text':'-'*9}]
          for i in Product.objects.filter(cat_id=request.POST['id']):
             data.append({'id':i.id, 'text':i.name,'data':i.cat.toJSON()})</code></pre>
          <button onclick="copiar('c10','191')" id="191">Copiar</button>
        </div>
        <ul>
          <li>
            La inicializacion de la variable data le paso un id vacio y un text
            con los guiones porque es la primera <b>option</b> del select,
            porque le voy a pasar los datos directo de la petición y select2
            creara los <b>option</b> de forma dinamica
          </li>
          <li>
            en la data, la cual es la info de los productos según la categoria,
            ahi le paso en otra clase, llamada data, la información de la
            categoria segun el producto, el cual visualizaremos en la consola de
            la pagina si se desea
          </li>
        </ul>
        <li>El script del html quedaria de la siguiente forma</li>
        <div class="codigo">
          <button onclick="copiar('c11','192')" id="192">Copiar</button>
          <pre><code id="c11">$(function () {
    let select_products = $('select[name="products"]'); 
    $(".select2").select2({
      theme: "bootstrap4", 
      language: "es",
    });
    $('select[name="categories"]').on("change", function () {
      let id = $(this).val(); 
      let options = '&lt;option value=""&gt;---------&lt;/option&gt;'; 
      if (id === "") {
        select_products.html(options);
        return false;
      }
      $.ajax({
        url: window.location.pathname,
        type: "POST",
        data: {
          action: "search_product_id",
          id: id,
        },
        dataType: "json",
      })
        .done(function (data) {
          if (!data.hasOwnProperty("error")) {
            select_products.html("").select2({
              theme: "bootstrap4",
              language: "es",
              data: data,
            });
            /*$.each(data,function(key,value){
                  //console.log(`key:${key}, value:${value}`)
                  options+=`&lt;option value="${value.id}"&gt;${value.name}&lt;/option&gt;`
                })*/
            return false;
          }
          message_error(data.error);
        })
        .fail(function (jqXHR, textStatus, errorThrown) {
          alert(`${textStatus} : ${errorThrown}`);
        })
        .always(function (data) {
          //select_products.html(options); 
        });
    });
    select_products.on("change", function () {
      var value = select_products.select2("data")[0];
      console.log(value);
    });
  });</code></pre>
        </div>
        <ul>
          <li>
            creo una variable y selecciono el select de los prodcutos para
            ponerle lo valores que me pase la petición, <b>select_products</b>
          </li>
          <li>
            Selecciono los inputs por su clase y les pongo tema y lenguaje
            gracias a que los importe en el html, utilizando la funcion de
            select2
          </li>
          <li>
            Con el <b>if (id === "")</b> verifico si la persona selecciono la
            opcion vacia, la cual solamente le pongo las lineas de las opcion
            vacia y ya, no envio la petición
          </li>
          <li>
            en el <b>if (!data.hasOwnProperty("error"))</b>, si no hay errores,
            selecciono el select de los productos, lo limpio con
            <b>.html("")</b> y con <b>select2</b> le pongo los valores, el tema,
            lenguaje y la data que venga de la petición, la cual viene en un
            diccionario con varios diccionarios (<b
              >[{"id":0,"text":'Nombre'},{"id":1,"text":'Nombre 2'}]</b
            >)
          </li>
          <li>
            En la función <b>always</b> que es la que se ejecute siempre, lo
            comento porque si no hay opciones, el data solo envia la opcion
            vacia
          </li>
          <li>
            Fuera de la funcion
            <b>$('select[name="categories"]').on('change',function (){})</b> la
            cual es la mayor, fuera de esa, obtenemos el evento del cambio en el
            select de los productos y gracias a select2 puedo obtener los datos
            que tenga y asi realizar otras opciones, en este caso solo veremos
            la información del producto seleccionado, y le pongo
            <b>[0]</b> porque esta dentro de un arreglo
          </li>
        </ul>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-46">
        <h2><i>Video 46</i>: Personalizando la clase User</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=PJHmare6KeM&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=46&pp=iAQB"
        >Link del video 46</a
      >
      <ul>
        <li>
          Creamos una app dentro de <b>core</b> (nuestra carpeta de apps),
          llamada <b>user</b> la cual tendra el modelo heredado de un modelo
          para modificar el usuario por si le queremos agregar un campo, en este
          caso, le agregaremos un campo para foto de perfil
        </li>
        <li>
          Después de crear la app, registrarla en <b>INSTALLED_APPS</b> y en el
          archivo <b>apps.py</b> agregarle el <b>core.</b> porque esta dentro de
          esa carpeta
        </li>
        <li>
          En el archivo <b>models.py</b> de la app importamos lo necesario y
          creamos el modelo
        </li>
        <div class="codigo">
          <pre><code id="c12">from django.db import models
from django.contrib.auth.models import AbstractUser
from config.settings import MEDIA_URL, STATIC_URL

class User(AbstractUser):
    image = models.ImageField(upload_to='users/%Y/%m/',null=True, blank=True)
    
    def get_image(self):
        if self.image:
            return f'{MEDIA_URL}{self.image}'
        return f'{STATIC_URL}media/img/empty.png'</code></pre>
          <button onclick="copiar('c12','193')" id="193">Copiar</button>
        </div>
        <ul>
          <li>
            importamos la clase <b>AbstractUser</b> la cual es para agregar más
            datos a la clase <b>User</b>
          </li>
          <li>
            Creamos y heredamos la clase, agregamos el campo de imagen, la cual
            puede ser nula y vacia
          </li>
          <li>
            Copiamos la funcion <b>get_image</b> que creamos de los productos
            para retornar la imagen del usuario, y si no hay una, retornamos una
            imagen de vacio
          </li>
        </ul>
        <li>
          En el <b>settings</b> creo una variable y le pongo el nombre de la app
          que tiene el modelo modificado y el nombre de la clase, la cual la
          buscara en los modelos
        </li>
        <div class="codigo">
          <pre><code id="c13">AUTH_USER_MODEL = 'user.User'</code></pre>
          <button onclick="copiar('c13','194')" id="194">Copiar</button>
        </div>
        <ul>
          <li>
            Si lanza error, posiblemente sea porque no se puso correctamente la
            app en <b>INSTALLED_APPS</b>
          </li>
        </ul>
        <li>
          Borro la base de datos, y la vuelvo a crear, realizo el
          <b>makemigrations</b> y luego el <b>migrate</b>, y la tabla user ahora
          se llama <b>user_user</b>, y seguidamente se crean todas las tablas
          del user (grupos y permisos)
        </li>
        <li>
          En la app <b>user</b> registro el modelo en el archivo <b>admin.py</b>
        </li>
        <div class="codigo">
          <pre><code id="c13">from django.contrib import admin
from core.user.models import User

admin.site.register(User)</code></pre>
          <button onclick="copiar('c13','194')" id="194">Copiar</button>
        </div>
        <li>
          En el template <b>vtc/sidebar.html</b> busco donde se pone la foto de
          perfil del usuario y lo remplazo llamando al usuario y poninendo su
          función de la imagen
        </li>
        <div class="codigo">
          <pre><code id="c14">&lt;div class="image"&gt;
  &lt;img src="{{user.get_image}}" class="img-circle elevation-2" alt="User Image"&gt;
&lt;/div&gt;</code></pre>
          <button onclick="copiar('c14','195')" id="195">Copiar</button>
        </div>
        <li>
          Y asi pongo la imagen del usuario, o una predeterminada si no tiene
        </li>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-47">
        <h2><i>Video 47</i>: Auditoria en mis modelos con django-crum</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=AFpLfs-ALow&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=47&pp=iAQB"
        >Link del video 47</a
      >
      <ul>
        <li>
          La auditaria hace referencia a poner como el registro o control de
          modificaciones, actualizaciones, quien lo hizo y cuando, y para no
          repetir eso en cada modelo, sabiendo que va a ser igual, creamos un
          modelo base y lo probaremos con las categorias
        </li>
        <li>
          Fuera de las apps, pero dentro de la carpeta <b>core</b>, creo un
          archivo para ese modelo base, <b>models.py</b> y ahi lo creo de la
          siguiente manera
        </li>
        <div class="codigo">
          <pre><code id="c15">from django.conf import settings
from django.db import models

class BaseModel(models.Model):
    user_creation = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE, null=True, blank=True, related_name='%(app_label)s_%(class)s_creation')

    user_updated = models.ForeignKey(settings.AUTH_USER_MODEL, on_delete=models.CASCADE, null=True, blank=True, related_name='%(app_label)s_%(class)s_updated')

    date_creation = models.DateTimeField(auto_now_add=True, null=True, blank=True)
    date_updated = models.DateTimeField(auto_now=True, null=True, blank=True)

    class Meta:
        abstract = True</code></pre>
          <button onclick="copiar('c15','196')" id="196">Copiar</button>
        </div>
        <ul>
          <li>
            el <b>user_creation</b> es para registrar al usuario que creo el
            registro, y como tengo el usuario personalizado, debo utilizar la
            variable <b>AUTH_USER_MODEL</b> la cual tiene el modelo de mi
            usuario personalizado, y viene de <b>django.conf</b> que es donde se
            guarda la info de mi carpeta config o principal del proyecto, y lo
            pongo nulo y vacio porque si tengo datos, va a tener problemas, asi
            que inician nulos y vacios porque igualmente los agregare yo desde
            el backend
          </li>
          <li>
            Aveces hay problemas con el nombre de la tabla al utilizar el
            <b>AUTH_USER_MODEL</b> para la relacion, asi que le puedo poner el
            nombre, y lo pongo de esa forma para que cambie segun la clase y no
            haya problema al poner uno repetido
          </li>
          <li>
            el <b>user_updated</b> es para registrar que usuario actualizo el
            registro
          </li>
          <li>
            El <b>date_creation</b> y el <b>date_updated</b> les pongo fecha con
            hora y se pondran de forma automatica
          </li>
          <li>
            En la clase <b>Meta</b> le pongo el atributo <b>abstract</b> en
            <b>True</b> para decirle que no se ponga en la base de datos, sino
            que sera una clase para implementar en mis modelos
          </li>
        </ul>
        <li>
          En mi modelo <b>Category</b> ya no lo heredo de
          <b>models.Model</b> sino del modelo base que cree, debo importar ese
          modelo (<b>from core.models import BaseModel</b>) y ponerselo al
          Category
        </li>
        <li>
          Instalamos la libreria <b>django-crum</b> (<b>
            pip install django-crum</b
          >) para obtener el usuario logueado en el momento y asi ponerlo cuando
          haga una modificación o creacion enmis categorias
        </li>
        <li>
          Desde <b>crum</b> importamos <b>get_current_user</b> la cual es la
          función para obtener el usuario
        </li>
        <div class="codigo">
          <pre><code id="c16">from crum import get_current_user</code></pre>
          <button onclick="copiar('c16','197')" id="197">Copiar</button>
        </div>
        <li>
          Pero para utilizarlo debemos ponerlo en el <b>MIDDLEWARE</b> de los
          <b>settings.py</b> de la siguiente forma
        </li>
        <div class="codigo">
          <pre><code id="c17">'crum.CurrentRequestUserMiddleware'</code></pre>
          <button onclick="copiar('c17','198')" id="198">Copiar</button>
        </div>
        <li>Ya asi podemos utilizarlo</li>
        <li>
          En el modelo que se va a utilizar, en este caso, Category,
          sobreescribimos la función <b>save</b> del modelo para obtener el
          usuario y ponerlo en el registro
        </li>
        <div class="codigo">
          <pre><code id="c18">def save(self, force_insert=False, force_update=False, using=None, update_fields=None):
  get_current_request()
  user = get_current_user()
  if user is not None:
    if not self.pk:
      self.user_creation=user
    else:
      self.user_updated=user
  super(Category, self).save()</code></pre>
          <button onclick="copiar('c18','199')" id="199">Copiar</button>
        </div>
        <ul>
          <li>
            Si se autocompleta con visual la funcion save, los campos deben
            quedar asi, no utilizando ":" sino los "=" (error mio que vi)
          </li>
          <li>
            creamos una variable y llamamos la función para obtener el usuario,
            y con el primer <b>if</b> verificamos si el usuario no esta vacio
          </li>
          <li>
            Si no esta vacio, preguntamos si existe una clave primario, si no
            existe significa que se esta creando un registro y ponemos el
            registro en el <b>user_creation</b> por dicha cuestión
          </li>
          <li>
            De lo contrario, si existe una clave pk, significa que se esta
            actualizando y ponemos en el <b>user_updated</b> el usuario que esta
            atualizando el registro
          </li>
          <li>Recordar que los 2 date se ponen de forma automatica</li>
        </ul>
        <li>
          Si corremos el servidor y vamos a la edición o creacion de una
          categoria, se ven unos selects de los usuarios los cuales no deben ir
          porque los ponemos de forma dinamica, entonces le hacemos una pequeña
          modificacion al formulario de las categorias
        </li>
        <div class="codigo">
          <pre><code id="c19">exclude = ['user_creation','user_updated']</code></pre>
          <button onclick="copiar('c19','200')" id="200">Copiar</button>
        </div>
        <ul>
          <li>
            De esta forma excluyo los campos (Los cuales ya vimos ese tema), no
            pongo los date porque como tienen la propiedad auto_now y
            auto_now_add, django sabe que son campos que se autocompletan
          </li>
        </ul>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-48">
        <h2><b>Video 48</b>: Modal | Creando un registro</h2>
      </summary>
      <a
        target="_blank"
        class="link-videos"
        href="https://www.youtube.com/watch?v=-lftKKGQ0Ao&list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7&index=48&pp=iAQB"
        >Link del video 48</a
      >
      <ul>
        <li>
          Primero se descarga el proyecto para agregar las modificaciones sobre
          lo de cliente
        </li>
        <li>
          Seguramente se esta trabajando con Django 4 y puede dar problemas con
          el proyecto de Algorisoft porque es Django 3, entonces es mejor ver lo
          cambios y ponerlos manualmente para que funcione bien
        </li>
        <li>
          En el archivo <b>list.html</b> de los templates principales,
          modificamos la parte del <b>card-footer</b> en el cual estan los 2
          botones de <b>Nuevo registro</b> y <b>Actualizar</b>, y lo ponemos asi
        </li>
        <div class="codigo">
          <pre><code id="c20">
            &lt;div class="card-footer"&gt;
      {% block bottons_list %}
      &lt;a href="{{create_url}}" class="btn btn-primary" id="btnTest"&gt;
        &lt;i class="fas fa-plus"&gt;&lt;/i&gt;
        Nuevo registro
      &lt;/a&gt;
      &lt;a href="{{ list_url }}" class="btn btn-success"&gt;
        &lt;i class="fas fa-sync"&gt;&lt;/i&gt; Actualizar
      &lt;/a&gt;
      {% endblock bottons_list %}
      
    &lt;/div&gt;
          </code></pre>
          <button onclick="copiar('c20','201')" id="201">Copiar</button>
        </div>
        <ul>
          <li>
            lo que hicimos es crear un bloque para que se puedan modificar los
            botones, si por ejemplo no se modifica ese bloque, seguira con los
            botones eso, pero en este caso si vamos a modificar esos botones
            para utilizar ajax en el modal
          </li>
        </ul>
        <li>
          En el archivo <b>list.html</b> de los templates del cliente, lo
          dejamos de la siguiente manera
        </li>
        <div class="codigo">
          <pre><code id="c21">
            {% extends 'list.html' %} 
{% load widget_tweaks %} 
{% load static %} {% block head_list %}
&lt;script src="{% static 'client/js/list.js' %}"&gt;&lt;/script&gt;
{% endblock %} 
{% block columns %}
&lt;tr&gt;
  &lt;th scope="col" style="width: 10%"&gt;Nro&lt;/th&gt;
  &lt;th scope="col" style="width: 15%"&gt;Nombres&lt;/th&gt;
  &lt;th scope="col" style="width: 15%"&gt;Apellidos&lt;/th&gt;
  &lt;th scope="col" style="width: 10%"&gt;Dni&lt;/th&gt;
  &lt;th scope="col" style="width: 15%"&gt;Fecha de nacimiento&lt;/th&gt;
  &lt;th scope="col" style="width: 15%"&gt;Sexo&lt;/th&gt;
  &lt;th scope="col" style="width: 20%"&gt;Opciones&lt;/th&gt;
&lt;/tr&gt;
{% endblock %} 
{% block rows %} 
{% endblock %} 
{% block bottons_list %} {# Le voy a cambiar los botones para que abra el modal #}
      &lt;a class="btn btn-primary" id="btnAdd"&gt;
        &lt;i class="fas fa-plus"&gt;&lt;/i&gt;
        Nuevo registro
      &lt;/a&gt;
      &lt;a href="{{ list_url }}" class="btn btn-success"&gt;
        &lt;i class="fas fa-sync"&gt;&lt;/i&gt; Actualizar
      &lt;/a&gt;
      {% endblock bottons_list %}
{% block js %}
&lt;div
  class="modal fade"
  id="myModalClient"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
&gt;
  &lt;form action="." method="post" enctype="multipart/form" class="modal-dialog"&gt;
    &lt;div class="modal-content"&gt;
      &lt;div class="modal-header"&gt;
        &lt;h5 class="modal-title"&gt;
          &lt;b&gt;&lt;i class="fas fa-search"&gt;&lt;/i&gt; &lt;span&gt;&lt;/span&gt;&lt;/b&gt;
        &lt;/h5&gt;
        &lt;button
          type="button"
          class="close"
          data-bs-dismiss="modal"
          aria-label="Close"
        &gt;
      &lt;span aria-hidden="true"&gt;&times;&lt;/span&gt;
    &lt;/button&gt;
      &lt;/div&gt;
      &lt;div class="modal-body"&gt;
        &lt;div class="container-fluid"&gt;
          &lt;input name="action" type="hidden" value="add" /&gt;
          &lt;input name="id" type="hidden" value="0" /&gt;
          {% for field in form.visible_fields %}
          &lt;div class="form-group"&gt;
            &lt;label for=""&gt;{{field.label}}:&lt;/label&gt;
            {{field|add_class:'form-control'|attr:'autocomplete:off'}}
          &lt;/div&gt;
          {% endfor %}
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="modal-footer"&gt;
        &lt;button type="submit" class="btn btn-primary btn-flat btn-block"&gt;
          &lt;i class="fas fa-save"&gt;&lt;/i&gt; Guardar
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/form&gt;
&lt;/div&gt;
{% endblock %}
          </code></pre>
          <button onclick="copiar('c21','202')" id="202">Copiar</button>
        </div>
        <ul>
          <li>
            Modificamos el bloque de los botones, el cual ponemos los mismos
            botones pero le quitamos el <b>href</b> al link y el <b>id</b> lo
            modificamos para luego seleccionar ese boton para el envio con ajax
            con JQuery
          </li>
          <li>
            En el bloque de javascript o en mi caso lo tengo como js, ponemos el
            modal de bootstrap con el formulario el cual recorremos y armamos,
            utilizamos <b>widget_tweaks</b> para ponerle algunos atributos a los
            inputs
          </li>
          <li>
            ponemos un input invisible, osea de tipo <b>hidden</b> con el valor
            en <b>add</b> para saber que accion se va a realizar, de igual forma
            en el javascript vamos a ponerle add o edit segun la accion que
            estemos haciendo
          </li>
        </ul>
        <li>
          En el <b>views.py</b> de los clientes, en la vista que tenemos creada,
          en su método <b>post</b>, en la parte donde preguntamos la accion,
          agregamos un <b>elif</b> para preguntar si es <b>add</b>, crearemos un
          registro de cliente <b>Client</b> pasandole los datos que vienen en el
          <b>post</b> y luego guardando con su método <b>save</b>
        </li>
        <div class="codigo">
          <pre><code id="c22">action = request.POST['action']
  if action == 'searchdata':
      data = []
      for i in Client.objects.all():
          data.append(i.toJSON())
  elif action == 'add':
      cli = Client( 
          names=request.POST['names'],
          surnames=request.POST['surnames'],
          dni=request.POST['dni'],
          date_birthday=request.POST['date_birthday'],
          address=request.POST['address'],
          gender=request.POST['gender']
      ).save()
          </code></pre>
          <button onclick="copiar('c22','203')" id="203">Copiar</button>
        </div>
        <li>Y en la funcion <b>get_context_data</b> le paso el formulario</li>
        <div class="codigo">
          <pre><code id="c23"># al inicio del archivo, importamos el formulario
from core.erp.forms import ClientForm
# en el get_context_data
context['form']=ClientForm()
</code></pre>
          <button onclick="copiar('c23','204')" id="204">Copiar</button>
        </div>
        <li>
          En el <b>list.js</b> en los archivos estaticos de los clientes, lo
          ponemos de la siguiente manera
        </li>
        <div class="codigo">
          <pre><code id="c24">var tblClient
function getData() {
  tblClient=$("#data").DataTable({
    responsive: true,
    autoWidth: false,
    destroy: true,
    deferRender: true,
    ajax: {
      url: window.location.pathname,
      type: "POST",
      data: {
        action: "searchdata",
      },
      dataSrc: "",
    },
    columns: [
      { data: "id" },
      { data: "names" },
      { data: "surnames" },
      { data: "dni" },
      { data: "date_birthday" },
      { data: "gender" },
      { data: "id" },
    ],
    columnDefs: [
      {
        targets: [-1],
        class: "text-center",
        orderable: false,
        render: function (data, type, row) {
          var buttons =
            '&lt;a href="#" class="btn btn-warning btn-xs btn-flat"&gt;&lt;i class="fas fa-edit"&gt;&lt;/i&gt;&lt;/a&gt; ';
          buttons +=
            '&lt;a href="#" type="button" class="btn btn-danger btn-xs btn-flat"&gt;&lt;i class="fas fa-trash-alt"&gt;&lt;/i&gt;&lt;/a&gt;';
          return buttons;
        },
      },
    ],
    initComplete: function (settings, json) {},
  });
}
$(function () {
  getData(); 
  
  $('#btnAdd').on('click', function () {
    $('input[name="action').val('add'); 
    $('form')[0].reset() 
    $("#myModalClient").modal("show");
  })
  
  $("form").on("submit", function (e) {
    e.preventDefault();
    var parameters = new FormData(this);
    submit_with_ajax(
      window.location.pathname,
      "Guardar",
      `¿Desea guardar el cliente?`,
      parameters,
      function () {
        $("#myModalClient").modal("hide");
        tblClient.ajax.reload()
    });
  });
});</code></pre>
          <button onclick="copiar('c24','205')" id="205">Copiar</button>
        </div>
        <ul>
          <li>
            Declaramos la variable <b>tblClient</b> la cual va a tener el
            DataTable para poder ejecutar alguna de sus funciones luego
          </li>
          <li>
            Creamos la funcion <b>getData</b> la cual la utilizaremos para
            ejecutar el DataTable
          </li>
          <li>
            Dentro de la función principal, ejecutamos el <b>getData</b> para
            ejecutar el DataTable
          </li>
          <li>
            Luego, obtenemos el boton de <b>Nuevo registro</b> el cual tiene el
            id <b>btnAdd</b> y en su evento <b>click</b> ejecutamos ciertas
            acciones
          </li>
          <ul>
            <li>
              llamamos el input del action y le ponemos el valor de add, que
              hace referencia a la creacion de un cliente
            </li>
            <li>
              Seleccionamos todos los formularios, llamandolo con el
              <b>'form'</b> y como los guarda en un arreglo, asi sea solo 1,
              accedemos a el y con la funcion <b>reset</b> limpiamos el
              formulario
            </li>
            <li>
              Seleccionamos el modal, por el id que le pusimos, y con la función
              <b>modal</b> le pasamos <b>show</b> el cual hara que se muestre
            </li>
          </ul>
          <li>
            Seleccionamos el formulario y con su evento <b>submit</b> para
            cuando se vaya a enviar el formulario, ejecutamos lo siguiente:
          </li>
          <ul>
            <li>detenemos su evento predeterminado <b>preventDefault</b></li>
            <li>obtennemos los datos del formulario</li>
            <li>
              y con la funcion que ya tenemos creada de
              <b>submit_with_ajax</b> le pasamos los datos, y en el parametro de
              la función, si el envio es correcto, cerramos el modal con el
              parametro <b>hide</b> y luego para no recargar toda la pagina,
              solo le decimos al DataTable que guardamos en la variable, que se
              recargue con el <b>ajax.reload()</b>
            </li>
          </ul>
        </ul>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>

    <details>
      <summary class="videos-titulo" id="video-49">
        <h2>
          <i>Video 49</i>Modal | Editando un registro
        </h2>
      </summary>
      <a target="_blank" class="link-videos" href="https://youtu.be/gyXFrL0lQsE?list=PLxm9hnvxnn-j5ZDOgQS63UIBxQytPdCG7">Link del video 49</a>
      <ul>
        <li>En el <b>list.html</b> de los templates del <b>client</b>, el <b>h5</b> con la clase <b>modal-title</b>, agregamos una etiqueta <b>b</b> y dentro de ella una etiqueta <b>i</b> la cual tiene una clase, pero en el javascript lo vamos a modificar según la accion, y un <b>span</b> la cual contendra el titulo</li>
        <li>Agregamos un <b>input</b> después del input del <b>action</b> con el nombre <b>id</b>, de tipo <b>hidden</b> y con el <b>value</b> en 0, lo utilizaremos para enviar el id de la categoria a modificar</li>
        <li>En el archivo estatico <b>list.js</b> del <b>client</b>, en su función <b>getData()</b>, en la propiedad <b>columns</b>, al valor de <b>gender</b> lo cambio a <b>gender.name</b> porque le voy a mandar el nombre y id del genero en un diccionario, el cual lo modificaremos en los modelos en la funcion <b>toJSON()</b></li>
        <li>en el <b>columnDefs</b>, en su valor <b>var buttons</b>, en el que se agrega el botón de modificar, le agregamos el atributo <b>rel=["edit"]</b> para poder diferenciarlo del botón de eliminar</li>
        <li>Le agregamos el evento a los botones de editar de la siguiente forma</li>
        <div class="codigo">
          <pre><code id="c25">
$('#data tbody').on('click', 'a[rel="edit"]', function (e) {
    modal_title.find("span").html("Edición de un cliente"); 
    modal_title.find("i").removeClass().addClass("fas fa-edit");
    var tr = tblClient.cell($(this).closest("td,li")).index(); 
    var data = tblClient.row(tr.row).data();
    $('input[name="id"]').val(data.id) 
    $('input[name="action"]').val('edit')
    $('input[name="names"]').val(data.names)
    $('input[name="surnames"]').val(data.surnames)
    $('input[name="dni"]').val(data.dni)
    $('input[name="date_birthday"]').val(data.date_birthday)
    $('input[name="address"]').val(data.address);
    $('select[name="gender"]').val(data.gender.id); 
    $("#myModalClient").modal("show"); 
  })
          </code></pre><button onclick="copiar('c25','206')" id="206">Copiar</button>
        </div>
        <ul>
          <li>Obtengo el <b>tbody</b> de la tabla con su id <b>#data</b></li>
          <li>Le agrego el evento click pero en el segundo parametro especificandole a que enlace, presisamente a los de editar</li>
          <li>En la función, utilizo la variable que ya tiene el mtitulo del modal y le modifico la <b>span</b> para ponerle el titulo y a la etiqueta <b>i</b> le quito las clases y luego le agrego la clase para el icono de editar</li>
          <li>en la variable <b>var tr</b> voy a obtener la información de la posición en la cual esta el enlace o botón editar, en la función <b>closest</b> le paso <b>td,li</b> porque cuando esta en tamaño de telefono, dataTable va a cambia de tr a li y con el index obtengo un objeto con la información de esa fila, en este caso, necesito el id del <b>row</b></li>
          <li>En la variable <b>var data</b>, con la función <b>row</b> de la variable la cual estoy ejecutando el dataTable, obtengo la fila pasandole el id de la fila, la cual esta en la variable tr y con la funcion data, obtengo un objeto con la información de la tabla</li>
          <li>Luego llamo cada input del formulario y le pongo los valores de la categoria, y al input invisible, <b>action</b> le pongo <b>edit</b>, para decirle a la vista que voy a modificar una categoria</li>
          <li>En el <b>select</b> del genero, al valor le pongo <b>data.gender.id</b> porque en el modelo, en ese valor le voy a pasar un objeto en el cual el id es el valor o choise del genero, y el name el nombre del genero, por eso en las columnas accediamos al valor <b>name</b></li>
          <li>Y luego al modal le aplicamos un <b>modal("show")</b> para presentarlo</li>
        </ul>
        <li>En la vista del cliente de <b>ClientView</b>, en la función <b>post</b>, agregamos otro elif para verificar si el <b>action</b> es <b>edit</b>, obtenemos la categoria por su id, y modificamos pasandole los valores, quedaria asi</li>
        <div class="codigo">
          <pre><code id="c26">
elif action == 'edit': 
  cli = Client.objects.get(id=request.POST['id']) 
  cli.names=request.POST['names'] 
  cli.surnames=request.POST['surnames'] 
  cli.dni=request.POST['dni'] 
  cli.date_birthday=request.POST['date_birthday'] 
  cli.address=request.POST['address'] 
  cli.gender=request.POST['gender'] 
  cli.save() 
          </code></pre><button onclick="copiar('c26','207')" id="207">Copiar</button>
        </div>
        <li>En el archivo <b>models.py</b> donde esta en modelo <b>Client</b>, modificamos su función <b>toJSON</b> para que en el <b>gender</b> retorne un diccionario donde el id sea el nombre del gender y el name sea el nombre del choice el cual es como el verbose_name, la función quedaria asi</li>
        <div class="codigo">
          <pre><code id="c27">
def toJSON(self):
  item = model_to_dict(self)
  item['gender'] = {'id':self.gender,'name':self.get_gender_display()} 
  item['date_birthday'] = self.date_birthday.strftime('%Y-%m-%d')
  return item
          </code></pre><button onclick="copiar('c27','208')" id="208">Copiar</button>
        </div>
      </ul>
      <div class="flecha-arriba">
        <a href="#inicio"
          ><img class="img-n"
            src="https://djangoyoiner.blob.core.windows.net/portafolio/static/media/img/deslizar-hacia-arriba.png"
            alt=""
        /></a>
      </div>
    </details>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      function copiar(idValor, idBoton) {
        let valor = document.getElementById(idValor).textContent;
        navigator.clipboard.writeText(valor);
        let boton = document.getElementById(idBoton);
        boton.textContent = "Copiado!";
        setTimeout(function () {
          boton.textContent = "Copiar";
        }, 3000);
      }
      window.onload = function () {
        var hash = window.location.hash.substring(1); // Obtener el ID del hash de la URL
        if (hash) {
          var detalle = document.getElementById(hash);
          if (detalle) {
            detalle.setAttribute("open", "open"); // Mostrar el detalle
          }
        }
      };
    </script>
  </body>
</html>
